/*! ds-bootstrap - v1.0.0.35891 - 2025-12-5 10:23pm UTC
* Copyright (c) 2025 ; Not Licensed */!function(){"use strict";var e=DS,t=e.MicroScrollBar,n=(e.detection,function(e){return null!=e&&2===e.split(".").length}),i=function(e,t){return e.some((function(e){var n=t[e.name];return null==n||"outline"===e.name&&n.enabled||!0===n}))};function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}function o(e){return function(e){if(Array.isArray(e))return a(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return a(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return a(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function l(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,(o=i.key,a=void 0,a=function(e,t){if("object"!==r(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!==r(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(o,"string"),"symbol"===r(a)?a:String(a)),i)}var o,a}var s=DS,c=s._,u=s.pubSub,f=s.events,d=s.constants,h=s.utils,p=s.translationStore,y=[],b=function(){function e(t,n,i){var r=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.frame=t,this.frame.blocked=!1,this.preso=i,this.setupControlOptions(),this.layouts={},this.dockedStates={},this.dockSettings={dockedState:d.docked.NONE,width:0},this.setLayout(this.frame.default_layout,d.refs.FRAME),DS.flagManager.localizationPlatform&&!c.isEmpty(n)&&this.setLocalizationData(n,!0),this.resourceDescription=this.frame.resourceData.description;var o=i.getFirstSlide();for(var a in this.slideWidth=o.get("width"),this.slideHeight=o.get("height"),this.temp=[],this.frame.layouts)this.temp.push(a);this.rtl="rtl"===this.frame.textdirection,this.hasModernText=0!==this.frame.renderingEngineType,this.dir=this.dir.bind(this),c.bindAll(this,"onLayoutChanged"),u.on(f.controlLayout.CHANGED,this.onLayoutChanged),u.on(f.controlLayout.UPDATE,(function(e,t,n){r.frame.controlLayouts[e]=n,r.setLayout(e,t)})),u.on(f.controlOptions.CHANGED,(function(e){var t=r.optionChangesRequireMenuRefresh(r.frame.controlOptions.menuOptions,e.menuOptions);r.frame.controlOptions=e,r.setupControlOptions(),u.trigger(f.controlOptions.RESET),t&&u.trigger(f.navData.REFRESH_VIEW)})),u.on(f.frame.FONT_SCALE,(function(e){r.frame.fontscale=e,u.trigger(f.controlOptions.RESET)})),u.on(f.glossary.UPDATE,(function(e){r.frame.glossaryData=e,u.trigger(f.glossary.REFRESH_VIEW)})),u.on(f.navData.UPDATE,(function(e){r.frame.navData=e,u.trigger(f.navData.REFRESH_VIEW)})),u.on(f.resources.UPDATE,(function(e){r.frame.resourceData.resources=e,u.trigger(f.resources.REFRESH_VIEW)})),u.on(f.resources.UPDATE_DESCRIPTION,(function(e){r.frame.resourceData.description=e,u.trigger(f.resources.REFRESH_VIEW)})),u.on(f.layer.DIALOG_SHOWN,(function(e){var t=DS.windowManager.getCurrentWindow();u.trigger(f.frameModel.BLOCKED_CHANGED,t.frame.id,!0,e)})),u.on(f.layer.DIALOG_HIDDEN,(function(){var e=DS.windowManager.getCurrentWindow();u.trigger(f.frameModel.BLOCKED_CHANGED,e.frame.id,!1)})),u.on(f.localization.LANGUAGE_UPDATED,(function(){r.setLocalizationData(DS.localizationManager.getCurrentFrameData())})),u.on(f.localization.REVIEW_FRAME_UPDATED,(function(){r.updateReviewStrings()}))}var t,n,r;return t=e,n=[{key:"traverseMenu",value:function(e,t){var n=this;t.forEach((function(i){e(i),null!=i.links&&t.length>0&&n.traverseMenu(e,i.links)}))}},{key:"updateMenuStrings",value:function(){var e=h.getPath(this.frame,"navData.outline.links",[]);this.traverseMenu((function(e){e.displaytext=p.getUpdatedTextData("menuItem","".concat(e.translationId,"-Name"),e.displaytext)}),e)}},{key:"updateGlossaryStrings",value:function(){(this.frame.glossaryData||[]).forEach((function(e){var t=e.translationId;e.title=p.getUpdatedTextData("glossaryItem","".concat(t,"-Term"),e.title),e.content=p.getUpdatedTextData("glossaryItem","".concat(t,"-Definition"),e.content)}))}},{key:"updateResourcesStrings",value:function(){h.getPath(this.frame,"resourceData.resources",[]).forEach((function(e){var t=e.translationId;e.title=p.getUpdatedTextData("resourceItem","".concat(t,"-Title"),e.title)}))}},{key:"updateNoteStrings",value:function(){(this.frame.notesData||[]).forEach((function(e){var t=e.slideId,n=c.last(t.split(".")),i=p.getUpdatedTextData("slideNote","".concat(n,"-Note"));null!=i&&null!=DS.renderHtmlString&&(e.content=DS.renderHtmlString(i))}))}},{key:"updateReviewStrings",value:function(){this.updateMenuStrings(),this.updateGlossaryStrings(),this.updateResourcesStrings(),this.updateNoteStrings(),this.title.text=p.getUpdatedTextData("projectTitle","project-Title",this.title.text),this.notifyStringsUpdated()}},{key:"setLocalizationData",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.frame.stringTables=e.stringTables,this.frame.navData=e.navData,this.frame.resourceData=e.resourceData,this.frame.glossaryData=e.glossaryData,this.frame.notesData=e.notesData,this.frame.controlStrings=e.controlStrings.reduce((function(e,t){var n=t.id,i=t.value;return e[n]=i,e}),{}),this.title.text=this.frame.controlStrings.title,this.logo.altText=this.frame.controlStrings.logoAltText,this.frame.textdirection=e.textdirection,this.rtl="rtl"===this.frame.textdirection,"bylanguage"===this.initialSidebarPos&&(this.sidebarOpts.sidebarPos=this.getSidebarPos()),t||this.notifyStringsUpdated()}},{key:"notifyStringsUpdated",value:function(){u.trigger(f.strings.UPDATE_STRINGS),u.trigger(f.navData.REFRESH_VIEW),u.trigger(f.glossary.REFRESH_VIEW),u.trigger(f.resources.REFRESH_VIEW),u.trigger(f.transcript.REFRESH_VIEW),u.trigger(f.frame.REFLOW),u.trigger(f.frame.LOCALIZATION_UPDATED)}},{key:"getSidebarPos",value:function(){return"bylanguage"===this.initialSidebarPos?DS.localizationManager.getCurrentLangIsRTL()?"right":"left":this.initialSidebarPos}},{key:"setupControlOptions",value:function(){var e=this.frame.controlOptions.sidebarOptions;this.initialSidebarPos=e.sidebarPos,e.sidebarPos=this.getSidebarPos(),this.sidebarOpts=e,this.bottomBarOpts=this.frame.controlOptions.bottomBarOptions,this.topTabs=e.tabs.linkRight||[],this.topTabsLeft=e.tabs.linkLeft||[],this.topTabsRight=e.tabs.linkRight||[],this.sidebarTabs=e.tabs.sidebar||[],this.outlineInSidebar=this.sidebarTabs.some((function(e){return"outline"===e.name})),this.buttonOptions=this.frame.controlOptions.buttonoptions,this.title={enabled:e.titleEnabled,text:e.titleText},this.logo={enabled:e.logoEnabled,altText:e.logoAltText,altTextEnabled:e.logoAltTextEnabled}}},{key:"optionChangesRequireMenuRefresh",value:function(e,t){return e.wrapListItems!==t.wrapListItems||e.autonumber!==t.autonumber}},{key:"onLayoutChanged",value:function(e,t){this.setLayout(e,t)}},{key:"hasTopLinks",value:function(){return 0!==this.topTabsLeft.length||0!==this.topTabsRight.length}},{key:"getControlString",value:function(e){return p.getUpdatedTextData("frameLink","".concat(e,"-Link"),h.getPath(this.frame,"controlStrings.".concat(e),null))}},{key:"getString",value:function(e,t){var n=this.currLayout.string_table,i=this.frame.stringTables[n].string[e];return null==i?(y.includes(e)||(y.push(e),console.warn("could not find ".concat(e," in string table ").concat(n))),null!=t?t:e.replace("acc_","").replace(/_/g," ")):i}},{key:"setDocked",value:function(e,t,n){t===d.docked.NONE?(this.dockedStates[e]=null,delete this.dockedStates[e]):this.dockedStates[e]={dockedState:t,width:n};var i=Object.keys(this.dockedStates);0===i.length?this.dockSettings={dockedState:d.docked.NONE,width:0}:t!==d.docked.NONE?this.dockSettings={dockedState:t,width:n}:this.dockSettings=this.dockedStates[i[0]]}},{key:"getDockedWidth",value:function(){var e=this.dockSettings,t=e.dockedState,n=e.width;return t!==DS.constants.docked.NONE?n:0}},{key:"setLayout",value:function(e,t){this.currLayout=this.frame.layouts[e],this.currControlLayout=this.frame.controlLayouts[e],this.layouts[t]=this.currControlLayout,this.topbarHasTabs=i([].concat(o(this.topTabsRight),o(this.topTabsLeft)),e),u.trigger(f.frameModel.LAYOUT_CHANGED,this.currControlLayout,t)}},{key:"getWndControlLayout",value:function(e){return this.layouts[e]||this.currControlLayout}},{key:"dir",value:function(e){if(null!=e)return this.rtl?e.reverse():e}}],n&&l(t.prototype,n),r&&l(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}(),v=b;function m(e){return m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},m(e)}function g(e,t,n){return(t=O(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function w(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var i,r,o,a,l=[],s=!0,c=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(i=o.call(n)).done)&&(l.push(i.value),l.length!==t);s=!0);}catch(e){c=!0,r=e}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw r}}return l}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return S(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return S(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function S(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function k(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,O(i.key),i)}}function O(e){var t=function(e,t){if("object"!==m(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!==m(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===m(t)?t:String(t)}var E,C=DS,x=C._,P=C.scaler,L=C.detection,T=C.detection.orientation,j=C.utils,D=j.getPath,A=j.scaleVal,I=j.pxify,R=C.dom,B=R.addClass,M=R.removeClass,H=C.constants.refs.FRAME,N=C.pubSub,F=C.events,W=document.getElementById(DS.constants.els.PRESO),V={x:"w",xl:"w",xp:"w",y:"h",yl:"h",yp:"h",wl:"w",wp:"w",hl:"h",hp:"h"},z=["wrapper","lightBoxWrapper"],U=new ResizeObserver((function(){N.trigger(F.strings.UPDATE_STRINGS),N.trigger(F.frame.REFLOW)})),K=function(e){null!=e.beforeUpdateHook&&e.beforeUpdateHook()},Q=function(e,t,n){K(e),n=e.w>0?n:0,e.y=e.top=0,e.x=e.left=t.l+n,e.update(!0),t.l=e.x+e.w},G=function(e,t,n){K(e),n=e.w>0?n:0,e.y=e.top=0,e.x=e.left=t.r-e.w-n,e.update(!0),t.r=e.x},q=function(e,t,n){K(e),n=e.h>0?n:0,e.x=e.left=0,e.y=e.top=t.t+n,e.update(!0),t.t=e.y+e.h},Z=function(e,t,n){K(e),n=e.h>0?n:0,e.x=e.left=0,e.y=e.top=t.b-e.h-n,e.update(!0),t.b=e.y},Y={l:Q,r:G,t:q,b:Z},X=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.ViewLogic=t,this.params=n,this.nameKey=null!=n&&n.nameKey||t.nameKey,this.enabled=!0}var t,n,i;return t=e,n=[{key:"init",value:function(e){if(this.hasInited)console.warn("has already initialized",this);else{var t;this.hasInited=!0;var n=this.ViewLogic,i=this.params;null==i&&null!=n?i=n:null!=n&&(t=!0),x.isFunction(i)&&(i=i(this.nameSpace||e)),i.w=i.w||i.minW||100,i.h=i.h||i.minH||100,this.orientationProps(i,"x","y","w","h","scale"),(i=Object.assign({position:"absolute",x:0,y:0,minW:0,maxW:Number.MAX_SAFE_INTEGER,minH:0,maxH:Number.MAX_SAFE_INTEGER,wPad:0,scale:1,visibility:"reflow",visual:!0,bgColor:null,overflow:"hidden",origin:"center center",z:null,opacity:null,visible:!0,attrs:{},noContent:!0,calcTextSize:!1},i)).calcTextSize&&(i.noContent=!1),this.noContent=i.noContent,this.lastWidthByText=0,this.lastHeightByText=0,this.padLeft=i.padLeft||0,this.padRight=i.padRight||0,this.childDef=i.childDef,this.childViews=i.childViews,this.updateHook=i.updateHook,this.onCaptionChanged=i.onCaptionChanged,i.childViews=null,i.updateHook=null,i.childDef=null,i.nameKey=null,i.onCaptionChanged=null,Object.assign(this,i.methods),i.methods=null,this.createDynamicGetters(i),i.visual&&(this.el=document.createElement(i.tag||"div"),this.initAttributes(i.attrs),this.initStyles(i),"button"===i.tag&&(this.el.style.cursor="pointer"),this.initContent(i),i.add&&W.appendChild(this.el),this.hasInitialized=!0),this.initVisibility(i),this.initChildRefs(),t&&(this.viewLogic=new n(this))}}},{key:"orientationProp",value:function(e,t){var n="".concat(t,"l"),i="".concat(t,"p");null!=e[n]&&null!=e[i]&&(e[t]=function(){return T.isLandscape?this[n]:this[i]})}},{key:"orientationProps",value:function(e){for(var t=this,n=arguments.length,i=new Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];i.forEach((function(n){return t.orientationProp(e,n)}))}},{key:"initContent",value:function(e){if(this.noContent){var t=this.html;null!=t&&(this.el.innerHTML=t)}else{var n="button"===e.tag?"span":"div";this.content=document.createElement(n),this.content.setAttribute("class","view-content"),"div"===n&&this.content.setAttribute("tabindex",-1),Object.assign(this.content.style,{position:"relative","text-align":"center",top:0}),Object.assign(this.content.style,e.contentStyle||{}),this.initAttributes(e.contentAttrs,this.content),null!=e.html&&(this.content.innerHTML=this.html),this.el.appendChild(this.content)}}},{key:"initAttributes",value:function(e,t){for(var n in e)if(null!=e[n]){var i=e[n];"id"===n?i=x.kebabCase(i):"tabindex"===n&&-1!==i&&this.el.setAttribute("data-".concat(n),i),(t||this.el).setAttribute(n,i)}}},{key:"initStyles",value:function(e){if(Object.assign(this.el.style,{position:e.position,left:0,top:0,backgroundColor:e.bgColor,border:e.border,overflow:e.overflow,transformOrigin:e.origin,opacity:e.opacity,zIndex:e.z}),null!=D(e,"style.display")){var t=e.style.display;"boolean"==typeof t&&(e.style.display=t?"block":"none")}Object.assign(this.el.style,e.style)}},{key:"initVisibility",value:function(e){!1===e.visible&&this.setVisibility(!1)}},{key:"initChildRefs",value:function(){this.children=[],this.childList=[];for(var e=this.el.querySelectorAll("[data-ref]"),t=0;t<e.length;t++)this.children[e[t].dataset.ref]={el:e[t]}}},{key:"updateStrings",value:function(){null!=this.ariaStringId&&this.el.setAttribute("aria-label",ne.model.getString(this.ariaStringId)),null!=this.updateDomStrings&&(this.updateDomStrings(),this.calcTextSize&&(this.doTextCalcs(),this.update()))}},{key:"updateHtml",value:function(){var e=this.html;null!=e&&(this.noContent?this.el.innerHTML=e:this.content.innerHTML=e)}},{key:"createDynamicGetters",value:function(t){for(var n in t)"id"!==n&&null!=t[n]&&e.prop(this,n,t[n])}},{key:"updateSize",value:function(){"button"===this.tag?(this.el.style.width=I(A(Math.max(this.w,24))),this.el.style.height=I(A(Math.max(this.h,24)))):(this.el.style.width=I(A(this.w)),this.el.style.height=I(A(this.h)))}},{key:"updateTrans",value:function(){var e=z.includes(this.nameKey)?x.identity:A,t=["translate(".concat(I(e(this.x)),", ").concat(I(e(this.y)),")")];if(this.xs)for(var n=0;n<this.xs.length;n++)t.push("translateX(".concat(I(e(this.xs[n])),")"));if(this.ys)for(var i=0;i<this.ys.length;i++)t.push("translateY(".concat(I(e(this.ys[i])),")"));L.deviceView.isMobile&&null!=this.scale&&t.push("scale(".concat(this.scale,")")),this.el.style.transform=t.join(" ")}},{key:"getMinChildWidthInfo",value:function(){return null==this.children?0:this.children.reduce((function(e,t){return t.visible?(e.count++,e.minWidth+=t.minW,e):e}),{count:0,minWidth:0})}},{key:"calcChildrensWidth",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(){return!0},t=0;return null!=this.children&&this.children.forEach((function(n){e(n)&&(n.update(),t+=n.w)})),t}},{key:"calcChildrensHeight",value:function(){var e=0;return null!=this.children&&this.children.forEach((function(t){t.update(),e+=t.h})),e}},{key:"positionChildren",value:function(e){var t=e.vertical,n=e.toTop,i=e.toLeft,r=e.pad,o=e.startPos,a=e.reverse,l=void 0!==a&&a,s=e.hook,c=void 0===s?x.noop:s,u=e.rtl,f=void 0!==u&&u,d=e.sizeToChildren,h=e.alignChild,p=t?n?Z:q:i?G:Q,y=Object.assign({l:o,r:o,t:o,b:o},e.bounds),b=l!==f?this.children.slice().reverse():this.children,v=w(t?["height","t"]:["width","l"],2),m=v[0],g=v[1],S=T.isLandscape?x.first:x.last;b.forEach((function(e){(e.beforeReflowHook||x.noop)();var t=h&&S(e.parentAlign);!e.visible&&"reflow"===e.visibility||"-"===t||(t?Y[t](e,y,r):p(e,y,r),c(e))})),d&&(this[m]=y[g])}},{key:"flowChildren",value:function(e){(e=Object.assign({pad:0,sizeToChildren:!1,startPos:0,toLeft:!1,reverse:!1,fullUpdate:!1,rtl:!1,hook:function(){}},e)).fullUpdate?this.hasAllChildren()&&(this.positionChildren(e),this.updateSize()):this.positionChildren(e)}},{key:"isBlocked",value:function(){if(L.theme.isClassic)return!1;var e=ne.getTopNameSpace(),t=ne.getCurrentNameSpace(),n=ne.getBlocker(t.name);return null!=e&&null!=n&&n.visible}},{key:"setEnabled",value:function(e,t){this.enabled!=e&&(this.enabled=e,e?M(this.el,"cs-disabled"):B(this.el,"cs-disabled"),this.el.setAttribute("aria-disabled",!e));var n=this.el.getAttribute("data-tabindex");null!=n&&this.el.setAttribute("tabindex",t&&!e||this.isBlocked()?-1:n)}},{key:"setVisibility",value:function(e,t){var n=this.visible!==e,i=!1;return"no-reflow"===this.visibility?(this.el.style.visibility=e?"visible":"hidden",this.el.style.pointerEvents=e?"":"none"):"reflow"===this.visibility&&(this.el.style.display=e?"block":"none",i=!0),t&&(this.layoutDefaultVisible=e),this.visible=e,n&&D(this,"viewLogic.didChangeVisibility")&&this.viewLogic.didChangeVisibility(e),i}},{key:"ariaVisibleWithChildren",value:function(){this.el.setAttribute("aria-hidden",!this.children.some((function(e){return e.visible})))}},{key:"childVisibilityChanged",value:function(){null!=this.childVisibilityChangedHook?this.childVisibilityChangedHook():null!=this.parent&&this.parent.childVisibilityChanged()}},{key:"update",value:function(e){null==this.beforeUpdateHook||e||this.beforeUpdateHook(),this.updateSize(),this.updateTrans(),null!=this.updateHook&&this.updateHook()}},{key:"updateChildren",value:function(e){this.children.forEach((function(t){t.update(),e&&t.updateChildren(e)}))}},{key:"initTextListener",value:function(){var e=this.el.querySelector(".resizeable-text");null!=e&&U.observe(e)}},{key:"doTextCalcs",value:function(){var e=1/P.getScale(),t=this.content.style.width,n=this.el.style.display;this.el.style.display="block",this.content.style.width="fit-content";var i=this.content.clientWidth*e,r=this.content.clientHeight*e;this.content.style.width=t,this.el.style.display=n,this.lastWidthByText=i+4+this.padLeft+this.padRight,this.lastHeightByText=r+4}},{key:"wasAppended",value:function(){var e=this;this.calcTextSize&&(this.doTextCalcs(),this.initTextListener()),null!=this.childViews&&this.childViews.forEach((function(t){"string"==typeof t&&(t=ne.getOrCreateView(t)),t.init(e.nameSpace),e.append(t)}))}},{key:"setChildNum",value:function(e){this.defaultChildNum=e}},{key:"hasAllChildren",value:function(){return this.hasInitialized&&this.children.length===this.defaultChildNum}},{key:"append",value:function(e,t){if(e.parent=this,this.children[x.camelCase(e.nameKey)]=e,t?this.children.unshift(e):this.children.push(e),this.noContent||e.outsideContent?this.el.appendChild(e.el):this.content.appendChild(e.el),e.wasAppended(),e.update(),null==e.nameSpace){for(var n=this;null!=n&&null==n.nameSpace;)n=n.parent;e.nameSpace=n.nameSpace,ne.hasNamespace(n.nameSpace)?ne.getNamespace(n.nameSpace)[e.nameKey]=e:console.warn("could not find namespace ".concat(n.nameSpace," when appending"))}}},{key:"destroy",value:function(){var e,t;null!=this.children&&this.children.forEach((function(e){return e.destroy()})),null==this||null===(e=this.viewLogic)||void 0===e||null===(t=e.teardown)||void 0===t||t.call(e),null!=this.el.parentNode&&this.el.parentNode.removeChild(this.el),this.nameSpace=null}},{key:"startFloat",value:function(){this.floating=!0,this.lastFloatParent=this.el.parentNode,this.shouldReparent&&ne.getNamespace(this.nameSpace).wrapper.el.appendChild(this.el)}},{key:"endFloat",value:function(){this.floating&&(this.floating=!1,this.shouldReparent&&this.lastFloatParent.appendChild(this.el))}},{key:"right",value:function(){return this.floating?0:this.x+this.w}},{key:"bottom",value:function(){return this.floating?0:this.y+this.h}},{key:"getBox",value:function(){if(null==ne.getNamespace(this.nameSpace).wrapper)return null;var e=L.theme.isClassic&&ne.getNamespace(this.nameSpace).wrapper.dimScale||1,t=(ne.getNamespace(this.nameSpace).wrapper.scale||1)*e,n=this.x,i=this.y,r=this.w,o=this.h,a=this.offsets,l=(a=void 0===a?{}:a).l,s=void 0===l?0:l,c=a.t,u=this;for(n=(n+s)*t,i=(i+(void 0===c?0:c))*t;u=u.parent;){var f=null!=u.parent?t:1,d=u.offsets,h=(d=void 0===d?{}:d).l,p=void 0===h?0:h,y=d.t,b=void 0===y?0:y;n+=(u.x+p)*f,i+=(u.y+b)*f}return{x:n,y:i,w:r*=t,h:o*=t}}}],n&&k(t.prototype,n),i&&k(t,i),Object.defineProperty(t,"prototype",{writable:!1}),e}();X.propFns={"fit-to-text-w":function(){return Math.max(this.minW,this.lastWidthByText)+this.wPad},"fit-to-text-h":function(){return Math.max(this.minH,this.lastHeightByText)},"vertical-center":function(){return this.parent.h/2-this.h/2},"horizontal-center":function(){return this.parent.w/2-this.w/2}},X.prop=function(e,t,n){if("number"==typeof n)e[t]=n;else if("string"==typeof n&&null!=X.propFns[n])Object.defineProperties(e,g({},t,{get:X.propFns[n],set:x.noop}));else if("string"==typeof n&&n.endsWith("%")){var i=parseFloat(n)/100,r=null!=V[t]?V[t]:t;Object.defineProperties(e,g({},t,{get:function(){return this.parent[r]?e.parent[r]*i:0},set:x.noop}))}else if(x.isFunction(n)){var o;if("w"===t||"h"===t){var a=n.bind(e),l=t.toUpperCase(),s=e["min".concat(l)],c=e["max".concat(l)];o=function(){var e=a();return e<s?e=s:e>c&&(e=c),e}.bind(e)}else o=n;Object.defineProperties(e,g({},t,{get:o,set:x.noop}))}else e[t]=n;e[t]=n};var $={},J={},ee={},te=function(e){var t,n,i=m(e);return"string"===i?t=e:"object"===i?n=e[t=Object.keys(e)[0]]:console.warn("invalid view definition. ".concat(e," is a ").concat(m(e))),{viewName:t,children:n}},ne={nameSpaces:{},nsStack:[],iconTextEl:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return DS.detection.deviceView.isMobile?"":'<span class="frame-icon-text"\n      style="'.concat(t,'">').concat(ne.model.getString(e),"</span>")},getNamespace:function(e){return this.nameSpaces[e]},hasNamespace:function(e){return null!=this.nameSpaces[e]},setModel:function(e){return this.model=e,this},resetStates:function(e){var t=this.getNamespace(e);x.forEach(t,(function(e){return e&&e.setEnabled&&e.setEnabled(!0)}))},updateVisibility:function(e,t){var n=!1;for(var i in e){var r=this.nameSpaces[t][i];if(null!=r)r.setVisibility(e[i],!0)&&(n=!0)}return n},def:function(e,t,n){null==n?t.nameKey=e:n.nameKey=e;var i=new X(t,n);return null==$[e]?($[e]=i,J[e]={ViewLogic:t,p:n},ee[e]=0):console.warn("views connot share the same name ".concat(e)),i},addNameSpace:function(e){E=e,this.nameSpaces[E]=this.nameSpaces[E]||{name:e,topLevelElements:[],isAttached:!0,tabReachable:!0,detach:function(){this.isAttached=!1,this.topLevelElements.forEach((function(e){return W.removeChild(e.el)}))},reattach:function(){this.isAttached=!0,this.topLevelElements.forEach((function(e){return W.appendChild(e.el)}))},updateTabIndex:function(){var e=this,t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],n=function(t){if(!t.dataset.leavealone){var n=t.getAttribute("data-tabindex");null==n&&(n=t.tabIndex,t.setAttribute("data-tabindex",n)),t.tabIndex=e.tabReachable?n:-1}};this.topLevelElements.forEach((function(i){var r=function(e,t){t?e.el.removeAttribute("aria-hidden"):e.el.setAttribute("aria-hidden",!0)};t&&(i.children.some((function(e){return"startoverlay"===e.nameKey}))?i.children.filter((function(e){return"startoverlay"!==e.nameKey})).forEach((function(t){return r(t,e.tabReachable)})):r(i,e.tabReachable)),i.el.querySelectorAll("[tabIndex]:not(.acc-shadow-el):not(.slide-object)").forEach((function(e){return n(e)})),"lightBoxClose"===i.nameKey&&n(i.el)}))}}},update:function(e){function t(t,n){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(e,t){e.forEach((function(e){x.isFunction(e)?e():Array.isArray(e)?update(e,t):null==e||!e.update||e.noUpdate&&!t||(e.update(),t&&e.updateHtml())}))})),getViewConfig:function(e){var t=J[e];return{name:e,ViewLogic:t.ViewLogic,p:t.p}},getOrCreateView:function(e){if(++ee[e]>1){var t=J[e],n=t.ViewLogic,i=t.p;return new X(n,i)}return $[e]},tree:function(e,t){for(var n=this,i=[],r=function t(i){if(null!==i){var r=te(i),o=r.viewName,a=r.children,l=n.nameSpaces[e][o]=n.getOrCreateView(o);if(null!=l){if(l.nameSpace=e,D(a,"length")>0){l.setChildNum(a.length),l.hasChildren=!0;for(var s=0;s<a.length;s++)t(a[s])}}else console.warn("could not find view '".concat(o,"'"))}},o=function t(r,o){if(null!==r){var a=te(r),l=a.viewName,s=a.children,c=n.nameSpaces[e][l];if(null!=c){if(c.init(e),null!=o?o.append(c):n.nameSpaces[e].topLevelElements.push(c),null!=c.childDef&&c.childDef(),i.push(c),c.hasChildren)for(var u=0;u<s.length;u++)t(s[u],c)}else console.warn("could not find view '".concat(l,"'"))}},a=0;a<t.length;a++)r(t[a]);for(var l=0;l<t.length;l++)o(t[l]);return i},getCurrentNameSpace:function(){return this.nameSpaces[E]},getTopNameSpace:function(){return x.last(this.nsStack)},getCurrentNameSpaceString:function(){return E},getFrameNameSpace:function(){return this.nameSpaces[H]},getBlocker:function(e){switch(e){case DS.constants.refs.FRAME:return ne.getNamespace(e).frameBlocker;case"LightboxWnd":return ne.getNamespace(e).lightBoxBlocker;case"LightboxControlsWnd":return ne.getNamespace(e).lightBoxControlsBlocker;default:return null}}};function ie(e){return function(e){if(Array.isArray(e))return e}(e)||ae(e)||oe(e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function re(e){return function(e){if(Array.isArray(e))return le(e)}(e)||ae(e)||oe(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function oe(e,t){if(e){if("string"==typeof e)return le(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?le(e,t):void 0}}function ae(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function le(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}var se,ce=DS,ue=ce._,fe=ce.pubSub,de=ce.events,he={},pe=!1,ye={},be={},ve=function(e){try{var t=re(document.styleSheets).find(e);se=re(t.rules)}catch(e){}};if(ve((function(e){return null!=e.href&&e.href.includes("output.min.css")})),fe.on(de.scheme.CHANGED,(function(e){ve((function(t){return null!=t.ownerNode&&t.ownerNode.id===e})),ye={},he.initializeCssColorVars()})),null!=se){var me=function(e,t){var n,i;if(pe){n="".concat(t,".cs-").concat(ne.model.frame.default_layout);var r=e.split(" ");i=(r=r.map((function(e){return(e.startsWith(".")?".":"")+ue.compact(e.split(".")).reverse().join(".")}))).join(" ")}else{ne.model;n=".cs-".concat(ne.model.frame.default_layout).concat(t),i=e}return"".concat(n," ").concat(i)};he.getColor=function(e,t,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",r=me(t,i);if(null==ye[r]){var o=se.find((function(e){return e.selectorText===r}));null==o&&(pe=!pe,r=me(t,i),o=se.find((function(e){return e.selectorText===r}))||{}),ye[r]=o.style||{}}return ye[r][n]||""}}else{he.usePolyfill=!0;var ge=function(e,t){var n=document.createElement(e);return n.setAttribute("class",t),n},we=/^\./,Se=/\./g;he.getColor=function(e,t,n){var i,r,o=(arguments.length>4&&void 0!==arguments[4]&&arguments[4]||t).split(/\s+/),a=ne.getNamespace(e).wrapper.el;o.forEach((function(e,t){if(we.test(e))s=e.replace(Se," "),i=ge("div",s);else{var n=ie(e.split(".")),o=n[0],l=n.slice(1);i=ge(o,l.join(" "))}var s;0===t&&(i.style.position="absolute",i.style.display="none",r=i),a.appendChild(i),a=i}));var l=window.getComputedStyle(i).getPropertyValue(n);return""===l&&"border-color"===n&&(l=window.getComputedStyle(i).getPropertyValue("border-top-color")),r.parentNode.removeChild(r),l||""}}he.initializeCssColorVars=function(){be={},he.createCssColorVar("--color-messagebox-title-separator",".message-window-header p","border-bottom-color"),he.createCssColorVar("--color-messagebox-button-border",".message-window button.slide-object-button","border-color"),he.createCssColorVar("--color-messagebox-button-hover",".message-window button.slide-object-button:hover","background-color","",".resources .resources-list a.button-tapped")},he.createCssColorVar=function(e,t,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",r=arguments.length>4&&void 0!==arguments[4]&&arguments[4];if(!be[e]){var o="";if(he.usePolyfill){var a=Object.keys(ne.nameSpaces);if(0===a.length)return void requestAnimationFrame((function(){he.createCssColorVar(e,t,n,i,r)}));o=a[0]}var l=he.getColor(o,t,n,i,r);if(!ue.isEmpty(l)&&e)be[e]=!0,document.getElementById("preso").style.setProperty(e,l)}};var ke=he;function Oe(e){return Oe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Oe(e)}function Ee(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,Ce(i.key),i)}}function Ce(e){var t=function(e,t){if("object"!==Oe(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!==Oe(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===Oe(t)?t:String(t)}var xe=DS,Pe=xe.detection,Le=xe.pubSub,Te=xe.events,_e=327,je=function(){function e(){var t,n,i,r=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),t=this,i=function(){r.scale=Math.min(window.innerWidth/r.ratioW,window.innerHeight/r.ratioH),r.scale>1&&r.preventUpscale&&(r.scale=1),r.scaledRatioH=r.ratioH*r.scale,r.scaledRatioW=r.ratioW*r.scale},(n=Ce(n="onResize"))in t?Object.defineProperty(t,n,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[n]=i,this.scale=1,this.ratioW=720,this.ratioH=540,this.isMobileChrome=Pe.os.isIOS&&Pe.browser.isChrome,Pe.deviceView.isMobile?this.isScaled=!0:this.setScaleMode(),DS.flagManager.playerSizeOption&&this.isLockedFit&&(window.addEventListener("resize",this.onResize),this.onResize()),Le.on("frame:modelReady",(function(){var e,t,n,i,o=!ne.model.frame.chromeless&&!Pe.env.hideFrame;r.ratioW=null==ne||null===(e=ne.model)||void 0===e?void 0:e.slideWidth,r.ratioH=null==ne||null===(t=ne.model)||void 0===t?void 0:t.slideHeight,r.preventUpscale=null==ne||null===(n=ne.model)||void 0===n||null===(i=n.frame)||void 0===i?void 0:i.preventUpscale,!ne.model.sidebarOpts.closed&&ne.model.sidebarOpts.sidebarEnabled||(_e=0),o&&(r.ratioW+=_e,r.ratioH+=130),r.onResize()})),this.setupFullScreen()}var t,n,i;return t=e,(n=[{key:"setupFullScreen",value:function(){var e=this;document.addEventListener("fullscreenchange",(function(){var t,n=null!=document.fullscreenElement,i="preso"===(null===(t=document.fullscreenElement)||void 0===t?void 0:t.id);n&&!i?e.forcePlayerScaled():e.playerScaleIsForced&&e.setScaleMode(),Le.trigger(Te.frameWindow.FULLSCREEN,{preso:n&&i})}))}},{key:"setScaleMode",value:function(){this.isLockedFit="LockedFit"===window.globals.scale,this.isLocked="Locked"===window.globals.scale,this.isScaled="Scaled"===window.globals.scale,Le.trigger(Te.frame.REFLOW),Le.trigger(Te.frame.SCALE)}},{key:"forcePlayerScaled",value:function(){this.isLockedFit=this.isLocked=!1,this.isScaled=!0,this.playerScaleIsForced=!0}},{key:"shouldUseCache",value:function(){return this.isMobileChrome&&document.activeElement.classList.contains("acc-textinput")}},{key:"innerWidth",get:function(){return this.isLockedOption?this.isLocked?this.ratioW:this.scaledRatioW:window.innerWidth}},{key:"innerHeight",get:function(){return this.isLockedOption?this.isLocked?this.ratioH:this.scaledRatioH:window.innerHeight}},{key:"minHeight",get:function(){return Math.min(this.innerHeight,window.innerHeight)}},{key:"minWidth",get:function(){return Math.min(this.minWidth,window.innerWidth)}},{key:"x",get:function(){return this.isLockedOption?Math.max(0,(window.innerWidth-this.innerWidth)/2):0}},{key:"y",get:function(){return this.isLockedOption?Math.max(0,(window.innerHeight-this.innerHeight)/2):0}},{key:"height",get:function(){return this.shouldUseCache()?(this.cachedOuterHeight!==this.outerHeight&&(this.cachedHeight=this.outerHeight-(this.cachedOuterHeight-this.cachedHeight),this.cachedOuterHeight=this.outerHeight),this.cachedHeight):(this.cachedOuterHeight=this.outerHeight,this.cachedHeight=this.innerHeight,this.innerHeight)}},{key:"width",get:function(){return this.innerWidth}},{key:"isLockedOption",get:function(){return DS.flagManager.playerSizeOption&&(this.isLockedFit||this.isLocked)}}])&&Ee(t.prototype,n),i&&Ee(t,i),Object.defineProperty(t,"prototype",{writable:!1}),e}(),De=new je;DS.frameWindow=De;var Ae=De;function Ie(e){return Ie="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ie(e)}function Re(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,(r=i.key,o=void 0,o=function(e,t){if("object"!==Ie(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!==Ie(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(r,"string"),"symbol"===Ie(o)?o:String(o)),i)}var r,o}var Be,Me,He,Ne,Fe=DS,We=Fe.dom,Ve=Fe._,ze=Fe.detection,Ue=Fe.pubSub,Ke=Fe.events,Qe=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),Ve.bindAll(this,"onLoaderShow","onLoaderMute","onLoaderUnmute","onLoaderHide","onRemoveLoaderTitle");var t={};t[Ke.loader.SHOW]=this.onLoaderShow,t[Ke.loader.MUTE]=this.onLoaderMute,t[Ke.loader.UNMUTE]=this.onLoaderUnmute,t[Ke.loader.HIDE]=this.onLoaderHide,t[Ke.loader.REMOVE_TITLE]=this.onRemoveLoaderTitle,t[Ke.startOverlay.READY]=this.onLoaderHide,We.addClass(document.body,"theme-".concat(window.globals.themeName)),document.body.classList.contains("view-tablet")&&We.addClass(document.body,"is-touchable-tablet"),ze.env.is360&&!Ae.isLockedOption&&We.addClass(document.body,"is-360"),Ue.on(t),this.setupBrandingColor()}var t,n,i;return t=e,(n=[{key:"setupBrandingColor",value:function(){window.requestAnimationFrame((function(){var e=ke.getColor(DS.constants.refs.FRAME,".cs-brandhighlight-bg","background-color",".cs-base.cs-custom-theme");null!=e&&(DS.constants.theme.brandingHighlight=e,Ue.trigger(Ke.app.BRANDING_COLOR,e))}))}},{key:"onRemoveLoaderTitle",value:function(){var e=document.querySelector("body > .mobile-load-title-overlay");null!=e&&e.parentNode.removeChild(e)}},{key:"getSpinLoader",value:function(){return document.querySelector("body > .slide-loader")}},{key:"onLoaderMute",value:function(){var e=this.getSpinLoader();null!=e&&(e.style.opacity=0)}},{key:"showLoaderDelayed",value:function(e){clearTimeout(this.loaderTimeout),this.loaderTimeout=setTimeout(this.onLoaderShow,e)}},{key:"onLoaderHide",value:function(){clearTimeout(this.loaderTimeout),this.getSpinLoader().style.display="none",We.addClass(document.getElementById("preso"),"hide-slide-loader"),Ue.trigger(Ke.app.HIDE_LOADER)}},{key:"onLoaderUnmute",value:function(){var e=this.getSpinLoader();null!=e&&(e.style.opacity=1)}},{key:"onLoaderShow",value:function(e){e>0?this.showLoaderDelayed(e):(this.getSpinLoader().style.display="block",We.removeClass(document.getElementById("preso"),"hide-slide-loader"),Ue.trigger(Ke.app.SHOW_LOADER))}}])&&Re(t.prototype,n),i&&Re(t,i),Object.defineProperty(t,"prototype",{writable:!1}),e}(),Ge=DS,qe=Ge.globalEventHelper.addWindowListener,Ze=Ge.events,Ye=Ze.ds,Xe=Ye.FRAME_DATA_LOADED,$e=Ye.PRESO_READY,Je=Ze.window.STACKING_CHANGED,et=Ze.frame,tt=et.MODEL_READY,nt=et.SCALE,it=Ze.resume.SET_DATA,rt=Ze.startOverlay.READY,ot=Ze.controlOptions.RESET,at=Ze.sidebar.ACTIVE_TAB_SET,lt=Ze.renderTree.DESTROYED,st=Ge.constants,ct=(st.els.PRESO,st.refs.FRAME),ut=Ge.detection.theme,ft=Ge.pubSub,dt=Ge.focusManager,ht=(Ge.flagManager,Ge.playerGlobals),pt=Ge.stringTabler,yt=Ge.shortcutManager,bt=Ge.dom,vt={},mt=function(e){var t=ne.nsStack.indexOf(e);t>=0&&ne.nsStack.splice(t,1)},gt=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];ne.nsStack.forEach((function(t,n,i){t.tabReachable=n===i.length-1&&e,t.updateTabIndex()}))},wt=function(e){Be={createWindow:function(t,n){var i,r,o,a,l,s=this,c=ne.getNamespace(t),u=function(){return function(e){var t=ne.getNamespace(e),n=t.isAttached;t.reattach(),mt(t),ne.nsStack.push(t),n||vt[e].all();var i=ne.nsStack.length;ne.nsStack.forEach((function(e,t){var n=e.slide.el;t===i-1?(bt.addClass(n,"primary-slide"),bt.removeClass(n,"secondary-slide")):(bt.removeClass(n,"primary-slide"),bt.addClass(n,"secondary-slide"))})),gt(),ft.trigger(Je,e)}(t)},f=function(e,n,i){if(e===t){var r=i?i.getWndBlockerBackground():"",o=ne.getBlocker(e);null!=o&&(o.setBackgroundColor(r),o.setVisibility(n)),c.tabReachable=!n,c.updateTabIndex(!1)}};(null==c&&(ne.addNameSpace(t),r=e[t](Me),i=_.flow(qe("resize",(function(){r.resize(),ft.trigger(nt)})),DS.pubSub.addListener(DS.events.utilityWindow.DOCKED,(function(){r.resize(),ft.trigger(nt)}))),t===ct?Me.setLayout(Me.frame.default_layout,ct):r.all(),c=ne.getNamespace(t),vt[t]=r,c.moveToTop=u,ut.isUnified&&(ft.on(DS.events.frameModel.BLOCKED_CHANGED,f),ft.on(DS.events.window.MAIN_CHANGED,(function(e,t){return f(t,!1)})))),u(),ft.on(ot,(function e(){var t=function(){var e=[],t=ne.getNamespace(ct).tabs.viewLogic.getSelectedTab();return t&&e.push(t.nameKey),_.each(ne.getNamespace(ct).topTabs.children,(function(t){_.each(_.filter(t.children,"viewLogic.showing",!0),(function(t){return e.push(t.nameKey)}))})),e}();mt(ne.getNamespace(ct)),r.destroy(),DS.pubSub.trigger(lt),ne.nameSpaces[ct]=null,i(),ft.off(ot,e),s.createWindow("_frame"),r.rerender(),t.forEach((function(e){ft.trigger(at,e)}))})),null!=n)&&(null===(o=c.slide)||void 0===o||null===(a=o.viewLogic)||void 0===a||null===(l=a.setPromptId)||void 0===l||l.call(a,n));return{id:t,promptId:n,el:c.slide.el,wndEl:c.wrapper.el,captionEl:(c.captionContainer||{}).el,x:function(){return c.wrapper.x},y:function(){return c.wrapper.y},close:function(){c.zoomBounds=null,c.detach(),mt(c),ne.nsStack[ne.nsStack.length-1].moveToTop(),dt.reCenter()},moveToTop:u,getFocusReturner:function(){var e=document.activeElement;return c.wrapper.el.contains(e)&&!c.slide.el.contains(e)?function(){return!(!c.wrapper.el.contains(e)||-1===e.zIndex)&&(e.focus(),!0)}:function(){return!1}},getWinScale:function(){return c.slide.winScale||1},getPinchZoomBounds:function(){return c.slide.pinchZoomBounds},onPinchZoom:vt[t].pinchZoom?function(e){c.zoomBounds=e,vt[t].pinchZoom()}:function(){},onWndBlockedChanged:f}},getSidebarPosition:function(){return Me.sidebarOpts.sidebarPos},getDefaultLayout:function(){return He.default_layout},getFonts:function(){return He.fonts},getFontScale:function(){return Me.frame.fontscale},getCaptionData:function(){var e=Me.frame.controlOptions.controls,t={font:e.font,enabled:e.closed_captions},n=Me.frame.controlOptions.ccOptions||{};return t.font=n.font,t.size=n.size,t.placement=n.placement,t.backgroundColor=n.backgroundColor,t.color=n.color,t.text=n.text,t.textShadow=n.textShadow,t},getNavData:function(){return Me.frame.navData.outline.links},isReadOnlyOnce:function(){return He.controlOptions.controls.readonlyOnce},topmostUnreachable:function(){return ne.nsStack},setAllAccVisibility:function(e){_.forEach(ne.nameSpaces,(function(t){var n=t.wrapper;e?n.el.removeAttribute("aria-hidden"):n.el.setAttribute("aria-hidden",!0)}))}},ft.on(it,gt),ft.on(rt,(function(){gt(!1)})),ht.player=Be},St=function(){Be.hasData=!0,ft.trigger(Xe,Be)};function kt(e){return kt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},kt(e)}function Ot(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,(r=i.key,o=void 0,o=function(e,t){if("object"!==kt(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!==kt(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(r,"string"),"symbol"===kt(o)?o:String(o)),i)}var r,o}var Et=DS,Ct=Et.dom,xt=Et._,Pt=Et.pubSub,Lt=Et.detection,Tt=Et.frameWindow,_t=Et.globalEventHelper.addWindowListener,jt=Et.events,Dt=jt.slide.HAS_MOUNTED,At=jt.frame.SCALE,It=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),"show all"!==window.globals.scale&&(this.el=t.el,xt.bindAll(this,"onResize"),this.removeListener=_t("resize",this.onResize),Pt.once(Dt,this.onResize),DS.flagManager.playerSizeOption&&Pt.on(At,this.onResize))}var t,n,i;return t=e,(n=[{key:"onResize",value:function(){var e=document.body;DS.flagManager.playerSizeOption?Lt.theme.isUnified&&!Tt.isLocked||!(e.clientHeight<this.el.clientHeight||e.clientWidth<this.el.clientWidth)?Ct.removeClass(e,"has-scrollbar"):Ct.addClass(e,"has-scrollbar"):e.clientHeight<this.el.clientHeight||e.clientWidth<this.el.clientWidth?Ct.addClass(e,"has-scrollbar"):Ct.removeClass(e,"has-scrollbar")}},{key:"teardown",value:function(){null!=this.removeListener&&this.removeListener()}}])&&Ot(t.prototype,n),i&&Ot(t,i),Object.defineProperty(t,"prototype",{writable:!1}),e}();function Rt(e){return Rt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Rt(e)}function Bt(e,t,n){return(t=Ht(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Mt(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,Ht(i.key),i)}}function Ht(e){var t=function(e,t){if("object"!==Rt(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!==Rt(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===Rt(t)?t:String(t)}var Nt,Ft="wrapper",Wt=DS.flagManager.playerSizeOption&&DS.detection.deviceView.isDesktop?It:function(){return e=function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)},t&&Mt(e.prototype,t),n&&Mt(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t,n}();ne.def(Ft,Wt,(function(){var e,t=ne.model.frame;return Bt(e={attrs:{id:Ft,class:"cs-base cs-".concat(t.default_layout," fn-").concat(t.default_layout," cs-custom-theme")},style:{fontSize:"".concat(t.fontscale,"%")},x:0,y:0},"x",(function(){return Ae.x})),Bt(e,"y",(function(){return Ae.y})),Bt(e,"w",(function(){return Ae.width})),Bt(e,"h",(function(){return Ae.height})),Bt(e,"updateHook",(function(){this.el.style.fontSize="".concat(t.fontscale,"%")})),Bt(e,"add",!0),e}));var Vt,zt="-20px",Ut="-30px";var Kt={setTooltipOn:function(e,t,n){var i,r,o=t.left,a=t.top,l=t.width,s=t.height;null==Nt&&(i=ne.model,r=ke.getColor(DS.constants.refs.FRAME,".cs-button .cs-icon","fill"),(Nt=document.createElement("div")).id="tooltip",Nt.style.left=zt,Nt.style.top=Ut,Nt.style.borderColor=r,Nt.classList.add("cs-base","cs-".concat(i.frame.default_layout)),document.getElementById("app-top").appendChild(Nt),Nt.addEventListener("mouseleave",Kt.runObjHoverOut)),Vt=e,Nt.style.display="block",Nt.innerText=n;var c=Nt.getBoundingClientRect().width,u=window.innerWidth,f=o+(l/2-c/2);f+c>=u-10?f=u-10-c:f<=10&&(f=10);var d=a-(s+10);d<=10&&(d=a+s+10),Nt.style.left="".concat(f,"px"),Nt.style.top="".concat(d,"px")},hideTooltip:function(e){null==Nt||null!=e&&e!==Vt||(Nt.style.display="none",Nt.innerText="",Nt.style.left=0,Vt=void 0)},updateTooltip:function(e,t){var n=Nt.getBoundingClientRect().width;Nt.innerText=t,Nt.style.left="".concat(e-n/2,"px")},runObjHoverOut:function(){null!=Vt?Vt.onHoverOut():Kt.hideTooltip()}},Qt=Kt;function Gt(e){return Gt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Gt(e)}function qt(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,(r=i.key,o=void 0,o=function(e,t){if("object"!==Gt(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!==Gt(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(r,"string"),"symbol"===Gt(o)?o:String(o)),i)}var r,o}var Zt=DS,Yt=Zt.dom,Xt=Zt.pubSub,$t=Zt.events,Jt=Zt._,en=Zt.constants,tn=Zt.keyManager,nn=Zt.focusManager,rn=(Zt.flagManager,Zt.stringTabler),on=Zt.detection,an="click",ln=function(){return on.deviceView.isUnifiedDesktop},sn=function(){function e(t){var n=this;for(var i in function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.el=t.el,this.view=t,this.model=t.model,t.children)this[i+"El"]=t.children[i].el;DS.flagManager.localizationPlatform?(t.simpleView||(DS._.bindAll(this,"onFocus","onBlur","onLayoutChange"),this.el.addEventListener("focusin",this.onFocus),this.el.addEventListener("focusout",this.onBlur),Xt.on($t.frameModel.LAYOUT_CHANGED,this.onLayoutChange)),Xt.on($t.strings.UPDATE_STRINGS,(function(){return n.onStringsUpdated()}))):(DS._.bindAll(this,"onFocus","onBlur","onLayoutChange"),this.el.addEventListener("focusin",this.onFocus),this.el.addEventListener("focusout",this.onBlur),Xt.on($t.frameModel.LAYOUT_CHANGED,this.onLayoutChange)),ln()&&(Jt.bindAll(this,"onHoverIn","onHoverOut","onMainKeydown"),document.body.addEventListener("mouseenter",this.onHoverOut),this.el.addEventListener("mouseenter",this.onHoverIn),this.el.addEventListener("mouseleave",this.onHoverOut),this.hasTooltip&&this.el.addEventListener("mouseup",this.onHoverOut),document.addEventListener("keydown",this.onMainKeydown))}var t,n,i;return t=e,(n=[{key:"onClick",value:function(e){this.el.addEventListener(an,e.bind(this))}},{key:"onClickEl",value:function(e,t){e.addEventListener(an,t.bind(this))}},{key:"on",value:function(e,t){this.el.addEventListener(e,t.bind(this))}},{key:"getViewBox",value:function(){return this.view.getBox()}},{key:"onFocus",value:function(e){var t=this.getViewBox(),n=t.x,i=t.y,r=t.w,o=t.h;DS.flagManager.playerSizeOption&&DS.detection.deviceView.isDesktop&&(n-=window.scrollX,i-=window.scrollY),nn.setFocusRectOn(this.el,{left:n,top:i,width:r,height:o}),this.onHoverIn(e),this.hasFocus=!0}},{key:"onBlur",value:function(e){nn.takeFocusOff(),this.onHoverOut(e),this.hasFocus=!1}},{key:"getTooltipString",value:function(){return rn.getString(this.tooltipKey)}},{key:"onHoverIn",value:function(e){var t=this;if(ln()&&this.hasTooltip&&(null==this.hideTooltipWhenOpen||!this.isOpen)){var n=this.getTooltipString(e);if(null==n&&"seek"===this.view.nameKey)return void setTimeout((function(){return t.onHoverIn(e)}),200);Qt.hideTooltip();var i=this.getViewBox(e),r=i.x,o=i.y,a=i.w,l=i.h;DS.flagManager.playerSizeOption&&DS.detection.deviceView.isDesktop&&(r-=window.scrollX,o-=window.scrollY),Qt.setTooltipOn(this,{left:r,top:o,width:a,height:l},n),this.tooltipMoves&&this.setForFollowMouse(),this.tooltipOn=!0}}},{key:"dismissTooltip",value:function(){Qt.hideTooltip(this),this.tooltipMoves&&this.stopFollowMouse(),this.tooltipOn=!1}},{key:"onHoverOut",value:function(){var e=this;ln()&&this.hasTooltip&&this.tooltipOn&&setTimeout((function(){var t=document.elementFromPoint(Yt.mouseX,Yt.mouseY);null!=t&&(e.el.contains(t)||"tooltip"===t.id||e.dismissTooltip())}),200)}},{key:"onMainKeydown",value:function(e){tn.isKey(e.which,en.keys.ESCAPE)&&(e.stopPropagation(),this.dismissTooltip())}},{key:"teardown",value:function(){Xt.off($t.frameModel.LAYOUT_CHANGED,this.onLayoutChange),on.deviceView.isUnifiedDesktop&&(document.body.removeEventListener("mouseenter",this.onHoverOut),this.el.removeEventListener("mouseenter",this.onHoverIn),this.el.removeEventListener("mouseleave",this.onHoverOut),this.el.removeEventListener("mousedown",this.dismissTooltip),document.removeEventListener("keydown",this.onMainKeydown),this.tooltipOn&&(this.onHoverOut(),this.tooltipMoves&&this.stopFollowMouse()))}},{key:"onLayoutChange",value:function(){}},{key:"onStringsUpdated",value:function(){this.view.updateStrings()}}])&&qt(t.prototype,n),i&&qt(t,i),Object.defineProperty(t,"prototype",{writable:!1}),e}(),cn=sn;function un(e){return un="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},un(e)}function fn(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,(r=i.key,o=void 0,o=function(e,t){if("object"!==un(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!==un(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(r,"string"),"symbol"===un(o)?o:String(o)),i)}var r,o}function dn(e,t){return dn=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},dn(e,t)}function hn(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=pn(e);if(t){var r=pn(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return function(e,t){if(t&&("object"===un(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,n)}}function pn(e){return pn=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},pn(e)}var yn="frame",bn=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&dn(e,t)}(o,e);var t,n,i,r=hn(o);function o(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),(t=r.call(this,e)).onScroll=function(e){e.preventDefault(),t.el.scrollTop=0,t.el.scrollLeft=0},t.el.addEventListener("scroll",t.onScroll),t}return t=o,(n=[{key:"teardown",value:function(){this.el.removeEventListener("scroll",this.onScroll)}},{key:"onFocus",value:function(){}},{key:"onBlur",value:function(){}}])&&fn(t.prototype,n),i&&fn(t,i),Object.defineProperty(t,"prototype",{writable:!1}),o}(cn);function vn(e){return vn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},vn(e)}function mn(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,(r=i.key,o=void 0,o=function(e,t){if("object"!==vn(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!==vn(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(r,"string"),"symbol"===vn(o)?o:String(o)),i)}var r,o}function gn(e,t){return gn=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},gn(e,t)}function wn(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=kn(e);if(t){var r=kn(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return function(e,t){if(t&&("object"===vn(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Sn(e)}(this,n)}}function Sn(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function kn(e){return kn=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},kn(e)}ne.def(yn,bn,(function(){var e=ne.model;return{attrs:{id:yn,class:"cs-base cs-".concat(e.frame.default_layout," fn-").concat(e.frame.default_layout)},w:"100%",h:"100%",html:'<div class="top-ui-bg"></div><div class="bottom-ui-bg"></div><div class="left-ui-bg"></div><div class="right-ui-bg"></div>'}}));var On,En,Cn=DS,xn=Cn.detection,Pn=Cn.events,Ln=Cn.pubSub,Tn=function(){return document.getElementById("app-top")||document.body},_n=DS.utils.pxify,jn=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&gn(e,t)}(o,e);var t,n,i,r=wn(o);function o(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),(t=r.call(this,e)).visualNode=function(){var e=document.createElement("div");e.className="skipnav transparent";var t=function(){e.innerText=ne.model.getString("acc_skipnavigation"),Tn().appendChild(e),window.requestAnimationFrame((function(){En=e.clientHeight,On=e.clientWidth,e.className="skipnav",null!=e.parentNode&&e.parentNode.removeChild(e)}))};return Ln.on(Pn.strings.UPDATE_STRINGS,(function(){t()})),t(),e}(),DS._.bindAll(Sn(t),"onButtonClick"),t.onClick(t.onButtonClick),t}return t=o,n=[{key:"onFocus",value:function(){if(!xn.device.isMobile){DS.focusManager.takeFocusOff();var e=ne.getTopNameSpace().slide;if(DS.flagManager.playerSizeOption&&DS.detection.deviceView.isDesktop)Object.assign(this.visualNode.style,{right:"".concat(50,"px"),bottom:"".concat(50,"px")}),e.el.querySelector(".slide-container").style.opacity=.6,e.el.append(this.visualNode);else{var t=e.getBox(),n=t.x,i=t.y,r=t.w,o=t.h;Object.assign(this.visualNode.style,{top:_n(i+o-En-50),left:_n(n+r-On-50)}),e.el.style.opacity=.6,Tn().appendChild(this.visualNode)}this.visualNode.classList.add("focused"),Ln.trigger(Pn.skipNav.FOCUSED)}}},{key:"onBlur",value:function(){var e=ne.getTopNameSpace().slide,t=this.visualNode.parentNode;DS.flagManager.playerSizeOption&&DS.detection.deviceView.isDesktop?e.el.querySelector(".slide-container").style.opacity=1:e.el.style.opacity=1,this.visualNode.classList.remove("focused"),null!=t&&t.removeChild(this.visualNode)}},{key:"onButtonClick",value:function(e){this.el.focus(),setTimeout((function(){DS.focusManager.onSlideStarted(null,DS.windowManager.getCurrentWindowSlide())}),100)}}],n&&mn(t.prototype,n),i&&mn(t,i),Object.defineProperty(t,"prototype",{writable:!1}),o}(cn),Dn=jn,An="skipnav";function In(e){return In="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},In(e)}function Rn(e,t,n){return(t=function(e){var t=function(e,t){if("object"!==In(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!==In(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===In(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}ne.def(An,Dn,(function(){var e=ne.model,t=e.getString("acc_skipnavigation");return{tag:"button",ariaStringId:"acc_skipnavigation",attrs:{id:An,"aria-label":t,tabindex:0},visible:e.sidebarOpts.sidebarEnabled,x:-100,y:-100,w:1,h:1,html:t,methods:{updateDomStrings:function(){this.el.textContent=e.getString("acc_skipnavigation")}}}}));var Bn=DS,Mn=Bn._,Hn=Bn.pubSub,Nn=Bn.events,Fn=Bn.detection,Wn=Bn.constants.MOBILE_UI_SIZE,Vn="top ".concat(150,"ms ease-in-out");function zn(e){return zn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},zn(e)}function Un(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,(r=i.key,o=void 0,o=function(e,t){if("object"!==zn(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!==zn(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(r,"string"),"symbol"===zn(o)?o:String(o)),i)}var r,o}function Kn(e,t){return Kn=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Kn(e,t)}function Qn(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=qn(e);if(t){var r=qn(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return function(e,t){if(t&&("object"===zn(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Gn(e)}(this,n)}}function Gn(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function qn(e){return qn=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},qn(e)}var Zn=DS,Yn=Zn.pubSub,Xn=Zn.events,$n=Zn._,Jn=Zn.utils,ei=(Zn.flagManager,function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Kn(e,t)}(o,e);var t,n,i,r=Qn(o);function o(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),t=r.call(this,e),$n.bindAll(Gn(t),"onSlideChange","onAriaToggle"),Yn.on(Xn.slide.HAS_MOUNTED,t.onSlideChange),Yn.on(Xn.slide.ARIA_TOGGLE,t.onAriaToggle),t.teardownPushableSlide=function(e){var t;if(!Fn.deviceView.isPhone)return Mn.noop;function n(){e.view.el.style.transition=null,e.view.el.style.top="0px"}function i(t){e.view.el.style.transition=Vn;var n=.45*window.innerHeight-10,i=-(e.view.bottom()-n),r=e.view.y+i,o=0;r<Wn&&Fn.theme.isUnified?o=Wn-r+10:r<0&&(o=-1*r+10),e.view.el.style.top="".concat(i+o,"px")}function r(){e.view.el.style.transition=Vn,e.view.el.style.top="".concat(0,"px")}return Hn.on((Rn(t={},Nn.threeSixtyImage.UN_PUSH_LABEL,n),Rn(t,Nn.threeSixtyImage.PUSH_UP_BY_LABEL,i),Rn(t,Nn.threeSixtyImage.PUSH_DOWN_BY_LABEL,r),t)),function(){n(),Hn.off(Nn.threeSixtyImage.UN_PUSH_LABEL,n),Hn.off(Nn.threeSixtyImage.PUSH_UP_BY_LABEL,i),Hn.off(Nn.threeSixtyImage.PUSH_DOWN_BY_LABEL,r)}}(Gn(t)),t}return t=o,(n=[{key:"onAriaToggle",value:function(e){e.hidden?(this.el.setAttribute("aria-hidden",!0),this.el.setAttribute("tabindex",0)):(this.el.removeAttribute("aria-hidden"),this.el.removeAttribute("tabindex"))}},{key:"teardown",value:function(){Yn.off(Xn.slide.HAS_MOUNTED,this.onSlideChange),this.teardownPushableSlide()}},{key:"onSlideChange",value:function(e){null!=this.labelEl&&this.view.nameSpace===e.props.windowId&&(this.labelEl.textContent="".concat(ne.model.getString("slide"),": ").concat(Jn.stripTags(e.props.model.title())))}},{key:"onFocus",value:function(){}},{key:"onBlur",value:function(){}}])&&Un(t.prototype,n),i&&Un(t,i),Object.defineProperty(t,"prototype",{writable:!1}),o}(cn)),ti=ei,ni=10,ii=20,ri=65,oi=1e3,ai=DS,li=ai.scaler,si=ai.MicroScrollBar,ci=ai.utils.pxify,ui="slide",fi=DS;fi.pubSub,fi.events;ne.def(ui,ti,(function(e){var t=ne.getNamespace(e),n=(t.frame,t.sidebar),i=t.topBar,r=t.bottomBar,o=ne.model;return{attrs:{id:ui,class:"window-slide ".concat(e,"-slide")},origin:"0 0",w:function(){return li.zoomMode?this.availW-(this.currWinScale<=1?9:0):Math.round(o.slideWidth*this.currWinScale)},h:function(){return li.zoomMode?Math.min(this.availH-(this.currWinScale<=1?9:0),Ae.innerHeight-(this.y+(this.bottomBarExists()?r.h:0))):Math.round(o.slideHeight*this.currWinScale)},z:1,methods:{topBarExists:function(){return null!=i&&i.visible&&(o.sidebarOpts.titleEnabled||o.sidebarOpts.sidebarEnabled||o.hasTopLinks()||o.frame.controlOptions.controls.elapsedandtotaltime)},bottomBarExists:function(){var e=!1;return null!=r&&r.visible&&r.children&&(e=r.children.some((function(e){return e.visible}))),o.bottomBarOpts.bottomBarEnabled&&e},calcSidebarOffsets:function(){var e=null!=n&&n.visible,t=e&&"left"===n.pos;this.sidebarWidthOffset=t?n.right():e?Ae.innerWidth-n.x:0,this.sidebarXOffset=t?n.right():0},calcWinScale:function(){var e=this.topBarExists(),t=this.bottomBarExists(),n=t?r.h:0,a=e?i.h:0,l=a+n,s=n|a?ii:0;this.offY=0,this.minY=0,!e&&t?(this.offY=-r.h,l+=15,this.minY=15):e&&!t&&(this.offY=25,l+=15,this.minY=15);var c=o.dockSettings,u=c.dockedState,f=c.width,d=u!==DS.constants.docked.NONE;this.availW=Ae.innerWidth-this.sidebarWidthOffset-(d?f:0),this.availH=Ae.innerHeight-l,this.currWinScale=Math.min((this.availW-s)/o.slideWidth,this.availH/o.slideHeight)},beforeUpdateHook:function(){this.calcSidebarOffsets(),this.calcWinScale()}},winScale:function(){return li.zoomMode?1:this.currWinScale},x:function(){var e=o.dockSettings,t=e.dockedState,n=e.width,i="left"===t?n:0;if(!li.zoomMode){var r=o.slideWidth*this.currWinScale;return Math.round(i+this.sidebarXOffset+(this.availW-r)/2)}return i+this.sidebarXOffset},y:function(){return Math.max(li.zoomMode?this.topBarExists()?i.h:0:this.minY,Math.round((Ae.innerHeight-o.slideHeight*this.winScale)/2+this.offY))},add:!0,updateHook:function(){var e=this;if(this.el.style.overflow=li.zoomMode?"scroll":"hidden",li.zoomMode){null==this.scrollbar&&(this.scrollbar=new si(this.el,"slide"),this.hscrollbar=new si(this.el,"slide",!0)),this.scrollbar.scrollBar.style.left=ci(this.x+this.w),this.scrollbar.scrollBar.style.top=ci(this.y),this.scrollbar.scrollBar.style.height=ci(this.availH),this.hscrollbar.scrollBar.style.left=ci(this.x),this.hscrollbar.scrollBar.style.top=ci(this.y+this.h),this.hscrollbar.scrollBar.style.width=ci(this.availW),this.scrollbar.setEnabled(!0),this.hscrollbar.setEnabled(!0);window.requestAnimationFrame((function t(){e.el.getElementsByClassName("slide").length>0?(e.scrollbar.update(),e.hscrollbar.update()):window.requestAnimationFrame(t)}))}else this.scrollbar&&(this.scrollbar.setEnabled(!1),this.hscrollbar.setEnabled(!1))},html:'<div id="slide-label" data-ref="label" aria-live="assertive"></div>\n      <main class="slide-container" data-ref="container" aria-live="off" tabindex="-1"></main>',noContent:!0}}));var di="logo",hi=DS,pi=hi._,yi=hi.utils;ne.def(di,(function(e){var t,n=ne.model,i=ne.getNamespace(e).sidebar,r=i.w,o=.75*r,a={class:"logo cs-logo",role:"banner","aria-hidden":!n.logo.altTextEnabled};return{id:di,attrs:a,w:"100%",minH:60,maxH:170,h:function(){var e;return this.minH+(this.maxH-this.minH)*(null!==(e=i.childScale)&&void 0!==e?e:1)},html:function(){(t=document.createElement("img")).onload=function(){r=t.naturalWidth,o=t.naturalHeight,t.onload=null,i.updateChildren(!0)},t.src=yi.resolveAssetUrl(n.sidebarOpts.html5_logo_url),pi.isEmpty(n.logo.altText)||(t.alt=n.logo.altText),this.el.appendChild(t)},visible:n.logo.enabled,updateHook:function(){o/this.h>r/i.data.actualWidth()?(t.style.width="auto",t.style.height="100%"):(t.style.width="100%",t.style.height="auto"),pi.isEmpty(n.logo.altText)||(t.alt=n.logo.altText)}}}));var bi=DS.scaler,vi="shortcutWrapper";ne.def(vi,(function(e){var t=ne.model,n=ne.getNamespace(DS.constants.refs.FRAME),i=(n.slide,n.wrapper);return{attrs:{id:vi,class:"cs-base cs-".concat(t.frame.default_layout," fn-").concat(t.frame.default_layout)},w:function(){return.7*i.w},h:function(){return.7*i.h},style:{overflow:"visible",transformOrigin:"0 0",background:"transparent"},x:function(){return i.x/bi.getScale()+(i.w-this.w)/2},y:function(){return i.y/bi.getScale()+(i.h-this.h)/2},add:!0}}));var mi=function(){return"no icon"},gi={track:function(e,t){return'\n      <svg xmlns:xlink="http://www.w3.org/1999/xlink" width="24px" height="16px" viewBox="0 0 24 16">\n        <defs>\n            <rect id="'.concat(t,'-track" x="2" y="3.5" width="20" height="9" rx="4.5"></rect>\n            <filter x="-12.5%" y="-27.8%" width="125.0%" height="155.6%" filterUnits="objectBoundingBox" id="').concat(t,'-trackFilter">\n                <feGaussianBlur stdDeviation="1.5" in="SourceAlpha" result="shadowBlurInner1"></feGaussianBlur>\n                <feOffset dx="0" dy="1" in="shadowBlurInner1" result="shadowOffsetInner1"></feOffset>\n                <feComposite in="shadowOffsetInner1" in2="SourceAlpha" operator="arithmetic" k2="-1" k3="1" result="shadowInnerInner1"></feComposite>\n                <feColorMatrix values="0 0 0 0 0   0 0 0 0 0   0 0 0 0 0  0 0 0 0.5 0" type="matrix" in="shadowInnerInner1"></feColorMatrix>\n            </filter>\n        </defs>\n        <g class="thumb-off" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">\n            <g>\n                <use fill="#D1D1D1" fill-rule="evenodd" xlink:href="#').concat(t,'-track"></use>\n                <use fill="white" fill-opacity="1" filter="url(#').concat(t,'-trackFilter)" xlink:href="#').concat(t,'-track"></use>\n                <use stroke="#AFAFAF" stroke-width="1" xlink:href="#').concat(t,'-track"></use>\n                <circle fill="#585858" stroke-width="0" cx="8" cy="8" r="5"></circle>\n            </g>\n        </g>\n        <g class="thumb-on" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">\n            <g>\n                <use fill="#DBDBDB" fill-rule="evenodd" xlink:href="#').concat(t,'-track"></use>\n                <use fill="white" fill-opacity="1" filter="url(#').concat(t,'-trackFilter)" xlink:href="#').concat(t,'-track"></use>\n                <use stroke="#AFAFAF" stroke-width="1" xlink:href="#').concat(t,'-track"></use>\n                <circle fill="').concat(e,'" stroke-width="0" cx="16" cy="8" r="6"></circle>\n            </g>\n        </g>\n      </svg>\n    ')}};function wi(e){return wi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},wi(e)}function Si(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,(r=i.key,o=void 0,o=function(e,t){if("object"!==wi(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!==wi(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(r,"string"),"symbol"===wi(o)?o:String(o)),i)}var r,o}function ki(){return ki="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var i=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=xi(e)););return e}(e,t);if(i){var r=Object.getOwnPropertyDescriptor(i,t);return r.get?r.get.call(arguments.length<3?e:n):r.value}},ki.apply(this,arguments)}function Oi(e,t){return Oi=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Oi(e,t)}function Ei(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=xi(e);if(t){var r=xi(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return function(e,t){if(t&&("object"===wi(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Ci(e)}(this,n)}}function Ci(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function xi(e){return xi=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},xi(e)}var Pi="shortcutSlide",Li="comma_key",Ti="period_key",_i="question_mark_key",ji=DS,Di=ji._,Ai=ji.shortcutManager,Ii=ji.keyManager,Ri=ji.pubSub,Bi=ji.events,Mi=Bi.window.CLOSING,Hi=Bi.player.ENABLE_KEYBOARD_SHORTCUTS,Ni=ji.MicroScrollBar,Fi=ji.focusManager,Wi=(ji.flagManager,ji.constants),Vi=ji.globalEventHelper.addDocumentListener;function zi(e,t,n){return(e.ctrl?t.getString("ctrl_key")+"+":"")+(e.alt?t.getString("alt_key")+"+":"")+(e.shift?t.getString("shift_key")+"+":"")+function(e,t,n){if(n)switch(e.key){case"?":return t.getString(_i);case".":return t.getString(Ti);case",":return t.getString(Li)}return(e.keyName||e.key).toUpperCase()}(e,t,n)}var Ui=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Oi(e,t)}(o,e);var t,n,i,r=Ei(o);function o(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),t=r.call(this,e),Di.bindAll(Ci(t),"onKeyboardShortcutsChanged","toggleKeyboardShortcuts","onFocus","onKeydown"),Ri.on(Mi,t.closeWindow),t.removeKeydownListener=Vi("keydown",t.onKeydown),null!=t.keyboardShortcutsSwitchEl&&(t.onClickEl(t.keyboardShortcutsSwitchEl,t.toggleKeyboardShortcuts),Ri.on(Hi,t.onKeyboardShortcutsChanged)),t}return t=o,(n=[{key:"onKeydown",value:function(e){Ii.isKey(e.which,Wi.keys.ESCAPE)&&this.closeWindow("ShortcutWnd")}},{key:"closeWindow",value:function(e){"ShortcutWnd"===e&&Ai.closeShortcutWindow()}},{key:"onKeyboardShortcutsChanged",value:function(e){e?(this.keyboardShortcutsSwitchEl.classList.add("toggle-on"),this.keyboardShortcutsSwitchEl.classList.remove("toggle-off"),this.shortcutsTableEl.classList.remove("disabled")):(this.keyboardShortcutsSwitchEl.classList.add("toggle-off"),this.keyboardShortcutsSwitchEl.classList.remove("toggle-on"),this.shortcutsTableEl.classList.add("disabled")),this.keyboardShortcutsSwitchEl.querySelector("button").setAttribute("aria-checked",e)}},{key:"toggleKeyboardShortcuts",value:function(){Ai.enableShortcuts(!Ai.enabled)}},{key:"onFocus",value:function(e){var t=e.target;this.el.contains(t)&&Fi.setFocusRectOn(t)}},{key:"teardown",value:function(){Ri.off(Mi,this.closeWindow),null!=this.keyboardShortcutsSwitchEl&&Ri.off(Hi,this.onKeyboardShortcutsChanged),this.removeKeydownListener(),ki(xi(o.prototype),"teardown",this).call(this)}}])&&Si(t.prototype,n),i&&Si(t,i),Object.defineProperty(t,"prototype",{writable:!1}),o}(ti);function Ki(e){return Ki="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ki(e)}function Qi(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,(r=i.key,o=void 0,o=function(e,t){if("object"!==Ki(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!==Ki(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(r,"string"),"symbol"===Ki(o)?o:String(o)),i)}var r,o}function Gi(e,t){return Gi=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Gi(e,t)}function qi(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=Zi(e);if(t){var r=Zi(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return function(e,t){if(t&&("object"===Ki(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,n)}}function Zi(e){return Zi=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Zi(e)}ne.def(Pi,Ui,(function(){var e=ne.model;return{attrs:{id:Pi,class:"shortcut-slide","aria-labelledby":"slide-label-message",role:"alertdialog","aria-modal":!0,tabindex:-1},style:{overflow:"scroll"},origin:"0 0",w:"100%",h:"100%",x:0,y:0,z:1,html:function(){var t=DS.detection.theme.isUnified?[Wi.refs.FRAME,".cs-brandhighlight-bg","background-color",".cs-base.cs-custom-theme"]:[Wi.refs.FRAME,".cs-duration stop:last-child","stop-color",void 0,".cs-duration stop"],n=ke.getColor.apply(ke,t),i='\n        <div class="switch '.concat(Ai.enabled?"toggle-on":"toggle-off",'" data-ref="keyboardShortcutsSwitch">\n          <label id="shortcuts-label" class="switch-label">').concat(e.getString("enable_keyboardshortcuts"),'</label>\n          <button class="switch-toggle" tabindex="0" role="switch" aria-checked="').concat(Ai.enabled,'" aria-labelledby="shortcuts-label">\n            ').concat((gi["track"]||mi)(n,"shortcuts"),"\n          </button>\n        </div>"),r="<h1>".concat(e.getString("keyboardshortcuts")).concat(i,"</h1>"),o=Ai.getShortcutList().map((function(t){var n=t.name,i=t.keyInfo;return'<tr class="'.concat("?"===i.key?"":"disableable",'">\n            <td class="action">').concat(n,'</td>\n            <td class="key">\n              <span aria-hidden="true">').concat(zi(i,e,!1),'</span>\n              <span class="sr-only">').concat(zi(i,e,!0),"</span>\n            </td>\n          </tr>")})).join(""),a='<tr><th class="action">'.concat(e.getString("action"),'</th><th class="key">').concat(e.getString("shortcut"),"</th></tr>");return[r,'<table data-ref="shortcutsTable">'.concat(a).concat(o,"</table>")].join("")},childDef:function(){null==this.scrollbar&&(this.scrollbar=new Ni(this.el,"shortcut-slide"))}}}));var Yi=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Gi(e,t)}(o,e);var t,n,i,r=qi(o);function o(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),(t=r.call(this,e)).onClick(t.onClickClose),t}return t=o,(n=[{key:"onClickClose",value:function(e){var t=this.model.windowId;DS.pubSub.trigger(DS.events.window.CLOSING,t)}}])&&Qi(t.prototype,n),i&&Qi(t,i),Object.defineProperty(t,"prototype",{writable:!1}),o}(cn),Xi=Yi,$i=DS.scaler,Ji="shortcutClose";ne.def(Ji,Xi,(function(e){var t={windowId:e};return{tag:"button",attrs:{id:Ji,class:"close-btn-floating",tabindex:0,"z-index":999,"aria-label":ne.model.getString("close"),"data-aria-label-id":"close"},style:{overflow:"visible"},html:function(){return'<svg class="cs-icon icon-close" width="'.concat(20*$i.getScale(),'" height="').concat(20*$i.getScale(),'" viewBox="0 0 36 36" focusable="false">\n                <polygon points="36,2.826 33.174,0 18,15.174 2.826,0 0,2.826 15.174,18 0,33.174 2.826,36 18,20.826 33.174,36 36,33.174 20.826,18" />\n              </svg>')},methods:{updateDomStrings:function(){this.el.setAttribute("aria-label",ne.model.getString("close"))}},y:35,x:function(){var e=ne.getNamespace("_frame").wrapper;return Math.max(window.innerWidth/$i.getScale(),e.w)-(this.w+35)},model:t,w:20,h:20}}));var er="ShortcutWnd";function tr(e){return function(e){if(Array.isArray(e))return rr(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||ir(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function nr(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var i,r,o,a,l=[],s=!0,c=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(i=o.call(n)).done)&&(l.push(i.value),l.length!==t);s=!0);}catch(e){c=!0,r=e}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw r}}return l}}(e,t)||ir(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ir(e,t){if(e){if("string"==typeof e)return rr(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?rr(e,t):void 0}}function rr(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}var or="sidebar",ar=DS,lr=ar.utils,sr=ar.TweenLite,cr=ar.dom,ur=ar.events,fr=ar.pubSub,dr=ar.detection;ne.def(or,(function(e){var t=ne.model,n=ne.getNamespace(e),i=n.sidebarPanels,r=n.logo,o=n.tabs,a=ke.getColor(e,".cs-brandhighlight-bg","background-color",".cs-base.cs-custom-theme");cr.addClass(document.body,"sidebar-".concat(t.sidebarOpts.sidebarPos));var l=.25,s=function(){var e=t.dockSettings||{},n=e.dockedState,i=e.width,r=n!==DS.constants.docked.NONE,o=Ae.innerWidth-(r?i:0),a=dr.device.isPhone?.8*Ae.innerWidth:o/4;return Ae.isLocked?lr.clamp(245,300,a):lr.clamp(245,400,a)},c=function(){return"left"===t.sidebarOpts.sidebarPos?0:Ae.innerWidth-s()},u={x:c()},f=[];return{tag:"section",attrs:{id:or,class:"cs-left area-secondary-wrapper","aria-label":"sidebar"},overflow:"visible",visible:t.sidebarOpts.sidebarEnabled,pos:function(){return t.sidebarOpts.sidebarPos},noContent:!1,shouldReparent:!1,xs:[0],data:{actualWidth:s},x:function(){var e=this,t=c();if(this.collapsed&&("left"===this.pos?t-=s():t+=s()),this.animate&&!this.animating||this.collapsing!==this.collapsed){this.collapsing=this.collapsed;var n="left"===this.pos?-30:30;this.collapsed&&this.floating?(cr.addClass(document.body,"sidebar-closing"),sr.to(this.content,l,{opacity:0,x:n,ease:"power4.out",onComplete:function(){cr.removeClass(document.body,"sidebar-closing"),e.collapsed&&cr.addClass(document.body,"sidebar-closed")}})):(cr[this.collapsed?"addClass":"removeClass"](document.body,"sidebar-closed"),sr.set(this.content,{x:n,opacity:0}),sr.to(this.content,l,{x:0,delay:.11,ease:"power2.out"}),sr.to(this.content,l,{opacity:1,delay:.11,ease:"none",overwrite:!1}));var i=Ae.innerWidth,r=sr.to(u,l,{x:t,onComplete:function(){e.animating=!1,e.animate=!1},onUpdate:function(){"right"===e.pos&&Ae.innerWidth!=i&&(r.kill(),e.animating=!1),fr.trigger(ur.frame.REFLOW),fr.trigger(ur.frame.SCALE),DS.flagManager.playerSizeOption&&DS.detection.deviceView.isDesktop&&(clearTimeout(e.delayedReflow),e.delayedReflow=setTimeout((function(){e.update()}),32))}});this.animating=!0}return this.animating||(u.x=t),this.floating?"right"===this.pos?(this.xs[0]=u.x-Ae.innerWidth,Ae.innerWidth):(this.xs[0]=u.x,0):(this.xs[0]=0,u.x)},w:function(){return this.visible?s():0},h:"100%",html:"\n      <style>\n        .selected-animation-done:after {\n          background: ".concat(a,';\n        }\n      </style>\n      <div class="slider-mask" data-ref="sliderMask">\n        <div class="tab-selected-slider cs-brandhighlight-bg" data-ref="tabSelectedSlider"></div>\n      </div>\n    '),updateHook:function(){this.hasAllChildren()&&this[this.collapsed?"onSidebarHide":"onSidebarShow"]()},beforeUpdateHook:function(){if(this.childScale=1,null!=r&&r.visible&&null!=i&&i.visible&&(null==i?void 0:i.h)<120){var e=r.maxH-r.minH+(o.maxH-o.minH),t=120+o.minH+r.minH;this.childScale=lr.clamp(0,1,(this.h-t)/e)}if(DS.localizationManager.isMultiLanguageProject()){var n=nr("left"===this.pos?["sidebar-left","sidebar-right"]:["sidebar-right","sidebar-left"],2),a=n[0],l=n[1];document.body.classList.add(a),document.body.classList.remove(l)}},methods:{onSidebarHide:function(){this.onSidebarShow(),(f=tr(this.el.querySelectorAll('[tabindex="0"]:not(#hamburger)'))).forEach((function(e){e.tabIndex=-1,e.setAttribute("data-tabindex",-1)})),this.content.setAttribute("aria-hidden",!0)},onSidebarShow:function(){var t=ne.getNamespace(e);f.forEach((function(e){t.tabReachable&&(e.tabIndex=0),e.setAttribute("data-tabindex",0)})),this.content.removeAttribute("aria-hidden")}}}}));var hr=function(){return"no icon"},pr={next:function(){return'\n  <svg class="cs-icon next-icon" width="10px" height="18px" viewBox="0 -1 10 18" focusable="false" aria-hidden="true">\n    <path transform="rotate(180, 5, 8)" d="M2.81685219,7.60265083 L9.00528946,1.41421356 L7.5910759,-1.27897692e-13 L1.55431223e-13,7.5910759 L0.0115749356,7.60265083 L1.55431223e-13,7.61422577 L7.5910759,15.2053017 L9.00528946,13.7910881 L2.81685219,7.60265083 Z" stroke="none" fillRule="evenodd"></path>\n  </svg>'},prev:function(){return'\n  <svg class="cs-icon prev-icon" width="10px" height="18px" viewBox="0 -1 10 18" focusable="false" aria-hidden="true">\n    <path transform="translate(0, 1)" d="M2.81685219,7.60265083 L9.00528946,1.41421356 L7.5910759,-1.27897692e-13 L1.55431223e-13,7.5910759 L0.0115749356,7.60265083 L1.55431223e-13,7.61422577 L7.5910759,15.2053017 L9.00528946,13.7910881 L2.81685219,7.60265083 Z" stroke="none" fillRule="evenodd"></path>\n  </svg>\n'},submit:function(){return'\n   <svg class="cs-icon check-icon" width="17px" height="18px" viewBox="0 0 17 16" focusable="false" aria-hidden="true">\n\n  <path stroke="none" transform="translate(0, 1)" d="\n  M 17 1.4\n  L 15.6 0 5.7 9.9 1.4 5.65 0 7.05 5.65 12.75 5.7 12.75 17 1.4 Z"/>\n\n  </svg>'},replay:function(){return'<svg class="cs-icon" x="0px" y="0px" width="16px" height="16px" viewBox="0 0 16 16" focusable="false" aria-hidden="true">\n    <path fill="#FFFFFF" stroke="none" d="\n      M 10.95 8.75\n      Q 11 9 11 9.25 10.95 11.15 9.7 12.4 8.4 13.7 6.5 13.75 4.6 13.7 3.3 12.4 2.05 11.15 2 9.25 2.05 7.3 3.3 6.05 4.398828125 4.998828125 6 4.75\n      L 6 6.9\n      Q 6.05 7.75 6.85 7.35\n      L 11.35 4.3\n      Q 11.7 4.05 11.7 3.75 11.7 3.45 11.35 3.2\n      L 6.85 0.15\n      Q 6.05 -0.3 6 0.6\n      L 6 2.75\n      Q 3.4517578125 3.001171875 1.8 4.75 0.05 6.6 0 9.25 0.05 12 1.9 13.85 3.75 15.65 6.5 15.75 9.25 15.65 11.1 13.85 12.95 12 13 9.25 13 9 13 8.75\n      L 10.95 8.75 Z"/>\n    </svg>'},play:function(){return'<svg id="icon-play" class="cs-icon play-icon" width="11" height="13" viewBox="0 0 11 13" focusable="false" aria-hidden="true">\n    <path fill="#FFFFFF" stroke="none" d="\n      M 0.851 13.011\n      C 0.381 13.295 0 13.068 0 12.526\n      L 0 0.771\n      C 0 0.219 0.378 0 0.854 0.288\n      L 10.507 6.132\n      C 10.979 6.417 10.981 6.878 10.504 7.168\n      L 6.307 9.708\n      L 0.851 13.011 Z" />\n  </svg>'},pause:function(){return'<svg id="icon-pause" class="cs-icon pause-icon" width="9" height="14" viewBox="0 0 9 14" focusable="false" aria-hidden="true">\n    <rect x="0" width="3" height="14"/>\n    <rect x="6" width="3" height="14"/>\n  </svg>'},volume:function(e,t){var n=Math.min(1,e/5),i=Math.min(1,Math.max(0,e/5-.5));return'<svg class="cs-icon volume-icon '.concat(t?"volume-icon-selected":"",'" width="16px" height="14px" viewBox="0 0 16 14" focusable="false" aria-hidden="true">\n      <rect x="0" y="4" width="3" height="6"></rect>\n      <polygon points="4 4 9 0 9 14 4 10"></polygon>\n      <g transform="translate(10, 0)">\n        <mask id="vol-mask" fill="white">\n          <rect id="path-1" x="0" y="0" width="8" height="14" style="fill: white;"></rect>\n        </mask>\n        <circle strokeWidth="1.5" style="opacity: ').concat(i,';" mask="url(#vol-mask)" fill="none" cx="-1" cy="7" r="6.5"></circle>\n        <circle strokeWidth="1.5" style="opacity: ').concat(n,';" mask="url(#vol-mask)" fill="none" cx="-1" cy="7" r="3.5"></circle>\n      </g>\n    </g>\n  </svg>')},captionsOn:function(e){return'<svg class="cs-icon captions-icon" width="19px" height="16px" viewBox="0 0 19 16" focusable="false" aria-hidden="true">\n            <path fill="#FFFFFF" stroke="none" d="M 19 2 Q 19 1.15 18.4 0.6 17.85 0 17 0 L 2 0 Q 1.15 0 0.6 0.6 0 1.15 0 2 L 0 12 Q 0 12.85 0.6 13.4 1.15 14 2 14 L 7.6 14 9.5 15.9 11.4 14 17 14 Q 17.85 14 18.4 13.4 19 12.85 19 12 L 19 2 M 15.7 4.2 L 15.25 4.85 Q 15.15 4.9 15.1 5 15 5.05 14.85 5.05 14.75 5.05 14.6 4.95 14.5 4.9 14.3 4.8 14.15 4.65 13.9 4.6 13.65 4.5 13.3 4.5 12.85 4.5 12.5 4.7 12.15 4.85 11.9 5.15 11.7 5.45 11.6 5.9 11.45 6.35 11.45 6.9 11.5 7.45 11.6 7.9 11.7 8.35 11.95 8.65 12.2 8.95 12.5 9.15 12.85 9.3 13.25 9.3 13.65 9.3 13.9 9.2 14.2 9.1 14.35 8.95 14.5 8.85 14.65 8.75 14.8 8.65 14.95 8.65 15.15 8.65 15.25 8.8 L 15.75 9.4 Q 15.45 9.75 15.15 10 14.8 10.2 14.45 10.35 14.05 10.5 13.7 10.55 13.3 10.6 12.95 10.6 12.25 10.6 11.65 10.35 11.1 10.1 10.65 9.65 10.2 9.15 9.95 8.45 9.7 7.75 9.7 6.9 9.7 6.1 9.95 5.4 10.15 4.75 10.6 4.25 11.05 3.75 11.7 3.5 12.35 3.2 13.2 3.2 14 3.2 14.6 3.45 15.2 3.7 15.7 4.2 M 5.85 4.7 Q 5.5 4.85 5.25 5.15 5.05 5.45 4.95 5.9 4.8 6.35 4.8 6.9 4.85 7.45 4.95 7.9 5.05 8.35 5.3 8.65 5.55 8.95 5.85 9.15 6.2 9.3 6.6 9.3 7 9.3 7.25 9.2 7.55 9.1 7.7 8.95 7.85 8.85 8 8.75 8.15 8.65 8.3 8.65 8.5 8.65 8.6 8.8 L 9.1 9.4 Q 8.8 9.75 8.5 10 8.15 10.2 7.8 10.35 7.4 10.5 7.05 10.55 6.65 10.6 6.3 10.6 5.6 10.6 5 10.35 4.45 10.1 4 9.65 3.55 9.15 3.3 8.45 3.05 7.75 3.05 6.9 3.05 6.1 3.3 5.4 3.5 4.75 3.95 4.25 4.4 3.75 5.05 3.5 5.7 3.2 6.55 3.2 7.35 3.2 7.95 3.45 8.55 3.7 9.05 4.2 L 8.6 4.85 Q 8.5 4.9 8.45 5 8.35 5.05 8.2 5.05 8.1 5.05 7.95 4.95 7.85 4.9 7.65 4.8 7.5 4.65 7.25 4.6 7 4.5 6.65 4.5 6.2 4.5 5.85 4.7 Z"/>\n          </svg>'},captionsOff:function(e){return'<svg class="cs-icon captions-icon" width="19px" height="16px" viewBox="0 0 19 16" focusable="false" aria-hidden="true">\n            <g>\n              <path d="M 11.45 3.5 Q 10.8 3.75 10.35 4.25 9.9 4.75 9.7 5.4 9.45 6.1 9.45 6.9 9.45 7.75 9.7 8.45 9.95 9.15 10.4 9.65 10.85 10.1 11.4 10.35 12 10.6 12.7 10.6 13.05 10.6 13.45 10.55 13.8 10.5 14.2 10.35 14.55 10.2 14.9 10 15.2 9.75 15.5 9.4 L 15 8.8 Q 14.9 8.65 14.7 8.65 14.55 8.65 14.4 8.75 14.25 8.85 14.1 8.95 13.95 9.1 13.65 9.2 13.4 9.3 13 9.3 12.6 9.3 12.25 9.15 11.95 8.95 11.7 8.65 11.45 8.35 11.35 7.9 11.25 7.45 11.2 6.9 11.2 6.35 11.35 5.9 11.45 5.45 11.65 5.15 11.9 4.85 12.25 4.7 12.6 4.5 13.05 4.5 13.4 4.5 13.65 4.6 13.9 4.65 14.05 4.8 14.25 4.9 14.35 4.95 14.5 5.05 14.6 5.05 14.75 5.05 14.85 5 14.9 4.9 15 4.85 L 15.45 4.2 Q 14.95 3.7 14.35 3.45 13.75 3.2 12.95 3.2 12.1 3.2 11.45 3.5 M 5.6 4.7 Q 5.95 4.5 6.4 4.5 6.75 4.5 7 4.6 7.25 4.65 7.4 4.8 7.6 4.9 7.7 4.95 7.85 5.05 7.95 5.05 8.1 5.05 8.2 5 8.25 4.9 8.35 4.85 L 8.8 4.2 Q 8.3 3.7 7.7 3.45 7.1 3.2 6.3 3.2 5.45 3.2 4.8 3.5 4.15 3.75 3.7 4.25 3.25 4.75 3.05 5.4 2.8 6.1 2.8 6.9 2.8 7.75 3.05 8.45 3.3 9.15 3.75 9.65 4.2 10.1 4.75 10.35 5.35 10.6 6.05 10.6 6.4 10.6 6.8 10.55 7.15 10.5 7.55 10.35 7.9 10.2 8.25 10 8.55 9.75 8.85 9.4 L 8.35 8.8 Q 8.25 8.65 8.05 8.65 7.9 8.65 7.75 8.75 7.6 8.85 7.45 8.95 7.3 9.1 7 9.2 6.75 9.3 6.35 9.3 5.95 9.3 5.6 9.15 5.3 8.95 5.05 8.65 4.8 8.35 4.7 7.9 4.6 7.45 4.55 6.9 4.55 6.35 4.7 5.9 4.8 5.45 5 5.15 5.25 4.85 5.6 4.7 Z" />\n              <path class="icon-stroke-only" stroke-width="1.5" stroke-linejoin="round" stroke-linecap="round" fill="none" d="M 9.5 15.2 L 7.8 13.5 2 13.5 Q 1.35 13.5 0.95 13.05 0.5 12.65 0.5 12 L 0.5 2 Q 0.5 1.35 0.95 0.95 1.35 0.5 2 0.5 L 17 0.5 Q 17.65 0.5 18.05 0.95 18.5 1.35 18.5 2 L 18.5 12 Q 18.5 12.65 18.05 13.05 17.65 13.5 17 13.5 L 11.2 13.5 9.5 15.2 Z" />\n            </g>\n          </svg>'},captions:function(){return'\n    <svg class="cs-icon captions-icon" width="19px" height="16px" viewBox="0 0 19 16" focusable="false" aria-hidden="true">\n      <g>\n        <path d="M 11.45 3.5 Q 10.8 3.75 10.35 4.25 9.9 4.75 9.7 5.4 9.45 6.1 9.45 6.9 9.45 7.75 9.7 8.45 9.95 9.15 10.4 9.65 10.85 10.1 11.4 10.35 12 10.6 12.7 10.6 13.05 10.6 13.45 10.55 13.8 10.5 14.2 10.35 14.55 10.2 14.9 10 15.2 9.75 15.5 9.4 L 15 8.8 Q 14.9 8.65 14.7 8.65 14.55 8.65 14.4 8.75 14.25 8.85 14.1 8.95 13.95 9.1 13.65 9.2 13.4 9.3 13 9.3 12.6 9.3 12.25 9.15 11.95 8.95 11.7 8.65 11.45 8.35 11.35 7.9 11.25 7.45 11.2 6.9 11.2 6.35 11.35 5.9 11.45 5.45 11.65 5.15 11.9 4.85 12.25 4.7 12.6 4.5 13.05 4.5 13.4 4.5 13.65 4.6 13.9 4.65 14.05 4.8 14.25 4.9 14.35 4.95 14.5 5.05 14.6 5.05 14.75 5.05 14.85 5 14.9 4.9 15 4.85 L 15.45 4.2 Q 14.95 3.7 14.35 3.45 13.75 3.2 12.95 3.2 12.1 3.2 11.45 3.5 M 5.6 4.7 Q 5.95 4.5 6.4 4.5 6.75 4.5 7 4.6 7.25 4.65 7.4 4.8 7.6 4.9 7.7 4.95 7.85 5.05 7.95 5.05 8.1 5.05 8.2 5 8.25 4.9 8.35 4.85 L 8.8 4.2 Q 8.3 3.7 7.7 3.45 7.1 3.2 6.3 3.2 5.45 3.2 4.8 3.5 4.15 3.75 3.7 4.25 3.25 4.75 3.05 5.4 2.8 6.1 2.8 6.9 2.8 7.75 3.05 8.45 3.3 9.15 3.75 9.65 4.2 10.1 4.75 10.35 5.35 10.6 6.05 10.6 6.4 10.6 6.8 10.55 7.15 10.5 7.55 10.35 7.9 10.2 8.25 10 8.55 9.75 8.85 9.4 L 8.35 8.8 Q 8.25 8.65 8.05 8.65 7.9 8.65 7.75 8.75 7.6 8.85 7.45 8.95 7.3 9.1 7 9.2 6.75 9.3 6.35 9.3 5.95 9.3 5.6 9.15 5.3 8.95 5.05 8.65 4.8 8.35 4.7 7.9 4.6 7.45 4.55 6.9 4.55 6.35 4.7 5.9 4.8 5.45 5 5.15 5.25 4.85 5.6 4.7 Z" />\n        <path class="icon-stroke-only" stroke-width="1.5" stroke-linejoin="round" stroke-linecap="round" fill="none" d="M 9.5 15.2 L 7.8 13.5 2 13.5 Q 1.35 13.5 0.95 13.05 0.5 12.65 0.5 12 L 0.5 2 Q 0.5 1.35 0.95 0.95 1.35 0.5 2 0.5 L 17 0.5 Q 17.65 0.5 18.05 0.95 18.5 1.35 18.5 2 L 18.5 12 Q 18.5 12.65 18.05 13.05 17.65 13.5 17 13.5 L 11.2 13.5 9.5 15.2 Z" />\n      </g>\n    </svg>'},carrot:function(e){return'\n    <svg style="left:calc('.concat(e,');" class="cs-icon cs-icon-carrot carrot"width="30" height="30" viewBox="0 0 30 30" focusable="false" aria-hidden="true">\n      <g transform="translate(8, 8)">\n        <polygon style="fill:currentColor !important" points="1,1.5 5,5 1,8.5"/>\n      </g>\n  </svg>')},search:function(){return'\n    <svg class="search-icon" width="13px" height="15px" viewBox="0 0 13 15" focusable="false" aria-hidden="true"\n      <g fill="none" fill-rule="evenodd">\n        <g stroke-width="2">\n          <circle cx="5.6" cy="5.6" r="4.6"/>\n          <path d="M8 9l4 5"/>\n        </g>\n      </g>\n    </svg>\n    '},searchClear:function(){return'\n    <svg class="cs-icon icon" width="11px" height="11px" viewBox="0 0 11 11">\n    <g id="Desktop-Color-Contrast" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">\n        <g id="Search" transform="translate(-290.000000, -69.000000)" fill="fill:currentColor !important" fill-rule="nonzero">\n            <g id="search" transform="translate(13.000000, 59.000000)">\n                <polygon id="ic_close" points="286.777666 10 282.500215 14.2779053 278.222334 10 277 11.2222382 281.277881 15.5002869 277 19.7779053 278.222334 21 282.500215 16.7222382 286.777666 21 288 19.7779053 283.722119 15.5002869 288 11.2222382"></polygon>\n            </g>\n        </g>\n    </g>\n    </svg>\n    '},filter:function(){return'<svg class="cs-icon icon-gear" width="14" height="14" viewBox="0 0 14 14" focusable="false" aria-hidden="true">\n    <path id="icon-gear" transform="translate(0,3)" d="M11.1,9.8C11.1,9.8,11.1,9.8,11.1,9.8C11.1,9.8,11.1,9.7,11.1,9.8c0-0.1,0.1-0.1,0.1-0.1c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0-0.1c0,0,0,0,0-0.1c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0-0.1c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0-0.1,0.1-0.1c0,0,0,0,0,0c0-0.1,0.1-0.1,0.1-0.2c0,0,0,0,0,0c0-0.1,0-0.1,0.1-0.2c0,0,0,0,0,0c0.1-0.2,0.2-0.5,0.2-0.7l2-0.4V6.4l-2-0.4c0-0.3-0.1-0.5-0.2-0.7c0,0,0,0,0,0c0-0.1,0-0.1-0.1-0.2c0,0,0,0,0,0c0-0.1,0-0.1-0.1-0.2c0,0,0,0,0,0c0,0,0-0.1-0.1-0.1c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0-0.1c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0-0.1c0,0,0,0,0-0.1c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0-0.1c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0l1.2-1.7l-0.9-0.9L9.7,2.8c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0-0.1,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0-0.1,0c0,0,0,0-0.1,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0-0.1,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0-0.1,0-0.1-0.1c0,0,0,0,0,0c-0.1,0-0.1-0.1-0.2-0.1c0,0,0,0,0,0c-0.1,0-0.1,0-0.2-0.1c0,0,0,0,0,0C8.3,2.1,8.1,2.1,7.8,2L7.4,0H6.2L5.9,2c-0.3,0-0.5,0.1-0.7,0.2c0,0,0,0,0,0C5,2.3,5,2.3,4.9,2.3c0,0,0,0,0,0c-0.1,0-0.1,0-0.2,0.1c0,0,0,0,0,0c0,0-0.1,0-0.1,0.1c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0-0.1,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0-0.1,0c0,0,0,0-0.1,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0-0.1,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0L2.3,1.6L1.4,2.5l1.2,1.7c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0.1c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0.1c0,0,0,0,0,0.1c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0.1c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0.1-0.1,0.1c0,0,0,0,0,0C2.2,5,2.2,5,2.2,5.1c0,0,0,0,0,0c0,0.1,0,0.1-0.1,0.2c0,0,0,0,0,0C2,5.5,1.9,5.8,1.9,6l-2,0.4v1.2l2,0.4c0,0.3,0.1,0.5,0.2,0.7c0,0,0,0,0,0c0,0.1,0,0.1,0.1,0.2c0,0,0,0,0,0c0,0.1,0,0.1,0.1,0.2c0,0,0,0,0,0c0,0,0,0.1,0.1,0.1c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0.1c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0.1c0,0,0,0,0,0.1c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0.1c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0l-1.2,1.7l0.9,0.9L4,11.2c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0.1,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0.1,0c0,0,0,0,0.1,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0.1,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0.1,0,0.1,0.1c0,0,0,0,0,0c0.1,0,0.1,0.1,0.2,0.1c0,0,0,0,0,0c0.1,0,0.1,0,0.2,0.1c0,0,0,0,0,0c0.2,0.1,0.5,0.2,0.7,0.2l0.4,2h1.2l0.4-2c0.3,0,0.5-0.1,0.7-0.2c0,0,0,0,0,0c0.1,0,0.1,0,0.2-0.1c0,0,0,0,0,0c0.1,0,0.1,0,0.2-0.1c0,0,0,0,0,0c0,0,0.1,0,0.1-0.1c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0.1,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0.1,0c0,0,0,0,0.1,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0.1,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0l1.7,1.2l0.9-0.9L11.1,9.8C11,9.8,11,9.8,11.1,9.8C11,9.8,11.1,9.8,11.1,9.8z M6.8,9.2c-1.2,0-2.2-1-2.2-2.2c0-1.2,1-2.2,2.2-2.2C8,4.8,9,5.8,9,7C9,8.2,8,9.2,6.8,9.2z"/>\n  </svg>'},close:function(){return'\n    <svg class="cs-icon icon-close" width="20" height="20" viewBox="0 0 36 36" focusable="false" aria-hidden="true">\n      <polygon points="36,2.826 33.174,0 18,15.174 2.826,0 0,2.826 15.174,18 0,33.174 2.826,36 18,20.826 33.174,36 36,33.174 20.826,18" />\n    </svg>'},clear:function(){return'<svg class="cs-icon icon-clear" width="13" height="14" viewBox="0 0 13 14" focusable="false" aria-hidden="true">\n    <use xlink:href="#icon-clear" fill="rgba(240, 240, 240, 1)" transform="translate(0, 1)" />\n    <path id="icon-clear" transform="translate(3,3)" d="M6.5,0C2.9,0,0,2.9,0,6.5C0,10.1,2.9,13,6.5,13c3.6,0,6.5-2.9,6.5-6.5C13,2.9,10.1,0,6.5,0z M1.5,6.5c0-2.8,2.2-5,5-5c1.2,0,2.4,0.5,3.2,1.2L2.2,9.1C1.8,8.3,1.5,7.5,1.5,6.5z M6.5,11.5c-1.2,0-2.3-0.5-3.2-1.2L10.8,4c0.4,0.7,0.7,1.6,0.7,2.5C11.5,9.3,9.3,11.5,6.5,11.5z"/>\n  </svg>'},hamburger:function(){return'\n    <svg class="cs-icon" width="30px" height="12px" viewBox="0 10 30 12" focusable="false" aria-hidden="true">\n      <path transform="translate(0, 1)" d="M0,15 L17,15 L17,17 L0,17 L0,15 Z M0,11 L17,11 L17,13 L0,13 L0,11 Z M0,19 L17,19 L17,21 L0,21 L0,19 Z" ></path>\n    </svg>\n  '},file:function(){return'\n    <svg width="20px" height="27px" viewBox="0 0 40 50" role="presentation" focusable="false" aria-hidden="true">\n      <g stroke="none" strokeWidth="1" fill="none" fillRule="evenodd">\n        <g>\n          <path class="file-icon-bg" d="M2.00804893,0 C0.899034128,0 0,0.889064278 0,1.99091407 L0,48.0090859 C0,49.1086374 0.892756032,50 1.99862555,50 L37.2170607,50 C38.3208711,50 39.2156863,49.1011186 39.2156863,47.993136 L39.2156863,13.6363636 L26.1437908,0 L2.00804893,0 Z"></path>\n          <path class="file-icon-fold" d="M26.1437908,0 L26.1437908,11.7296861 C26.1437908,12.8319383 27.0422752,13.7254902 28.1433598,13.7254902 L39.2156863,13.7254902"></path>\n        </g>\n      </g>\n    </svg>'},link:function(e){return'\n  <svg class="link-icon" preserveAspectRatio="none" x="0px" y="0px" width="18px" height="18px" viewBox="0 0 18 18" role="presentation" focusable="false" aria-hidden="true">\n      <path fill="'.concat(e,'" stroke="none" d="\n            M 1.45 8.5\n            Q 0.0453125 10.0015625 0 11.9\n            L 0 12.15\n            Q 0.0453125 14.0484375 1.45 15.55\n            L 1.5 15.6\n            Q 3.0015625 17.0046875 4.85 17.05\n            L 5.1 17.05\n            Q 7.0150390625 17.0046875 8.5 15.6\n            L 10.65 13.45\n            Q 10.95 13.15 10.95 12.75 10.95 12.35 10.65 12.05 10.3689453125 11.7689453125 10 11.75\n            L 9.95 11.75\n            Q 9.55 11.75 9.2 12.05\n            L 7.1 14.15\n            Q 6.2 15.05 5 15.05 3.8 15.05 2.9 14.15 2 13.25 2 12.05 2 10.8826171875 2.85 9.95\n            L 5 7.8\n            Q 5.3 7.5 5.3 7.1\n            L 5.3 7.05\n            Q 5.2810546875 6.6810546875 5 6.4 4.7 6.1 4.3 6.1 3.9 6.1 3.55 6.4\n            L 1.45 8.5\n            M 12.05 5\n            Q 11.75 4.7 11.35 4.7 10.95 4.7 10.65 5\n            L 5 10.65\n            Q 4.7 10.95 4.7 11.35 4.7 11.75 5 12.05 5.3 12.35 5.7 12.35 6.1 12.35 6.4 12.05\n            L 12.05 6.4\n            Q 12.35 6.1 12.35 5.7 12.35 5.3 12.05 5\n            M 15.6 1.5\n            L 15.55 1.45\n            Q 14 0 12.05 0\n            L 12 0\n            Q 10.05 0 8.5 1.45\n            L 6.4 3.55\n            Q 6.1 3.9 6.1 4.3 6.1 4.7 6.4 5 6.7 5.3 7.1 5.3 7.5 5.3 7.8 5\n            L 9.95 2.85\n            Q 10.8826171875 2 12.05 2 13.25 2 14.15 2.9 15.05 3.8 15.05 5 15.05 6.2 14.15 7.1\n            L 12.05 9.2\n            Q 11.75 9.55 11.75 9.95 11.75 10.35 12.05 10.65 12.35 10.95 12.75 10.95 13.15 10.95 13.45 10.65\n            L 15.6 8.5\n            Q 17.05 6.96875 17.05 5 17.05 3.05 15.6 1.5 Z"/>\n          </svg>')},settings:function(){return'\n    <svg class="cs-icon" data-ref="settings" width="16px" height="16px" viewBox="0 0 16 16" focusable="false" aria-hidden="true">\n      <path d="M8.94,0 C9.82,0 10.55,0.62 10.63,1.45 L10.73,2.36 C11.1,2.52 11.45,2.71 11.78,2.94 L12.66,2.56 C13.46,2.22 14.39,2.5 14.83,3.23 L15.77,4.77 C16.21,5.5 16,6.4 15.29,6.9 L14.51,7.42 C14.54,8.19 14.53,8.38 14.51,8.58 L15.29,9.11 C16,9.6 16.21,10.51 15.77,11.23 L14.83,12.77 C14.39,13.49 13.46,13.78 12.66,13.44 L11.78,13.06 C11.45,13.29 11.1,13.48 10.73,13.64 L10.63,14.55 C10.55,15.38 9.82,16 8.94,16 L7.06,16 C6.18,16 5.45,15.38 5.37,14.55 L5.27,13.64 C4.9,13.48 4.55,13.29 4.22,13.06 L3.34,13.44 C2.54,13.78 1.61,13.5 1.17,12.77 L0.23,11.23 C-0.21,10.51 0,9.6 0.71,9.11 L1.49,8.58 C1.46,7.81 1.47,7.62 1.49,7.42 L0.71,6.89 C0,6.40 -0.21,5.49 0.23,4.77 L1.17,3.23 C1.61,2.51 2.54,2.22 3.34,2.56 L4.22,2.94 C4.55,2.71 4.9,2.52 5.27,2.36 L5.37,1.45 C5.45,0.62 6.18,0 7.06,0 Z M7.96,4.53 C5.91,4.53 4.25,6.11 4.25,8.06 C4.25,10.01 5.91,11.59 7.96,11.59 C10.02,11.59 11.68,10.01 11.68,8.06 C11.68,6.11 10.02,4.53 7.96,4.53 Z"></path>\n    </svg>\n    '},playbackSpeed:function(){return'\n    <svg class="cs-icon" width="15" height="15" viewBox="0 0 15 15" focusable="false" aria-hidden="true">\n      <path d="M5.9 4.0L10.4 7.4L5.9 10.8V4.0ZM1.5 8.2H0.0C0.1 9.6 0.6 10.9 1.5 12.0L2.6 11.0C2.0 10.1 1.6 9.2 1.5 8.2H1.5ZM15 7.4H14.9C14.9 5.6 14.3 3.8 13.0 2.4C11.8 1.0 10.0 0.1 8.2 0.0V1.5C10.1 1.7 11.8 2.9 12.8 4.7C13.7 6.4 13.7 8.5 12.8 10.2C11.8 12.0 10.1 13.1 8.2 13.4V14.9C10.0 14.7 11.8 13.8 13.0 12.5C14.3 11.1 14.9 9.3 14.9 7.4L15 7.4ZM3.6 12.1L2.5 13.1C3.7 14.1 5.1 14.8 6.7 14.9V13.4V13.4C5.5 13.3 4.5 12.8 3.6 12.1V12.1ZM2.6 3.9L1.5 2.8C0.6 3.9 0.1 5.3 0 6.7H1.5H1.5C1.6 5.7 2.0 4.7 2.6 3.9H2.6ZM6.7 1.5V0.0C5.1 0.1 3.7 0.7 2.5 1.7L3.6 2.8C4.5 2.1 5.5 1.6 6.7 1.5V1.5Z" stroke="none" />\n    </svg>\n  '},track:function(e,t){return'\n    <svg xmlns:xlink="http://www.w3.org/1999/xlink" width="24px" height="16px" viewBox="0 0 24 16" focusable="false" aria-hidden="true">\n      <defs>\n        <rect id="'.concat(t,'-track" x="2" y="3.5" width="20" height="9" rx="4.5"></rect>\n        <filter x="-12.5%" y="-27.8%" width="125.0%" height="155.6%" filterUnits="objectBoundingBox" id="').concat(t,'-trackFilter">\n          <feGaussianBlur stdDeviation="1.5" in="SourceAlpha" result="shadowBlurInner1"></feGaussianBlur>\n          <feOffset dx="0" dy="1" in="shadowBlurInner1" result="shadowOffsetInner1"></feOffset>\n          <feComposite in="shadowOffsetInner1" in2="SourceAlpha" operator="arithmetic" k2="-1" k3="1" result="shadowInnerInner1"></feComposite>\n          <feColorMatrix values="0 0 0 0 0   0 0 0 0 0   0 0 0 0 0  0 0 0 0.5 0" type="matrix" in="shadowInnerInner1"></feColorMatrix>\n        </filter>\n      </defs>\n      <g class="thumb-off" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">\n        <g>\n          <use class="track" fill-rule="evenodd" xlink:href="#').concat(t,'-track"></use>\n          <use fill="black" fill-opacity="1" filter="url(#').concat(t,'-trackFilter)" xlink:href="#').concat(t,'-track"></use>\n          <use class="border" stroke-width="1" xlink:href="#').concat(t,'-track"></use>\n          <circle class="thumb" stroke-width="0" cx="8" cy="8" r="6"></circle>\n        </g>\n      </g>\n      <g class="thumb-on" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">\n        <g>\n          <use class="track" fill-rule="evenodd" xlink:href="#').concat(t,'-track"></use>\n          <use fill="black" fill-opacity="1" filter="url(#').concat(t,'-trackFilter)" xlink:href="#').concat(t,'-track"></use>\n          <use class="border" stroke-width="1" xlink:href="#').concat(t,'-track"></use>\n          <circle fill="').concat(e,'" stroke-width="0" cx="16" cy="8" r="6"></circle>\n        </g>\n      </g>\n    </svg>\n  ')},downArrow:function(e,t){return'\n    <div style="height: 100%; width: 100%; background-color: '.concat(e,"; border-right: 1px solid; border-bottom: 1px solid; border-color: ").concat(t,'; border-bottom-right-radius: 3px; transform: rotate(45deg);" />\n    ')},checkmark:function(){return'<svg  class="cs-icon check-icon" focusable="false" aria-hidden="true" width="16px" height="16px" viewBox="0 0 16 16" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">\n      <g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">\n          <polygon style="fill:currentColor !important" points="12.04 4 13.45 5.41 6.25 12.62 2 8.36 3.41 6.95 6.25 9.79"></polygon>\n      </g>\n    </svg>'},lock:function(){return'<svg width="16px" height="12px" viewBox="0 0 9 12" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">\n    <g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">\n        <g fill="#FFFFFF" fill-rule="nonzero">\n            <path style="fill:currentColor !important" d="M7.875,4 L7.3125,4 L7.3125,2.85714286 C7.3125,1.28 6.0525,0 4.5,0 C2.9475,0 1.6875,1.28 1.6875,2.85714286 L1.6875,4 L1.125,4 C0.50625,4 0,4.51428571 0,5.14285714 L0,10.8571429 C0,11.4857143 0.50625,12 1.125,12 L7.875,12 C8.49375,12 9,11.4857143 9,10.8571429 L9,5.14285714 C9,4.51428571 8.49375,4 7.875,4 Z M6.24375,4 L2.75625,4 L2.75625,2.85714286 C2.75625,1.88 3.538125,1.08571429 4.5,1.08571429 C5.461875,1.08571429 6.24375,1.88 6.24375,2.85714286 L6.24375,4 Z"></path>\n        </g>\n    </g>\n</svg>'},lockedViewed:function(){return'<svg width="16px" height="12px" viewBox="0 0 9 12" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">\n    <g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">\n        <g fill="#FFFFFF" fill-rule="nonzero">\n            <path style="fill:currentColor !important" d="M7.875,4 L7.3125,4 L7.3125,2.85714286 C7.3125,1.28 6.0525,0 4.5,0 C2.9475,0 1.6875,1.28 1.6875,2.85714286 L1.6875,4 L1.125,4 C0.50625,4 0,4.51428571 0,5.14285714 L0,10.8571429 C0,11.4857143 0.50625,12 1.125,12 L7.875,12 C8.49375,12 9,11.4857143 9,10.8571429 L9,5.14285714 C9,4.51428571 8.49375,4 7.875,4 Z M7.11248548,6.17405922 C7.38175483,6.47268397 7.38175483,6.92847965 7.0966461,7.21138731 L4.53066757,9.75755627 C4.38811321,9.8990101 4.19804072,9.96187847 4.02380761,9.96187847 C3.83373513,9.96187847 3.65950202,9.8990101 3.51694766,9.75755627 L2.34544071,8.45018243 C2.06033199,8.16727477 2.06033199,7.71147909 2.34544071,7.42857143 C2.63054944,7.14566377 3.08989127,7.14566377 3.375,7.42857143 L4.02380761,8.21728122 L6.08292619,6.17405922 C6.36803491,5.89115155 6.82737675,5.89115155 7.11248548,6.17405922 Z M4.5,1.08571429 C5.461875,1.08571429 6.24375,1.88 6.24375,2.85714286 L6.24375,4 L2.75625,4 L2.75625,2.85714286 C2.75625,1.88 3.538125,1.08571429 4.5,1.08571429 Z"></path>\n        </g>\n    </g>\n</svg>'},languagePicker:function(){return'\n<svg class="cs-icon" viewBox="0 0 48 48" width="16" height="16" xmlns="http://www.w3.org/2000/svg">\n  <path d="M23.99 4c-11.05 0-19.99 8.95-19.99 20s8.94 20 19.99 20c11.05 0 20.01-8.95 20.01-20s-8.96-20-20.01-20zm13.85 12h-5.9c-.65-2.5-1.56-4.9-2.76-7.12 3.68 1.26 6.74 3.81 8.66 7.12zm-13.84-7.93c1.67 2.4 2.97 5.07 3.82 7.93h-7.64c.85-2.86 2.15-5.53 3.82-7.93zm-15.48 19.93c-.33-1.28-.52-2.62-.52-4s.19-2.72.52-4h6.75c-.16 1.31-.27 2.64-.27 4 0 1.36.11 2.69.28 4h-6.76zm1.63 4h5.9c.65 2.5 1.56 4.9 2.76 7.13-3.68-1.26-6.74-3.82-8.66-7.13zm5.9-16h-5.9c1.92-3.31 4.98-5.87 8.66-7.13-1.2 2.23-2.11 4.63-2.76 7.13zm7.95 23.93c-1.66-2.4-2.96-5.07-3.82-7.93h7.64c-.86 2.86-2.16 5.53-3.82 7.93zm4.68-11.93h-9.36c-.19-1.31-.32-2.64-.32-4 0-1.36.13-2.69.32-4h9.36c.19 1.31.32 2.64.32 4 0 1.36-.13 2.69-.32 4zm.51 11.12c1.2-2.23 2.11-4.62 2.76-7.12h5.9c-1.93 3.31-4.99 5.86-8.66 7.12zm3.53-11.12c.16-1.31.28-2.64.28-4 0-1.36-.11-2.69-.28-4h6.75c.33 1.28.53 2.62.53 4s-.19 2.72-.53 4h-6.75z"/>\n</svg>\n  '}},yr={play:function(){return'<svg id="icon-play" class="cs-icon play-icon" width="14" height="16" viewBox="0 0 14 16" focusable="false" aria-hidden="true">\n    <path d="M1.4 15.4C0.8 15.8 0 15.3 0 14.5L0 1.4C0 0.6 0.8 0.1 1.4 0.5L12.9 7.1C13.5 7.5 13.5 8.4 12.9 8.8L8.0 11.6L1.4 15.4Z" stroke="none" />\n  </svg>'}},br=function(e){return DS.detection.env.isPerpetual?pr[e]||hr:yr[e]||pr[e]||hr},vr=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return Ae.innerWidth-e<900};function mr(e){return mr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},mr(e)}function gr(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,(r=i.key,o=void 0,o=function(e,t){if("object"!==mr(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!==mr(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(r,"string"),"symbol"===mr(o)?o:String(o)),i)}var r,o}function wr(e,t){return wr=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},wr(e,t)}function Sr(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=Or(e);if(t){var r=Or(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return function(e,t){if(t&&("object"===mr(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return kr(e)}(this,n)}}function kr(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Or(e){return Or=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Or(e)}var Er=DS,Cr=Er.pubSub,xr=Er.events,Pr=Er.constants,Lr=Er.focusManager,Tr=Er.globalEventHelper.addWindowListener,_r=Er.dom,jr=_r.addClass,Dr=_r.removeClass,Ar=!1,Ir=!0,Rr="floating-sidebar",Br=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&wr(e,t)}(o,e);var t,n,i,r=Sr(o);function o(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),t=r.call(this,e),_.bindAll(kr(t),"onToggle","onResize","onOver","onOut"),t.nameSpace=ne.getNamespace(t.view.nameSpace),t.sidebar=t.nameSpace.sidebar,t.removeCollapseSidebarListener=null,t.toggle=!1,t.onClick(t.onToggle),(ne.model.sidebarOpts.closed&&Ir||Ar)&&(jr(document.body,"sidebar-closed"),t.sidebar.collapsed=!0,t.sidebar.collapsing=t.sidebar.collapsed),t.overlay=t.nameSpace.sidebarOverlay.el,t.onClickEl(t.overlay,t.onToggle),Cr.on(xr.sidebar.CLOSE,(function(){t.sidebar.collapsed||t.onToggle()})),Cr.on(xr.sidebar.OPEN,(function(){t.sidebar.collapsed&&t.onToggle()})),Cr.on(xr.frame.RESIZE,t.onResize),Tr("resize",t.onResize),t.onResize(null,!0),t.wrapperEl.addEventListener("mouseenter",t.onOver),t.wrapperEl.addEventListener("mouseleave",t.onOut),Ir=!1,Ae.isLockedOption&&"left"===ne.model.sidebarOpts.sidebarPos&&(ne.model.sidebarOpts.closed||!ne.model.sidebarOpts.sidebarEnabled)&&jr(t.wrapperEl,"menu-icon-wrapper-locked-left"),t}return t=o,n=[{key:"keyUpCollapseSidebar",value:function(e){e.keyCode!==Pr.keys.ESCAPE||this.sidebar.collapsed||("hamburger"===Lr.lastFocusedElement().id?this.onToggle():this.onToggle(!1))}},{key:"getViewBox",value:function(){var e=this.el.getBoundingClientRect();return{x:e.left+10,y:e.top+10,w:e.width-5,h:e.height}}},{key:"onOver",value:function(e){jr(this.wrapperEl,"menu-icon-wrapper-hover")}},{key:"onOut",value:function(e){Dr(this.wrapperEl,"menu-icon-wrapper-hover")}},{key:"setExpandedAttr",value:function(){return this.sidebar.collapsed?this.overlay.style.opacity=0:this.overlay.style.opacity=.7,this.el.setAttribute("aria-expanded",!this.sidebar.collapsed),this}},{key:"animateSidebar",value:function(){this.animate||(this.sidebar.animate=!0,this.sidebar.update())}},{key:"onResize",value:function(e,t){var n=ne.model.dockSettings,i=n.dockedState,r=n.width,o=i!==Pr.docked.NONE?r:0;vr(o)&&this.sidebar.visible?(this.sidebar.startFloat(),jr(document.body,Rr),null==this.removeCollapseSidebarListener&&(this.removeCollapseSidebarListener=Tr("keyup",this.keyUpCollapseSidebar.bind(this)))):(this.sidebar.endFloat(),Dr(document.body,Rr),null!=this.removeCollapseSidebarListener&&(this.removeCollapseSidebarListener(),this.removeCollapseSidebarListener=null));var a=Ae.innerWidth-o;!this.sidebar.collapsed&&vr(o)&&(this.prevWidth>a||t)?(this.sidebar.autoCollapsed=!0,this.sidebar.collapsed=!0,this.setExpandedAttr().animateSidebar()):this.sidebar.autoCollapsed&&!this.sidebar.floating&&this.prevWidth<a&&(this.sidebar.collapsed=!1,this.sidebar.autoCollapsed=!1,this.setExpandedAttr().animateSidebar()),this.prevWidth=a}},{key:"onToggle",value:function(){var e=this,t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.sidebar.collapsed=!this.sidebar.collapsed,this.sidebar.collapsed||(this.sidebar.autoCollapsed=!1),t?(this.onBlur(),this.setExpandedAttr().animateSidebar(),setTimeout((function(){e.sidebar.collapsed?e.onFocus():e.sidebar.el.querySelector('[tabIndex="0"]').focus()}),250)):this.setExpandedAttr().animateSidebar(),Cr.trigger(xr.hamburger.TOGGLE,this.sidebar.collapsed)}},{key:"teardown",value:function(){Ar=this.sidebar.collapsed,Cr.off(xr.sidebar.CLOSE),Cr.off(xr.sidebar.OPEN)}}],n&&gr(t.prototype,n),i&&gr(t,i),Object.defineProperty(t,"prototype",{writable:!1}),o}(cn),Mr=Br,Hr=DS.detection.deviceView,Nr="hamburger";ne.def(Nr,Mr,(function(e){var t=ne.model,n=ne.getNamespace(e).sidebar;return{tag:"button",ariaStringId:"sidebar_toggle",attrs:{id:Nr,"aria-expanded":!t.sidebarOpts.closed,"aria-controls":"sidebar","aria-label":"".concat(t.getString("sidebar_toggle")),tabIndex:0},x:function(){return"left"===n.pos?n.data.actualWidth():Hr.isMobile?-(this.w+1):-65},w:50,h:65,outsideContent:!0,html:function(){return'\n      <div class="menu-icon-wrapper" data-ref="wrapper">\n        '.concat(br("hamburger")()+ne.iconTextEl("sidebar_toggle","scale: 1 4"),"\n      </div>\n    ")}}}));var Fr=DS,Wr=Fr.detection.deviceView,Vr=Fr.pubSub,zr=Fr.events,Ur="topBar";ne.def(Ur,(function(e){var t=ne.getNamespace(e),n=t.sidebar,i=t.hamburger,r=t.title,o=t.topEllipsis,a=t.frame,l=t.slide,s=ne.model;return Vr.on(zr.frameModel.LAYOUT_CHANGED,(function(e){var n=t.topBar.el,i=t.topTabs.el;!ne.model.topbarHasTabs&&ne.model.sidebarOpts.titleEnabled?(n.removeAttribute("aria-hidden"),i.setAttribute("aria-hidden","true")):ne.model.topbarHasTabs?(n.removeAttribute("aria-hidden"),i.removeAttribute("aria-hidden")):n.setAttribute("aria-hidden","true")})),{tag:"section",noTabIndex:!0,attrs:{id:Ur,"aria-label":"top bar"},overflow:"visible",x:function(){var e=s.dockSettings,t=e.dockedState,n=e.width,i="left"===t?n:0;return l.sidebarXOffset+i},y:0,w:function(){var e=s.dockSettings,t=e.dockedState,n=e.width,i="none"!==t?n:0;return a.w-(l.sidebarWidthOffset+i)},h:function(){return Wr.isMobile||l.topBarExists()?ri:0},updateHook:function(){var e;this.hasAllChildren()&&(this.reducedLayout=!1,(null==r?void 0:r.w)+(null!==(e=null==o?void 0:o.w)&&void 0!==e?e:0)+(n.visible?i.w+ni:0)>this.w&&(this.reducedLayout=!0,this.titleW=this.w-((null==o?void 0:o.w)+(n.visible?i.w+ni:0))))}}}));var Kr="title",Qr=DS,Gr=Qr.detection,qr=Qr.utils;function Zr(e){return Zr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Zr(e)}function Yr(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var i,r,o,a,l=[],s=!0,c=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(i=o.call(n)).done)&&(l.push(i.value),l.length!==t);s=!0);}catch(e){c=!0,r=e}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw r}}return l}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Xr(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Xr(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Xr(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function $r(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,ro(i.key),i)}}function Jr(e,t){return Jr=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Jr(e,t)}function eo(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=no(e);if(t){var r=no(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return function(e,t){if(t&&("object"===Zr(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return to(e)}(this,n)}}function to(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function no(e){return no=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},no(e)}function io(e,t,n){return(t=ro(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ro(e){var t=function(e,t){if("object"!==Zr(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!==Zr(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===Zr(t)?t:String(t)}ne.def(Kr,cn,(function(e){var t,n=ne.model,i=ne.model.frame,r=ne.getNamespace(e),o=r.hamburger,a=r.sidebar,l=r.topBar,s=function(){return"right"===a.pos&&!n.rtl},c=i.fontscale/100;t=1.23077*c*13+ni;var u=!Gr.deviceView.isPhone&&n.sidebarOpts.titleEnabled;return{simpleView:!0,id:Kr,tag:"h1",attrs:{class:"presentation-title cs-title"},overflow:"visible",x:function(){var e=a.visible?o.w:11,t=n.rtl?this.parent.w-this.w-5:11+e;return"right"===a.pos&&o.visible&&(t-=e),t},y:"vertical-center",calcTextSize:!0,w:function(){return l.reducedLayout?l.titleW:Math.max(this.minW,this.lastWidthByText)+this.wPad+(s()?26:0)},h:22,html:function(){var e="width: calc(100% - (".concat(s()?26:0,"px))");return["<div data-ref='label' style=\"".concat(e,'" class="presentation-title-text">\n          <span class="resizeable-text">').concat(u?n.title.text:"","</span>\n        </div>"),'<div data-ref=\'separator\' class="top-tabs-line" style="height:'.concat(t,"px; display:").concat(s()?"block":"none",'"></div>')].join("")},beforeUpdateHook:function(){DS.localizationManager.isMultiLanguageProject()&&(this.children.separator.el.style.display=s()?"block":"none",this.doTextCalcs())},methods:{updateDomStrings:function(){u&&(this.viewLogic.labelEl.textContent=qr.decodeHtml(n.title.text))}},visible:u}}));var oo=DS,ao=oo.detection,lo=oo.events,so=oo.pubSub,co=oo.svgUtils,uo=oo._.bindAll,fo={remaining:function(e,t){return DS.utils.formatSecondsAsTime(t-e,!0)},totalelapsed:function(e,t){return[e,t].map((function(e){return DS.utils.formatSecondsAsTime(e,!0)})).join(" / ")},elapsed:function(e){return DS.utils.formatSecondsAsTime(e,!0)},none:function(){return""}},ho=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Jr(e,t)}(o,e);var t,n,i,r=eo(o);function o(e){var t,n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),io(to(n=r.call(this,e)),"updateReadeableTimer",(function(){n.timerTextReadEl.innerHTML=n.timerTextEl.innerHTML})),uo(to(n),"onShow","onHide","onTick"),so.on((io(t={},lo.timer.SHOW,n.onShow),io(t,lo.timer.HIDE,n.onHide),t)),n.timeFormat=n.getTimeFormat(),n.isPieProgress=ao.theme.isUnified,n}return t=o,(n=[{key:"getTimeFormat",value:function(){if(!ao.deviceView.isClassicMobile){var e=ne.model.sidebarOpts.timeFormat;if(e&&null!=fo[e.toLowerCase()])return e.toLowerCase();if(!ne.model.sidebarOpts.timeEnabled)return"none"}return"remaining"}},{key:"teardown",value:function(){var e;so.off((io(e={},lo.timer.SHOW,this.onShow),io(e,lo.timer.HIDE,this.onHide),e))}},{key:"onTick",value:function(e,t,n){if(this.view.children.timerText.el.innerHTML=fo[this.timeFormat](t,n),!ao.deviceView.isClassicMobile){var i=co.wheelPath(9,9,9,0,360*(1-e),this.isPieProgress);this.view.children.timerPath.el.setAttributeNS(null,"d",i)}}},{key:"onShow",value:function(e){null!=this.currentTimer&&this.onHide(),this.currentTimer=e,this.currentTimer.on("tick",this.onTick),ao.deviceView.isDesktop&&(requestAnimationFrame(this.updateReadeableTimer),this.timeReadId=setInterval(this.updateReadeableTimer,7e3)),this.toggleVisibility(!0),window.requestAnimationFrame(DS.pubSub.trigger.bind(DS.pubSub,DS.events.timer.SHOWN))}},{key:"onHide",value:function(){null!=this.currentTimer&&(this.currentTimer.off("tick",this.onTick),this.currentTimer=null,ao.deviceView.isDesktop&&clearTimeout(this.timeReadId),window.requestAnimationFrame(DS.pubSub.trigger.bind(DS.pubSub,DS.events.timer.HIDDEN))),this.toggleVisibility(!1)}},{key:"toggleVisibility",value:function(e){var t=Yr(e?["add","remove"]:["remove","add"],2),n=t[0],i=t[1];document.body.classList[n]("timer-shown"),this.el.classList[i]("hidden"),this.el.classList[n]("shown"),this.view.setVisibility(e),this.view.parent.updateChildren(!0)}},{key:"onFocus",value:function(){var e=this.view.children.timerText.el.getBoundingClientRect(),t=e.left,n=e.top,i=e.width,r=e.height;t-=8,n-=8,i+=37,r+=12,DS.focusManager.setFocusRectOn(this.el,{left:t,top:n,width:i,height:r})}}])&&$r(t.prototype,n),i&&$r(t,i),Object.defineProperty(t,"prototype",{writable:!1}),o}(cn),po=ho,yo=DS.detection,bo="timer";ne.def(bo,po,(function(e){var t=ne.getNamespace(e),n=t.topBar,i=t.title,r=t.sidebar,o=t.hamburger,a=t.topEllipsis;return{noTabIndex:!0,attrs:{id:bo,"aria-label":"timer",class:"timer cs-timer"},overflow:"visible",visible:!1,methods:{hasUpperRightElement:function(){var e="right"===r.pos&&o.visible,t="left"===r.pos&&a.visible;return e||t}},x:function(){var e=ne.model.rtl?n.w-240-(i.visible?i.w:0):n.w-230;return"right"===r.pos&&o.visible&&(e-=o.w),yo.deviceView.isPhone&&(e+=4,yo.orientation.isLandscape?e=window.innerWidth-this.w-5:this.hasUpperRightElement()?e-=58:e-=ni),e},y:function(){var e=ii;return yo.deviceView.isPhone&&yo.orientation.isLandscape&&this.hasUpperRightElement()&&(e+=ii),e},w:220,h:22,html:function(){return'\n        <div class="timer-wheel cs-pie" aria-hidden="true">\n          '.concat('\n          <svg\n            style="width: 18px; height: 18px; overflow: visible;"\n            width="18"\n            height="18"\n            xmlns:xlink="http://www.w3.org/1999/xlink"\n            focusable="false"\n            >\n\n            <circle class="circle-progress-pie"\n              cx="9" cy="9" r="'.concat(8,'"\n              stroke-width="').concat(2,'"\n              fill="transparent" />\n\n            <path data-ref="timerPath"\n              d=""\n              class="cs-brandhighlight-fill"\n              transform="rotate(-90 9 9)"\n              stroke="none" />\n\n          </svg>\n          '),"\n        </div>\n\n        <div class=\"timer-text\" data-ref='timerText' aria-hidden=\"true\"></div>\n        <div class=\"timer-text timer-text-readeable\" data-ref='timerTextRead' tabindex='0' data-tabindex='0'></div>")}}}));var vo=function(e,t){return'\n    <div class="panel-arrow" data-ref="arrow" style="height: 17px; width: 17px; position: absolute;">\n      <div class="panel-arrow-path"\n        style="\n          height: 100%;\n          width: 100%;\n          background-color: '.concat(e,";\n          border-left: 1px solid;\n          border-top: 1px solid;\n          border-color: ").concat(t,';\n          border-top-left-radius: 3px;\n          transform: rotate(45deg);\n          "\n        />\n    </div>')};function mo(e){return mo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},mo(e)}function go(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,Co(i.key),i)}}function wo(e,t){return wo=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},wo(e,t)}function So(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=Oo(e);if(t){var r=Oo(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return function(e,t){if(t&&("object"===mo(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return ko(e)}(this,n)}}function ko(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Oo(e){return Oo=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Oo(e)}function Eo(e,t,n){return(t=Co(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Co(e){var t=function(e,t){if("object"!==mo(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!==mo(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===mo(t)?t:String(t)}var xo=DS,Po=(xo.detection,xo.events),Lo=xo.pubSub,To=xo.utils.pxify,_o=Object.freeze({unknown:0,tabLinkPanel:1,topEllipsesPanel:2}),jo=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&wo(e,t)}(o,e);var t,n,i,r=So(o);function o(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),Eo(ko(t=r.call(this,e)),"onTabLinkPanelShown",(function(e){var n=e.view.panel.children.arrow;t.showArrowShadow(n),t.lastWidget=_o.tabLinkPanel})),Eo(ko(t),"onTabLinkHidePanel",(function(){t.lastWidget===_o.tabLinkPanel&&t.hideArrowShadow()})),Eo(ko(t),"onTopEllipsesPanelShown",(function(e){e.view.children.topEllipsisPanel;var n=e.view.children.arrow;t.showArrowShadow(n),t.lastWidget=_o.topEllipsesPanel})),Eo(ko(t),"onTopEllipsesHidePanel",(function(){t.lastWidget===_o.topEllipsesPanel&&t.hideArrowShadow()})),Eo(ko(t),"showArrowShadow",(function(e){var n=e.el;if(t.isVisible(n)){var i=DS.views.getTopNameSpace().sidebar.el.getBoundingClientRect(),r=n.getBoundingClientRect(),o=i.x>=0,a=i.x<r.x&&o?i.width:0,l=r.x-a,s=r.y+t.view.h/2+1;t.el.style.transform="translate(".concat(To(l),", ").concat(To(s),")"),t.el.style.display="block",t.el.getBoundingClientRect().x!==r.x&&(t.el.style.display="none")}})),Eo(ko(t),"hideArrowShadow",(function(){t.el.style.display="none"})),Eo(ko(t),"isVisible",(function(e){return"block"===window.getComputedStyle(e).display})),Eo(ko(t),"applyPanelShadowForIE11",(function(e){e.el.style.boxShadow="0 0 40px rgba(0, 0, 0, 0.20)"})),t.lastWidget=_o.unknown,Lo.on(Po.tabLink.PANEL_SHOWN,t.onTabLinkPanelShown),Lo.on(Po.tabLink.HIDE_PANEL,t.onTabLinkHidePanel),Lo.on(Po.topEllipsesPanel.PANEL_SHOWN,t.onTopEllipsesPanelShown),Lo.on(Po.topEllipsesPanel.HIDE_PANEL,t.onTopEllipsesHidePanel),t}return t=o,n&&go(t.prototype,n),i&&go(t,i),Object.defineProperty(t,"prototype",{writable:!1}),t}(cn),Do=jo,Ao="arrowShadow";function Io(e){return Io="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Io(e)}function Ro(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var i,r,o,a,l=[],s=!0,c=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(i=o.call(n)).done)&&(l.push(i.value),l.length!==t);s=!0);}catch(e){c=!0,r=e}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw r}}return l}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Bo(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Bo(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Bo(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function Mo(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,(r=i.key,o=void 0,o=function(e,t){if("object"!==Io(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!==Io(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(r,"string"),"symbol"===Io(o)?o:String(o)),i)}var r,o}function Ho(){return Ho="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var i=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Vo(e)););return e}(e,t);if(i){var r=Object.getOwnPropertyDescriptor(i,t);return r.get?r.get.call(arguments.length<3?e:n):r.value}},Ho.apply(this,arguments)}function No(e,t){return No=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},No(e,t)}function Fo(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=Vo(e);if(t){var r=Vo(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return function(e,t){if(t&&("object"===Io(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Wo(e)}(this,n)}}function Wo(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Vo(e){return Vo=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Vo(e)}ne.def(Ao,Do,(function(e){var t=ke.getColor(e,".cs-topmenu-item.active .cs-panel","background-color");return{attrs:{id:Ao},w:17,overflow:"visible",h:17,html:vo(t,t),style:{display:"none"}}}));var zo=DS,Uo=zo._,Ko=zo.keyManager,Qo=zo.focusManager,Go=zo.windowManager,qo=zo.pubSub,Zo=zo.events,Yo=zo.detection,Xo=zo.globalEventHelper,$o=Xo.addBodyListener,Jo=Xo.removeBodyListener,ea=Xo.addWindowListener,ta=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&No(e,t)}(o,e);var t,n,i,r=Fo(o);function o(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),t=r.call(this,e),Uo.bindAll(Wo(t),"onKeydown","onResizeRefresh"),t.active=[],qo.on(Zo.sidebar.ACTIVE_TAB_SET,t.onActiveTabSet.bind(Wo(t))),DS.flagManager.localizationPlatform&&qo.on(Zo.frame.SHOW_TAB_ITEM,t.onShowTabItem.bind(Wo(t))),Yo.theme.isUnified&&(t.removeResize=ea("resize",t.onResizeRefresh)),t}return t=o,(n=[{key:"onResizeRefresh",value:function(){var e=this;clearTimeout(this.forceRefresh),this.forceRefresh=setTimeout((function(){e.view.update()}),200)}},{key:"onShowTabItem",value:function(e,t){var n=this.view.children.find((function(t){return t.nameKey.includes(e)}));null!=n?(n.viewLogic.showPanel(),qo.trigger(Zo.sidebar.OPEN)):document.body.classList.contains("floating-sidebar")&&qo.trigger(Zo.sidebar.CLOSE)}},{key:"onActiveTabSet",value:function(e){var t=this.view.children.find((function(t){return t.nameKey.includes(e)}));null!=t&&t.viewLogic.showPanel()}},{key:"onLayoutChange",value:function(e){var t=this;if(null!=ne.model&&0!==this.view.children.length){var n=(ne.model.sidebarTabs||[]).reduce((function(n,i){var r=i.name,o=e[r],a="".concat(r,"Tab");return(Uo.isObject(o)?!0===o.enabled:!0===o)&&null!=t.view.children[a]&&n.push(t.view.children[a]),n}),[]);if(this.view.children.forEach((function(e){e.el.setAttribute("aria-selected",!1),e.el.tabIndex=-1})),0===this.active.length&&n.length>0||!n.includes(this.currentTab)){var i=Ro(n,1)[0];this.currentTab=i}if(null!=this.currentTab){this.currentTab.el.setAttribute("aria-selected",!0);var r=Go.getCurrentWindow();null!=r&&null!=r.getId&&"_frame"!==r.getId()||(this.currentTab.el.tabIndex=0)}this.active=n}}},{key:"onFocus",value:function(e){this.isFocused||(this.isFocused=!0,this.getInitialActive().setCurrent(),$o("keydown",this.onKeydown))}},{key:"onBlur",value:function(e){this.el.contains(e.relatedTarget)||(this.isFocused=!1,Ho(Vo(o.prototype),"onBlur",this).call(this),Jo("keydown",this.onKeydown))}},{key:"onKeydown",value:function(e){var t=this.currentTab;Ko.isActionKey(e.which)?(this.activeTab=this.currentTab,this.activateTab()):Ko.isRightKey(e.which)?this.currentTab=this.getNextTab(this.currentTab.model.idx):Ko.isLeftKey(e.which)?this.currentTab=this.getPrevTab(this.currentTab.model.idx):Ko.isHomeKey(e.which)?this.currentTab=this.getFirstTab():Ko.isEndKey(e.which)&&(this.currentTab=this.getLastTab()),t!==this.currentTab&&(null!=t&&(t.el.tabIndex=-1),this.setCurrent())}},{key:"activateTab",value:function(){null!=this.activeTab&&(Uo.forEach(this.view.children,(function(e){return e.el.setAttribute("aria-selected",!1)})),this.activeTab.el.setAttribute("aria-selected",!0),this.activeTab.viewLogic.showPanel())}},{key:"setAsActive",value:function(e){this.activeTab=this.currentTab=e}},{key:"tabDidChangeVisibility",value:function(){this.view.visible&&(null!=this.activeTab&&this.activeTab.visible||(this.currentTab=this.activeTab=Uo.first(this.getLiveChildren())),this.activateTab())}},{key:"setCurrent",value:function(){var e=this.currentTab;if(null!=e){e.el.tabIndex=0,e.el.focus();var t=e.getBox(),n=t.x,i=t.y,r=t.w,o=t.h;Qo.setFocusRectOn(e.el,{left:n,top:i,width:r,height:o})}}},{key:"getInitialActive",value:function(){return this.currentTab=this.activeTab=this.getLiveChildren().find((function(e){return e.el===document.activeElement})),this}},{key:"getNextTab",value:function(e){var t=this.getLiveChildren(),n=t.findIndex((function(t){return t.model.idx===e}))+1;return n===t.length&&(n=0),t[n]}},{key:"getPrevTab",value:function(e){var t=this.getLiveChildren(),n=t.findIndex((function(t){return t.model.idx===e}))-1;return-1===n&&(n=t.length-1),t[n]}},{key:"getFirstTab",value:function(){return this.view.children.find((function(e){return e.viewLogic.isLive()}))}},{key:"getLastTab",value:function(){return this.view.children.slice().reverse().find((function(e){return e.viewLogic.isLive()}))}},{key:"getLiveChildren",value:function(){return this.view.children.filter((function(e){return e.viewLogic.isLive()}))}},{key:"getSelectedTab",value:function(){return this.view.children.find((function(e){return!0===e.viewLogic.isActive}))}},{key:"teardown",value:function(){qo.off(Zo.sidebar.ACTIVE_TAB_SET),o.lastSelectedTab=this.getSelectedTab(),null!=this.removeResize&&this.removeResize()}}])&&Mo(t.prototype,n),i&&Mo(t,i),Object.defineProperty(t,"prototype",{writable:!1}),o}(cn);function na(e){return na="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},na(e)}function ia(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,(r=i.key,o=void 0,o=function(e,t){if("object"!==na(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!==na(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(r,"string"),"symbol"===na(o)?o:String(o)),i)}var r,o}function ra(e,t){return ra=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},ra(e,t)}function oa(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=aa(e);if(t){var r=aa(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return function(e,t){if(t&&("object"===na(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,n)}}function aa(e){return aa=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},aa(e)}var la=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ra(e,t)}(o,e);var t,n,i,r=oa(o);function o(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),(t=r.call(this,e)).searchEnabled=ne.model.frame.controlOptions.controls.search,t.onClick(t.showPanel),t}return t=o,(n=[{key:"didChangeVisibility",value:function(e){this.view.parent.viewLogic.tabDidChangeVisibility()}},{key:"showPanel",value:function(e){if(!this.isActive){var t=this.view.parent,n=t.children;for(var i in n)n[i].viewLogic.hidePanel();this.el.classList.add("cs-selected"),this.el.setAttribute("aria-selected","true"),this.isActive=!0,t.viewLogic.setAsActive(this.view),DS.pubSub.trigger(DS.events.tab.SHOW,this.model.name)}}},{key:"hidePanel",value:function(){this.el.classList.remove("cs-selected"),this.el.setAttribute("aria-selected","false"),this.isActive=!1}},{key:"isLive",value:function(){var e=ne.model.currControlLayout[this.model.name];return _.isObject(e)?e.enabled:e}}])&&ia(t.prototype,n),i&&ia(t,i),Object.defineProperty(t,"prototype",{writable:!1}),o}(cn),sa=la;function ca(e){return ca="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ca(e)}function ua(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,ba(i.key),i)}}function fa(){return fa="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var i=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=ya(e)););return e}(e,t);if(i){var r=Object.getOwnPropertyDescriptor(i,t);return r.get?r.get.call(arguments.length<3?e:n):r.value}},fa.apply(this,arguments)}function da(e,t){return da=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},da(e,t)}function ha(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=ya(e);if(t){var r=ya(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return function(e,t){if(t&&("object"===ca(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return pa(e)}(this,n)}}function pa(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ya(e){return ya=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},ya(e)}function ba(e){var t=function(e,t){if("object"!==ca(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!==ca(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===ca(t)?t:String(t)}var va=DS,ma=va.TweenLite,ga=va.dom,wa=va._,Sa=va.events,ka=va.pubSub,Oa=va.utils.pxify,Ea=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&da(e,t)}(o,e);var t,n,i,r=ha(o);function o(e){var t,n,i,a;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),t=r.call(this,e),n=pa(t),a="search_toggle",(i=ba(i="tooltipKey"))in n?Object.defineProperty(n,i,{value:a,enumerable:!0,configurable:!0,writable:!0}):n[i]=a,wa.bindAll(pa(t),"onToggleSearchInput","hideSlider"),t.nameSpace=ne.getCurrentNameSpace();var l=t.nameSpace.sidebar.children;return t.tabSelectedSlider=l.tabSelectedSlider.el,t.sliderMask=l.sliderMask.el,t.updateSliderLayout(),t}return t=o,n=[{key:"hasTooltip",get:function(){return"searchTab"===this.view.nameKey}},{key:"updateSliderLayout",value:function(){var e=this;if(ga.hasClass(this.el,"cs-selected")){var t=this.nameSpace.tabs,n=Math.floor(t.y+t.h);this.sliderMask.style.height=Oa(n),window.requestAnimationFrame((function(){ma.set(e.tabSelectedSlider,{x:e.view.x,y:n-1,width:e.view.w||0}),e.hideSlider()}))}}},{key:"onToggleSearchInput",value:function(e){o.showingSearch||(ka.trigger(Sa.sidebar.SHOW_SEARCH),this.view.parent.children.outlineTab.viewLogic.showPanel()),this.view.el.setAttribute("aria-expanded",!o.showingSearch)}},{key:"didChangeVisibility",value:function(e){fa(ya(o.prototype),"didChangeVisibility",this).call(this,e),this.tabSelectedSlider.style.opacity=0}},{key:"hideSlider",value:function(){this.tabSelectedSlider.style.display="none",ga.addClass(this.el,"selected-animation-done"),this.tabSelectedSlider.style.opacity=1}},{key:"showSlider",value:function(){var e=document.querySelector(".selected-animation-done");null!=e&&ga.removeClass(e,"selected-animation-done"),ga.removeClass(this.el,"selected-animation-done"),this.tabSelectedSlider.style.display="block"}},{key:"animateSlider",value:function(){this.showSlider(),ma.to(this.tabSelectedSlider,.25,{x:this.view.x,width:this.view.w||0,onComplete:this.hideSlider})}},{key:"showPanel",value:function(e){"searchTab"!==this.view.nameKey?(fa(ya(o.prototype),"showPanel",this).call(this,e),this.animateSlider(),o.showingSearch=!1):(this.onToggleSearchInput(),o.showingSearch=!0)}},{key:"isLive",value:function(){return fa(ya(o.prototype),"isLive",this).call(this)||"searchTab"===this.view.nameKey}},{key:"getViewBox",value:function(){var e=this.view.getBox();return e.h-=20,e}}],n&&ua(t.prototype,n),i&&ua(t,i),Object.defineProperty(t,"prototype",{writable:!1}),o}(sa),Ca=Ea,xa=DS,Pa=xa._,La=xa.scaler,Ta=xa.utils.getPath,_a=xa.dom,ja=xa.constants.refs.FRAME,Da="tabs",Aa=(ne.def(Da,ta,(function(e){var t=ne.model,n=ne.getNamespace(e),i=n.sidebar,r=n.logo,o=t.frame.controlOptions.controls.search&&t.outlineInSidebar;return{ariaStringId:"sidebar-tabs",attrs:{id:Da,role:"tablist",tabindex:-1,"aria-label":"sidebar-tabs",class:"tabs"},overflow:"visible",x:0,y:function(){return r?r.bottom():0},w:function(){return i.data.actualWidth()},minH:35,maxH:65,h:function(){var e;return this.minH+(this.maxH-this.minH)*(null!==(e=i.childScale)&&void 0!==e?e:1)},updateHook:function(){var e=this.w-13,n=this.children.length,i=e/n,r={startPos:13,pad:7};t.rtl&&(r.toLeft=!0,r.startPos=e),this.flowChildren(r);for(var a=0,l=0;l<n;l++)a+=this.children[l].lastWidthByText;o?t.rtl||(a+=33):e-=50;var s,c=a>e;c?_a.addClass(this.el,"overflow-tabs"):_a.removeClass(this.el,"overflow-tabs");for(var u=0;u<n;u++)s=this.children[u],o&&u===n-1?(s.x=t.rtl?ni:e-s.lastWidthByText,s.update()):s.width=c?Math.min(s.lastWidthByText,i-3):s.lastWidthByText},childDef:function(){Aa(ne.model,i,o)},methods:{updateDomStrings:function(){var e=this;requestAnimationFrame((function(){e.updateHook()}))}}}})),function(e,t,n){var i=!1,r=Ta(e,"sidebarTabs",[]);e.outlineInSidebar&&n&&!r.some((function(e){return"search"===e.name}))&&r.push({name:"search",idx:r.length-1,isIcon:!0,properties:{}}),r.forEach((function(n,r){var o=function(e,t,n,i,r){var o=t.name,a=e.getString("search"===o?"search_toggle":o),l=e.currControlLayout[o],s=!r&&(Pa.isObject(l)?l.enabled:l),c=o+"Tab",u=null!=ta.lastSelectedTab?ta.lastSelectedTab.nameKey===c:s,f=ne.def(c,Ca,{model:Object.assign(t,{idx:i}),tag:"button",attrs:{id:c,class:"tab cs-tabs ".concat(u?"cs-selected":""),role:"tab","aria-selected":u?"true":"false","aria-label":a,"aria-controls":"".concat(o,"-panel"),tabindex:0===i?0:-1,"aria-expanded":"search"!==o&&null},calcTextSize:!0,w:function(){return this.width||this.lastWidthByText},noUpdate:!0,minH:35,maxH:65,h:function(){var e;return this.minH+(this.maxH-this.minH)*(null!==(e=n.childScale)&&void 0!==e?e:1)},html:function(){return t.isIcon?br(o)()+ne.iconTextEl(o):'<span class="resizeable-text">'.concat(a,"</span>")},updateHook:function(){f.viewLogic.updateSliderLayout(),this.lastWidthByText<=10&&this.doTextCalcs()},methods:{doTextCalcs:function(){var e=1/La.getScale(),t=this.content.style.width;DS.flagManager.localizationPlatform&&(this.content.style.width="fit-content");var n=this.content.scrollWidth*e,i=this.content.clientHeight*e;DS.flagManager.localizationPlatform&&(this.content.style.width=t),this.lastWidthByText=n+4+this.padLeft+this.padRight,this.lastHeightByText=i+4},updateStrings:function(){var n=t.name,i="search"===n?"search_toggle":n;this.el.setAttribute("aria-label",e.getString(i)),t.isIcon||(this.content.textContent=e.getString(i)),this.doTextCalcs()}}});return f.init(),ne.getNamespace(ja).tabs.append(f),u}(e,n,t,r,i);i=o||i}))});function Ia(e){return Ia="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ia(e)}function Ra(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,(r=i.key,o=void 0,o=function(e,t){if("object"!==Ia(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!==Ia(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(r,"string"),"symbol"===Ia(o)?o:String(o)),i)}var r,o}function Ba(){return Ba="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var i=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Fa(e)););return e}(e,t);if(i){var r=Object.getOwnPropertyDescriptor(i,t);return r.get?r.get.call(arguments.length<3?e:n):r.value}},Ba.apply(this,arguments)}function Ma(e,t){return Ma=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Ma(e,t)}function Ha(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=Fa(e);if(t){var r=Fa(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return function(e,t){if(t&&("object"===Ia(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Na(e)}(this,n)}}function Na(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Fa(e){return Fa=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Fa(e)}var Wa=DS,Va=Wa._,za=Wa.pubSub,Ua=Wa.detection,Ka=Wa.globalEventHelper,Qa=(Ka.addDocumentListener,Ka.removeDocumentListener,Wa.keyManager.isTabKey,Wa.playerGlobals),Ga=Wa.utils,qa=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Ma(e,t)}(o,e);var t,n,i,r=Ha(o);function o(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),t=r.call(this,e),Va.bindAll(Na(t),"onShow"),za.on(DS.events.tab.SHOW,t.onShow),t}return t=o,(n=[{key:"getFirstChild",value:function(){return Va.first(this.view.children)}},{key:"focusChild",value:function(){this.getFirstChild().viewLogic.focusSelf()}},{key:"onFocus",value:function(){}},{key:"onBlur",value:function(e){if(!Qa.presentation.isPreview()||window.globals.HAS_SLIDE)if(DS.flagManager.localizationPlatform){var t=Ga.getPath(this,this.view.lnk);Ua.deviceView.isDesktop&&null!=t&&!t.translationShown&&this.isTargetOutsidePanel(e.relatedTarget)&&(Ba(Fa(o.prototype),"onBlur",this).call(this,e),t.viewLogic.hidePanel())}else Ua.deviceView.isDesktop&&null!=this.view.lnk&&this.isTargetOutsidePanel(e.relatedTarget)&&(Ba(Fa(o.prototype),"onBlur",this).call(this,e),this.view.lnk.viewLogic.hidePanel())}},{key:"isTargetOutsidePanel",value:function(e){return null==e||!this.el.contains(e)&&Va.camelCase(e.id)!==this.view.lnk.nameKey&&Va.camelCase(e.parentElement.id)!==this.view.lnk.nameKey}},{key:"onShow",value:function(e){var t="".concat(e,"Panel");if(this.view.nameKey===t){var n=this.view.parent.children,i=this.getFirstChild();for(var r in n)r.indexOf("Panel")>-1&&n[r].viewLogic.onHide();this.el.style.display="block",null!=i.onPanelVisible&&i.onPanelVisible()}}},{key:"onHide",value:function(){this.el.style.display="none"}},{key:"isTopLink",value:function(){return null!=this.view.tabsId}},{key:"getTopTabsView",value:function(){return this.view.lnk.parent.parent}},{key:"teardown",value:function(){za.off(DS.events.tab.SHOW,this.onShow)}}])&&Ra(t.prototype,n),i&&Ra(t,i),Object.defineProperty(t,"prototype",{writable:!1}),o}(cn),Za=qa;function Ya(e){return Ya="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ya(e)}function Xa(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,(r=i.key,o=void 0,o=function(e,t){if("object"!==Ya(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!==Ya(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(r,"string"),"symbol"===Ya(o)?o:String(o)),i)}var r,o}function $a(e,t){return $a=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},$a(e,t)}function Ja(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=el(e);if(t){var r=el(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return function(e,t){if(t&&("object"===Ya(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,n)}}function el(e){return el=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},el(e)}var tl=DS.detection,nl=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&$a(e,t)}(o,e);var t,n,i,r=Ja(o);function o(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),r.apply(this,arguments)}return t=o,n=[{key:"focusSelf",value:function(){var e=this.view.children,t=e.search,n=e.outline;if(null!=t){var i=t.viewLogic.searchInputEl;tl.deviceView.isUnifiedMobile?(i.style.pointerEvents="none",setTimeout((function(){i.style.pointerEvents="all"}),100)):i.focus()}else n.viewLogic.focusSelf()}},{key:"onFocus",value:function(){}}],n&&Xa(t.prototype,n),i&&Xa(t,i),Object.defineProperty(t,"prototype",{writable:!1}),o}(cn),il=nl;function rl(e){return rl="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},rl(e)}function ol(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var i,r,o,a,l=[],s=!0,c=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(i=o.call(n)).done)&&(l.push(i.value),l.length!==t);s=!0);}catch(e){c=!0,r=e}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw r}}return l}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return al(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return al(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function al(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function ll(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,(r=i.key,o=void 0,o=function(e,t){if("object"!==rl(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!==rl(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(r,"string"),"symbol"===rl(o)?o:String(o)),i)}var r,o}function sl(e,t){return sl=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},sl(e,t)}function cl(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=fl(e);if(t){var r=fl(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return function(e,t){if(t&&("object"===rl(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return ul(e)}(this,n)}}function ul(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function fl(e){return fl=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},fl(e)}var dl=DS,hl=dl.pubSub,pl=dl.events,yl=dl.TweenLite,bl=dl.focusManager,vl=dl._.bindAll,ml=dl.dom.addClass,gl=dl.detection,wl=!1,Sl=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&sl(e,t)}(o,e);var t,n,i,r=cl(o);function o(e){var t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o);var n=(t=r.call(this,e)).view.children.searchForm.el,i=t.view.children.searchInput.el;return n.addEventListener("submit",t.onSearch.bind(ul(t))),gl.deviceView.isMobile&&(vl(ul(t),"onMobileOutlineShown"),i.addEventListener("input",t.onSearch.bind(ul(t))),hl.on(pl.mobile.OUTLINE_SHOWN,t.onMobileOutlineShown)),t.ensureEventSubscriptions(),t}return t=o,n=[{key:"teardown",value:function(){hl.off(pl.mobile.OUTLINE_SHOWN,this.onMobileOutlineShown),hl.off(pl.controlOptions.RESET,this.onControlOptionsReset,this),wl=!1}},{key:"ensureEventSubscriptions",value:function(){wl||(hl.on(pl.controlOptions.RESET,this.onControlOptionsReset,this),wl=!0)}},{key:"onControlOptionsReset",value:function(){this.view.updateHtml(),this.view.update()}},{key:"onMobileOutlineShown",value:function(){document.getElementById("outline-panel").appendChild(this.el),ml(document.body,"tab-shown")}},{key:"onFocus",value:function(e){bl.setFocusRectOn(this.view.el)}},{key:"onSearch",value:function(e){e.preventDefault();var t=this.view.parent.children.searchResults,n=this.view.children,i=n.bottomDiv,r=n.searchStatus,o=document.querySelector("#outline-content ul");yl.to(o,.2,{alpha:0,onComplete:function(){t.el.style.opacity=0,yl.to(t.el,.2,{alpha:1,onComplete:function(){return t.viewLogic.onAfterVisible()}}),i.el.style.opacity=0,t.setVisibility(!0)}});var a=t.viewLogic.performSearch(this.searchInputEl.value),l=ol(1===a?["acc_search_result_status","%count% result found for %term%"]:["acc_search_results_status","%count% results found for %term%"],2),s=l[0],c=l[1],u=DS.stringTabler.getString(s,{count:a,term:this.searchInputEl.value},c);r.el.textContent=u,ml(document.body,"search-results-active")}},{key:"updateVisibility",value:function(e){var t=this.view,n=t.searchResults,i=t.searchResults.visible,r=t.visible;this.view.setVisibility(e),n.setVisibility(e&&this.searchResultsOpen),r&&(this.searchResultsOpen=i)}}],n&&ll(t.prototype,n),i&&ll(t,i),Object.defineProperty(t,"prototype",{writable:!1}),o}(cn),kl=Sl;function Ol(e){return Ol="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ol(e)}function El(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,(r=i.key,o=void 0,o=function(e,t){if("object"!==Ol(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!==Ol(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(r,"string"),"symbol"===Ol(o)?o:String(o)),i)}var r,o}function Cl(){return Cl="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var i=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Tl(e)););return e}(e,t);if(i){var r=Object.getOwnPropertyDescriptor(i,t);return r.get?r.get.call(arguments.length<3?e:n):r.value}},Cl.apply(this,arguments)}function xl(e,t){return xl=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},xl(e,t)}function Pl(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=Tl(e);if(t){var r=Tl(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return function(e,t){if(t&&("object"===Ol(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Ll(e)}(this,n)}}function Ll(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Tl(e){return Tl=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Tl(e)}var _l=DS,jl=_l.pubSub,Dl=_l.events,Al=_l.TweenLite,Il=_l._.bindAll,Rl=_l.dom,Bl=Rl.addClass,Ml=Rl.removeClass,Hl=_l.focusManager,Nl=_l.detection,Fl=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&xl(e,t)}(o,e);var t,n,i,r=Pl(o);function o(e){var t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),t=r.call(this,e),Il(Ll(t),"onShowSearch","onHideSearch","onFocus"),t.nameSpace=ne.getCurrentNameSpace(),t.toggle=!1,jl.on(Dl.sidebar.SHOW_SEARCH,t.onShowSearch),jl.on(Dl.sidebar.HIDE_SEARCH,t.onHideSearch),t.searchInput=t.view.children.searchForm.el,t.searchInput.style.display="none",t.searchInput.style.opacity=0,ne.model.outlineInSidebar||(t.toggle=!0,t.searchInput.style.opacity=1,t.searchInput.style.display="block",t.el.classList.add("toplink-search"));return t.searchInputField=t.view.children.searchInput.el,t.searchInputField.addEventListener("input",t.onSearchTermChanged.bind(Ll(t))),Nl.browser.isWebKit||t.searchInputField.addEventListener("keydown",(function(e){27===e.keyCode&&t.clearSearch()})),t.onClickEl(t.clearEl,(function(e){t.onFocus(e),t.clearSearch(),t.searchInputField.focus()})),t}return t=o,n=[{key:"onShowSearch",value:function(e){var t=this;this.toggle||(this.toggle=!0,this.view.update(),this.view.parent.children.outline.update(),this.searchInput.style.display="block",Al.to(this.searchInput,.2,{opacity:1,delay:.2,onComplete:function(){t.searchInputField.focus()}}),Bl(document.body,"search-input-shown"))}},{key:"onHideSearch",value:function(e){var t=this;this.toggle=!1,this.view.update(),Al.to(this.searchInput,.2,{opacity:0,delay:0,onComplete:function(){t.view.parent.children.outline.update(),Ca.showingSearch=!1,t.searchInput.style.display="none"}}),Ml(document.body,"search-input-shown")}},{key:"onFocus",value:function(e){Hl.setFocusRectOn(e.target)}},{key:"onBlur",value:function(e){var t=this.view.parent.children.searchResults;ne.model.outlineInSidebar&&!t.visible&&this.onHideSearch()}},{key:"onSearch",value:function(e){this.isSearchFieldEmpty()?e.preventDefault():(Cl(Tl(o.prototype),"onSearch",this).call(this,e),Ml(this.clearEl,"hidden"),jl.trigger(Dl.search.UPDATE_PANEL))}},{key:"onSearchTermChanged",value:function(){this.isSearchFieldEmpty()&&this.clearSearch()}},{key:"clearSearch",value:function(){Bl(this.clearEl,"hidden"),jl.trigger(Dl.search.CLEAR)}},{key:"isSearchFieldEmpty",value:function(){var e=this.searchInputEl.value;return null==e||""===e}}],n&&El(t.prototype,n),i&&El(t,i),Object.defineProperty(t,"prototype",{writable:!1}),o}(kl),Wl=Fl,Vl="search",zl=ne.def(Vl,Wl,(function(){var e=ne.model;return{ariaStringId:"acc_search_input",attrs:{class:Vl,"aria-label":e.getString("acc_search_input"),role:"search",tabIndex:-1},z:3,x:0,y:0,w:"100%",h:function(){return this.viewLogic.toggle?65:0},html:function(){return'\n      <div class="search-ui">\n        <div data-ref="bottomDiv">\n        </div>\n        <form id="outline-search" data-ref="searchForm" class="search-input cs-outlinesearch cs-searchinput">\n          <input tabindex="0" class="cs-input " data-ref="searchInput" type="search" placeholder="'.concat(e.getString("search"),'">\n        </form>\n        <div data-ref="clear" class="search-clear hidden">\n          <button class="btn cs-button">\n            <span data-ref="searchClearLabel" class="search-clear-close" aria-label="').concat(e.getString("close"),'">').concat(br("searchClear")(),'</span>\n          </button>\n        </div>\n        <div class="search-result-status" data-ref="searchStatus" aria-live="polite" role="status"></div>\n      </div>')},methods:{updateDomStrings:function(){this.viewLogic.searchInputEl.setAttribute("placeholder",e.getString("search")),this.viewLogic.searchClearLabelEl.setAttribute("aria-label",e.getString("close"))}},updateHook:function(){this.viewLogic.toggle?this.el.removeAttribute("aria-hidden"):this.el.setAttribute("aria-hidden","true"),this.viewLogic.ensureEventSubscriptions()}}}));function Ul(e){return Ul="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ul(e)}function Kl(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,(r=i.key,o=void 0,o=function(e,t){if("object"!==Ul(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!==Ul(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(r,"string"),"symbol"===Ul(o)?o:String(o)),i)}var r,o}function Ql(){return Ql="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var i=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Yl(e)););return e}(e,t);if(i){var r=Object.getOwnPropertyDescriptor(i,t);return r.get?r.get.call(arguments.length<3?e:n):r.value}},Ql.apply(this,arguments)}function Gl(e,t){return Gl=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Gl(e,t)}function ql(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=Yl(e);if(t){var r=Yl(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return function(e,t){if(t&&("object"===Ul(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Zl(e)}(this,n)}}function Zl(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Yl(e){return Yl=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Yl(e)}var Xl=DS,$l=Xl.focusManager,Jl=Xl.keyManager,es=Xl.detection,ts=Xl.globalEventHelper,ns=ts.addDocumentListener,is=ts.removeDocumentListener,rs=(Xl.utils.getPath,Xl.dom),os=rs.parentNodesOf,as=rs.addClass,ls=rs.removeClass,ss=Xl._,cs=ss.first,us=ss.last,fs=ss.bindAll,ds=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Gl(e,t)}(o,e);var t,n,i,r=ql(o);function o(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),t=r.call(this,e),fs(Zl(t),"onKeydown","addEvents","onClickItem"),t.addEvents(),t}return t=o,(n=[{key:"focusSelf",value:function(){this.hasListItems()&&this.getItems().find((function(e){return 0===e.tabIndex})).focus()}},{key:"addEvents",value:function(){var e=this;es.device.isMobile?(this.el.addEventListener("touchmove",(function(t){e.moved=!0})),this.onClick((function(t){e.moved||e.onClickItem(t),e.moved=!1}))):this.onClick(this.onClickItem)}},{key:"onClickItem",value:function(){}},{key:"onFocus",value:function(){var e=this.el.querySelector(".hover");if((!this.isFocused||null==e)&&this.hasListItems()){var t;this.isFocused=!0;var n=this.el.querySelector('[tabindex="0"] .listitem');this.currentItem=null!==(t=null!=n?n:this.currentItem)&&void 0!==t?t:cs(this.getItems()),as(this.currentItem,"hover"),Jl.isShowFocus&&this.centerOnFocused(),$l.setFocusRectOn(this.getFocusRectTarget()),ns("keydown",this.onKeydown)}}},{key:"onBlur",value:function(e){this.el.contains(e.relatedTarget)||(Ql(Yl(o.prototype),"onBlur",this).call(this,e),null!=this.currentItem&&(ls(this.currentItem,"hover"),this.currentItem.style.backgroundColor=""),is("keydown",this.onKeydown),this.isFocused=!1)}},{key:"onKeydown",value:function(e){var t=this.currentItem;Jl.isActionKey(e.which)?(this.activateItem(e),Jl.isSpaceKey(e.which)&&e.preventDefault()):Jl.isDownishKey(e.which)?this.currentItem=this.getNextItem(this.getItemContent()):Jl.isUpishKey(e.which)?this.currentItem=this.getPrevItem(this.getItemContent()):Jl.isHomeKey(e.which)?this.currentItem=this.getFirstItem():Jl.isEndKey(e.which)&&(this.currentItem=this.getLastItem()),t!==this.currentItem&&(e.preventDefault(),t.tabIndex=-1,ls(t,"hover"),this.focusOnCurrent())}},{key:"hasListItems",value:function(){return!1}},{key:"getFocusRectTarget",value:function(){return this.currentItem}},{key:"focusOnCurrent",value:function(){this.centerOnFocused(),document.activeElement!==this.currentItem&&(this.currentItem.tabIndex=0,as(this.currentItem,"hover"),this.currentItem.focus()),$l.setFocusRectOn(this.getFocusRectTarget())}},{key:"activateItem",value:function(){this.onClickItem({target:this.currentItem.firstElementChild})}},{key:"getNextItem",value:function(e){var t=this,n=this.getItems().findIndex((function(n){return t.findIndexCb(n,e)}))+1;return n===this.getItems().length&&(n=0),this.getItems()[n]}},{key:"getPrevItem",value:function(e){var t=this,n=this.getItems().findIndex((function(n){return t.findIndexCb(n,e)}))-1;return-1===n&&(n=this.getItems().length-1),this.getItems()[n]}},{key:"getLastItem",value:function(){return us(this.getItems())}},{key:"getFirstItem",value:function(){return cs(this.getItems())}},{key:"getItemContent",value:function(){return this.currentItem.textContent.trim()}},{key:"findIndexCb",value:function(e,t){return e.textContent.trim()===t}},{key:"getItems",value:function(){return[]}},{key:"getScrollEl",value:function(){return this.el}},{key:"getOffsetEl",value:function(){return this.el}},{key:"getOffsetTop",value:function(e){return function(e){return os(e,(function(e){return"li"===e.nodeName.toLowerCase()})).reduce((function(e,t){return e+t.offsetTop}),0)}(e)}},{key:"getOffsetHeight",value:function(e){return e.offsetHeight}},{key:"centerOnFocused",value:function(){if(null!=this.currentItem){var e=this.getOffsetEl(),t=this.getOffsetHeight(e),n=this.getScrollEl().scrollTop,i=this.getOffsetTop(this.currentItem),r=i+this.getOffsetHeight(this.currentItem);r-n>t?e.scrollTop=r-t+10:i<n+10&&(e.scrollTop=i-10)}}}])&&Kl(t.prototype,n),i&&Kl(t,i),Object.defineProperty(t,"prototype",{writable:!1}),o}(cn),hs=ds;function ps(e){return ps="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ps(e)}function ys(e){return function(e){if(Array.isArray(e))return ms(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||vs(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function bs(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var i,r,o,a,l=[],s=!0,c=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(i=o.call(n)).done)&&(l.push(i.value),l.length!==t);s=!0);}catch(e){c=!0,r=e}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw r}}return l}}(e,t)||vs(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function vs(e,t){if(e){if("string"==typeof e)return ms(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ms(e,t):void 0}}function ms(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function gs(e,t){return gs=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},gs(e,t)}function ws(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=ks(e);if(t){var r=ks(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return function(e,t){if(t&&("object"===ps(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Ss(e)}(this,n)}}function Ss(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ks(e){return ks=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},ks(e)}function Os(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,(r=i.key,o=void 0,o=function(e,t){if("object"!==ps(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!==ps(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(r,"string"),"symbol"===ps(o)?o:String(o)),i)}var r,o}function Es(e,t,n){return t&&Os(e.prototype,t),n&&Os(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Cs(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var xs=function(e){return n(e.slideid)},Ps=DS,Ls=Ps.windowManager,Ts=Ps.focusManager,_s=Ps.TweenLite,js=Ps.events,Ds=Ps.pubSub,As=Ps.keyManager,Is=Ps.resolver,Rs=Ps.dom,Bs=(Rs.hasClass,Rs.removeClass),Ms=Rs.addClass,Hs=Rs.getParentWithClass,Ns=Ps._,Fs=Ns.bindAll,Ws=(Ns.first,Ps.utils),Vs=Ws.stripTags,zs=(Ws.stripPlayer,Ws.prefixWithPlayer),Us=Ps.globalEventHelper,Ks=Us.addDocumentListener,Qs=(Us.removeDocumentListener,Ps.detection),Gs=Qs.theme,qs=Qs.os,Zs=Es((function e(t,n,i){Cs(this,e),this.slideId=t,this.title=n,this.text=i})),Ys=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&gs(e,t)}(n,e);var t=ws(n);function n(e){var i;Cs(this,n),i=t.call(this,e),Fs(Ss(i),"traverseLinks","performSearch","onSlideChanged","onClear","onReset","loadSlideBankSearchData"),i.animationDuration=.2;var r=ne.model.frame.notesData||[];return i.notesBySlideId=r.map((function(e){return new Zs(zs(e.slideId),DS.utils.getPath(Is.resolvePath(e.slideId,DS.presentation),"title"),Vs(e.content).trim())})),i.slideTextData=ne.model.frame.navData.search||[],i.slideTextBySlideId=i.slideTextData.filter((function(e){return!e.slidebank})).map((function(e){return new Zs(zs(e.slideid),DS.utils.getPath(Is.resolvePath(e.slideid,DS.presentation),"title"),Vs(e.Text).trim())})),i.menuOptions=ne.model.frame.controlOptions.menuOptions,i.wrapListItems=i.menuOptions.wrapListItems,i.links=ne.model.frame.navData.outline.links,i.hasSlideBankSlides=i.slideTextData.some((function(e){return e.slidebank})),i.hasSlideBankSlides&&Ds.on(js.player.RESET,i.onReset),null!=i.clearEl&&i.onClickEl(i.clearEl,i.onClear),Ds.on(js.search.CLEAR,i.onClear),i.onClickEl(i.searchFilterEl,i.onToggleSearchOptions),i.onClick(i.onClickLink),Ds.on(js.window.MAIN_CHANGED,i.onSlideChanged),i}return Es(n,[{key:"loadSlideBankSearchData",value:function(){this.slideBankTextBySlideId=this.slideTextData.filter((function(e){return e.slidebank})).reduce((function(e,t){var n=Is.getSlideBankSlideInstance(t.slideid);return null!==n&&e.push(new Zs(n.absoluteId,n.title(),Vs(t.Text))),e}),[])}},{key:"teardown",value:function(){Ds.off(js.window.MAIN_CHANGED,this.onSlideChanged),window.globals.HAS_SLIDE&&Ds.off(js.search.CLEAR,this.onClear)}},{key:"onSlideChanged",value:function(e){var t=this.resultsEl.querySelector(".cs-selected"),n=this.resultsEl.querySelector('[data-slide-id="'.concat(e.absoluteId,'"]'));null!=t&&Bs(t,"cs-selected"),null!=n&&(Ms(n,"cs-selected"),Ms(n,"cs-viewed"),this.updateAriaLabel(n))}},{key:"onReset",value:function(){this.onClear(),this.loadSlideBankSearchData()}},{key:"onFocus",value:function(e){e.relatedTarget;var t=e.target;if(this.el.contains(t)){if(t===this.searchFilterEl||t===this.clearEl)return Ts.setFocusRectOn(t),this.isFocused=!1,!1;if(t===this.notesCheckEl||t===this.slideCheckEl)return Ts.setFocusRectOn(t.parentElement),this.isFocused=!1,!1;if(!this.isFocused&&(!Gs.isUnified||As.isShowFocus)){var n=bs(this.getItems(),1)[0];this.isFocused=!0,null!=n&&(this.currentItem=n,this.lastSelected!==this.currentItem&&this.focusOnCurrent(),Ks("keydown",this.onKeydown))}}return!1}},{key:"getIsSearchVisible",value:function(){return this.searchOptionsEl.classList.contains("visible")}},{key:"setCheckboxesVisible",value:function(e){this.notesCheckEl.hidden=e,this.slideCheckEl.hidden=e}},{key:"onToggleSearchOptions",value:function(e){var t=this,n=this.getIsSearchVisible(),i=n?"remove":"add";this.searchOptionsEl.classList[i]("visible"),n?(clearTimeout(this.checkBoxTimeout),this.checkBoxTimeout=setTimeout((function(){t.setCheckboxesVisible(n)}),200)):this.setCheckboxesVisible(n)}},{key:"onClickLink",value:function(e){if("locked"!==this.menuOptions.flow){var t=Hs(e.target,"listitem"),n=t.dataset.slideId;null==n||"restricted"===this.menuOptions.flow&&!e.target.classList.contains("cs-viewed")||(Ms(t,"cs-viewed"),this.updateAriaLabel(t),Ds.trigger(js.request.NEXT_SLIDE,n))}}},{key:"updateAriaLabel",value:function(e){Gs.isUnified&&ys(e.querySelector(".outline-states").children).forEach((function(t){if("none"===window.getComputedStyle(t).display);else{var n=t.getAttribute("aria-label"),i=e.getAttribute("data-slide-title");e.children[0].textContent=i+" "+n}}))}},{key:"traverseLinks",value:function(e){for(var t=0;t<e.length;t++){var n=e[t];xs(n)||this.searchResults.has(n.slideid)||(this.noSearchTerm||n.displaytext.toLowerCase().indexOf(this.term)>=0)&&this.searchResults.set(n.slideid,n.displaytext),null!=n.links&&this.traverseLinks(n.links)}}},{key:"getDefaultSate",value:function(e){var t=Ls.getCurrentWindow().getCurrentSlide().absoluteId===e||Is.resolvePath(e).viewed,n=this.menuOptions.flow;if(t)switch(n){case"free":case"restricted":return ne.model.getString("acc_visited");case"locked":return"".concat(ne.model.getString("acc_visited"),", ").concat(ne.model.getString("acc_locked"))}else switch(n){case"free":return"";case"restricted":case"locked":return ne.model.getString("acc_locked")}}},{key:"performSearch",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";if(!window.globals.HAS_SLIDE)return 0;this.term=t.toLowerCase(),this.items=null,this.noSearchTerm=""===t,this.searchResults=new Map,this.resultsEl.innerHTML="",this.slideTextEnabled=this.slideCheckEl.checked,this.notesEnabled=this.notesCheckEl.checked;var n=ne.model.frame.navData.links;null!=n&&this.traverseLinks(n),this.hasSlideBankSlides&&void 0===this.slideBankTextBySlideId&&this.loadSlideBankSearchData();var i=function(t){t.forEach((function(t){(t.text.toLowerCase().indexOf(e.term)>=0||t.title.toLowerCase().indexOf(e.term)>=0)&&e.searchResults.set(t.slideId,t.title)}))},r=!this.noSearchTerm;this.slideTextEnabled&&r&&i(this.slideTextBySlideId),this.hasSlideBankSlides&&r&&i(this.slideBankTextBySlideId),this.notesEnabled&&r&&i(this.notesBySlideId);qs.isIOS;var o=this.wrapListItems?"":"no-wrap",a=Ls.getCurrentWindow().getCurrentSlide().absoluteId,l=0;return this.searchResults.forEach((function(t,n){0;var i=a===n?"cs-selected":"",r=document.createElement("li"),s=Is.resolvePath(n).viewed?"cs-viewed":"",c=e.menuOptions.flow,u=e.getDefaultSate(n),f='\n      <div role="menuitem" class="cs-listitem listitem '.concat(i," ").concat(o," ").concat(s," ").concat("free"!==c&&"cs-"+c,'"\n           data-slide-id="').concat(n,'"\n           data-slide-title="').concat(t,'"\n           tabindex="').concat(l,'"\n           role = "treeitem">\n          <span style="position: absolute; opacity: 0;">').concat(t," ").concat(u,"</span>");Gs.isUnified?f+='\n           <span class="linkText" aria-hidden="true">\n             '.concat(t,'\n           </span>\n           <span class="outline-states" aria-hidden="true">\n             <span class="visitedIcon" aria-label="').concat(ne.model.getString("acc_visited"),'">\n               ').concat(br("checkmark")(),'\n             </span>\n             <span class="lockedIcon" aria-label="').concat(ne.model.getString("acc_locked"),'">\n               ').concat(br("lock")(),'\n             </span>\n             <span class="lockedViewedIcon" aria-label="').concat(ne.model.getString("acc_visited"),", ").concat(ne.model.getString("acc_locked"),'">\n               ').concat(br("lockedViewed")(),"\n             </span>\n           </span>\n        </div>\n      "):f+="\n             ".concat(t,"\n        </div>"),r.innerHTML=f,e.resultsEl.appendChild(r),l=-1})),this.searchResults.size}},{key:"onClear",value:function(){var e=this,t=this.view.parent.children,n=t.outline,i=t.search;this.outlineUl=this.outlineUl||document.querySelector("#outline-content ul"),n.setVisibility(!0),_s.to(this.el,this.animationDuration,{alpha:0,onComplete:function(){_s.to(e.outlineUl,e.animationDuration,{alpha:1}),e.view.setVisibility(!1),i.children.bottomDiv.el.style.opacity=1,As.isShowFocus&&e.el.contains(document.activeElement)&&n.el.focus()}}),this.term="",i.children.searchInput.el.value="",Bs(document.body,"search-results-active"),Ds.trigger(js.search.UPDATE_PANEL)}},{key:"hasListItems",value:function(){return!_.isEmpty(this.getItems())}},{key:"getItems",value:function(){return this.items=this.items||ys(this.el.querySelectorAll(".cs-listitem")),this.items}},{key:"activateItem",value:function(){this["locked"!==this.menuOptions.flow?"onClickLink":"onCarrotClick"]({target:this.currentItem})}},{key:"findIndexCb",value:function(e,t){return e===t}},{key:"getItemContent",value:function(){return this.currentItem}},{key:"onAfterVisible",value:function(){this.view.parent.children.outline.setVisibility(!1)}}]),n}(hs),Xs=Ys,$s="searchResults",Js=ne.def($s,Xs,(function(e){var t=ne.model,n=t.rtl?"rtl":"";return{attrs:{id:$s+"-content",class:"cs-menu cs-panel panel ".concat(n),tabindex:-1},z:2,x:0,y:65,w:"100%",overflow:"scroll",h:function(){return this.parent.h-65-2},visible:!1,html:'\n      <span class="cs-outline search-content">\n        <div style="display:none">\n          <span class="flex-static-auto">\n            <h4 data-ref="title" class=\'cs-heading search-heading panel-section-heading\'>\n              '.concat(t.getString("search_results"),'\n            </h4>\n            <button class="btn-unstyled search-filter cs-search-filter" tabindex="0" data-ref="searchFilter">\n              <span data-ref="searchFilterLabel">').concat(t.getString("filter"),"</span>\n              ").concat(br("filter")(),'\n            </button>\n          </span>\n\n          <div class="search-options flex-static-auto" data-ref="searchOptions">\n            <p data-ref="searchOptionsLabel">').concat(t.getString("search_in"),'</p>\n            <label>\n              <input data-ref="notesCheck" type="checkbox" checked>\n              <span data-ref="notesCheckLabel">').concat(t.getString("transcript_chk"),'</span>\n            </label>\n            <label>\n              <input data-ref="slideCheck" type="checkbox" checked>\n              <span data-ref="slideCheckLabel">').concat(t.getString("slide_text_chk"),'</span>\n            </label>\n          </div>\n        </div>\n        <div class="search-results is-scrollable" tabindex="-1" data-ref="searchResults">\n          <ul data-ref="results"></ul>\n        </div>\n      </span>\n    '),methods:{updateDomStrings:function(){this.viewLogic.titleEl.textContent=t.getString("search_results"),this.viewLogic.searchFilterLabelEl.textContent=t.getString("filter"),this.viewLogic.searchOptionsLabelEl.textContent=t.getString("search_in"),this.viewLogic.notesCheckLabelEl.textContent=t.getString("transcript_chk"),this.viewLogic.slideCheckLabelEl.textContent=t.getString("slide_text_chk")}}}}));function ec(e){return ec="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ec(e)}function tc(e){return function(e){if(Array.isArray(e))return nc(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return nc(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return nc(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function nc(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function ic(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,(r=i.key,o=void 0,o=function(e,t){if("object"!==ec(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!==ec(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(r,"string"),"symbol"===ec(o)?o:String(o)),i)}var r,o}function rc(){return rc="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var i=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=sc(e)););return e}(e,t);if(i){var r=Object.getOwnPropertyDescriptor(i,t);return r.get?r.get.call(arguments.length<3?e:n):r.value}},rc.apply(this,arguments)}function oc(e,t){return oc=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},oc(e,t)}function ac(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=sc(e);if(t){var r=sc(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return function(e,t){if(t&&("object"===ec(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return lc(e)}(this,n)}}function lc(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function sc(e){return sc=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},sc(e)}var cc,uc,fc,dc=DS,hc=dc.detection,pc=dc.pubSub,yc=dc._,bc=dc.events,vc=dc.keyManager,mc=dc.resolver,gc=dc.windowManager,wc=dc.utils.prefixWithPlayer,Sc=dc.focusManager.setFocusRectOn,kc=dc.globalEventHelper.addDocumentListener,Oc=dc.dom,Ec=Oc.parentNodesOf,Cc=Oc.getParentWithClass,xc=Oc.hasClass,Pc=Oc.addClass,Lc=Oc.removeClass,Tc=function(e){return Ec(e,(function(e){return"li"===e.nodeName.toLowerCase()}))},_c=function(e){return Tc(e).slice(1).some((function(e){return xc(e,"item-collapsed")}))},jc=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&oc(e,t)}(a,e);var t,i,r,o=ac(a);function a(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),t=o.call(this,e),yc.bindAll(lc(t),"updateVisitedSlides","onSlideChanged","onSelectFirstSlideLink","addSlideToVisited","visuallyUpdateLinks","collapseLastItem","onClickLink","onCarrotClick","onClickItem","centerOnFocused","setDrawSlides","mouseDown","mouseUp"),t.visitedSlides=new Set,t.completedScenes=new Set,t.menuOptions=ne.model.frame.controlOptions.menuOptions,pc.once(bc.resume.SET_DATA,t.updateVisitedSlides),pc.on(bc.window.MAIN_CHANGED,t.onSlideChanged),pc.on(bc.mobile.OUTLINE_SHOWN,t.centerOnFocused),pc.on(bc.navData.SELECT_FIRST_SLIDE_LINK,t.onSelectFirstSlideLink),t.removeDocListeners=yc.flow(kc("mousedown",t.mouseDown),kc("mouseup",t.mouseUp)),null!=DS.presentation.getDrawPromise&&DS.presentation.getDrawPromise().then(t.setDrawSlides),t.isTopTabChild=ne.model.topTabs.some((function(e){return"outline"===e.name})),DS.flagManager.localizationPlatform&&pc.on(bc.frame.SHOW_TAB_ITEM,t.onShowTabItem.bind(lc(t))),pc.on(bc.navData.REFRESH_VIEW,(function(){if(DS.flagManager.localizationPlatform){var e=DS.utils.getPath(t.el.querySelector(".cs-selected"),"dataset.ref");t.view.updateHtml(),t.view.update(),t.view.initChildRefs(),t.visuallyUpdateLinks();var n=DS.utils.getPath(t.view,["children",e,"el"]);null!=n&&t.selectItem(n)}else t.view.updateHtml(),t.view.update()})),t}return t=a,i=[{key:"teardown",value:function(){pc.off(bc.window.MAIN_CHANGED,this.onSlideChanged),pc.off(bc.mobile.OUTLINE_SHOWN,this.centerOnFocused),this.removeDocListeners()}},{key:"focusSelf",value:function(){this.getItems().find((function(e){return 0===e.parentNode.tabIndex})).parentNode.focus()}},{key:"onFocus",value:function(){var e=this;this.isMouseDown||(null!=this.view.parent.children.search&&hc.theme.isUnified?setTimeout((function(){e.el.contains(document.activeElement)&&rc(sc(a.prototype),"onFocus",e).call(e)}),500):rc(sc(a.prototype),"onFocus",this).call(this))}},{key:"selectItem",value:function(e){var t=this,n=this.el.querySelector(".cs-selected"),i=this.el.querySelector('[tabindex="0"]');null!=n&&(Lc(n,"cs-selected"),this.updateAriaLabel(n)),null!=i&&(i.tabIndex=-1,i.dataset.tabindex=-1),Pc(e,"cs-selected"),e.parentNode.tabIndex=0,e.parentNode.dataset.tabindex=0,window.requestAnimationFrame((function(){return t.updateAriaLabel(e)}))}},{key:"mouseDown",value:function(){this.isMouseDown=!0}},{key:"mouseUp",value:function(){this.isMouseDown=!1}},{key:"onClickItem",value:function(e){var t=this;if(hc.theme.isUnified){var n=Cc(e.target,"listitem");xc(e.target,"carrot")&&(t.onCarrotClick(n),1)||n&&xc(n.parentNode,"item-collapsible")&&(t.onCarrotClick(n),!xc(n,"is-promoted-slide"))||"locked"!==t.menuOptions.flow&&t.onClickLink(n)}else("locked"!==this.menuOptions.flow?this.onClickLink:this.onCarrotClick)(e.target)}},{key:"visuallyUpdateLinks",value:function(){var e=this;this.visitedSlides.forEach((function(t){var n=e.view.children[t];null!=n&&(hc.theme.isUnified?e.updateViewedState(n.el):Pc(n.el,"cs-viewed"))})),hc.theme.isUnified&&(this.setComplete("div.is-promoted-slide"),this.setComplete("div.is-scene",1))}},{key:"setComplete",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=this.el.querySelectorAll(e);Array.from(i).forEach((function(e){var i=Array.from(e.parentNode.querySelectorAll("div")).slice(n);i.length&&i.every((function(e){return xc(e,"cs-viewed")}))&&(Pc(e,"cs-complete"),t.updateAriaLabel(e))}))}},{key:"updateVisitedSlides",value:function(e,t){null!=e&&(e.forEach(this.addSlideToVisited),this.visuallyUpdateLinks())}},{key:"getNextItem",value:function(e){var t,n=this,i=this.getItems(),r=i.findIndex((function(t){return n.findIndexCb(t,e)}));do{(r+=1)===i.length&&(r=0),t=i[r]}while(_c(t));return t}},{key:"getPrevItem",value:function(e){var t,n=this,i=this.getItems(),r=i.findIndex((function(t){return n.findIndexCb(t,e)}));do{-1==(r-=1)&&(r=i.length-1),t=i[r]}while(_c(t));return t}},{key:"addSlideToVisited",value:function(e){var t=e.absoluteId,n=e.getScene().absoluteId;this.visitedSlides.add(n).add(t),this.addSceneCompleted(e,n)}},{key:"addSceneCompleted",value:function(e,t){var n,i;n=e.collection.models.map((function(e){return e.absoluteId})),i=tc(this.visitedSlides),n.every((function(e){return i.includes(e)}))&&this.completedScenes.add(t)}},{key:"isSceneCompleted",value:function(e){return this.completedScenes.has(e)}},{key:"isCurrentLinkParent",value:function(e,t){return e.el===this.view.children[t].el&&e.el.getAttribute("data-has-links")&&!e.el.getAttribute("data-is-scene")}},{key:"onSelectFirstSlideLink",value:function(){var e=this.view.el.querySelector("ul > li > div:not(.is-scene)");if(null!=e){var t=e.getAttribute("data-ref");this.selectLink(e,t)}}},{key:"onSlideChanged",value:function(e){if(this.addSlideToVisited(e),!this.currentItem||Cc(this.currentItem,"listitem").getAttribute("data-ref")!=e.absoluteId){var t=e.absoluteId,n=this.view.children[t];if(null==n){var i=e.getSlideDraw();null!=i&&(t=i.absoluteId,n=this.view.children[t])}if(null!=n&&this.selectLink(n.el,t),null==n){var r,o=e.getScene().absoluteId,a=null===(r=this.view.children[o])||void 0===r?void 0:r.el;if(null==a)return;var l=Tc(a)[0];null==l||xc(l,"item-collapsible")||this.selectItem(a),this.isSceneCompleted(o)&&Pc(a,"cs-complete"),this.updateViewedState(a)}}}},{key:"selectLink",value:function(e,t){var n=this;this.onClickLink(e,!0),Ec(e,(function(i){i.classList.contains("item-collapsed")&&(n.isCurrentLinkParent(e,t)||(Lc(i,"item-collapsed"),i.setAttribute("aria-expanded",!0)))}),(function(e){return n.el===e}))}},{key:"collapsibleParents",value:function(e){var t=this;return Ec(e,(function(e){return e.classList.contains("item-collapsible")}),(function(e){return t.el===e}))}},{key:"collapseLastItem",value:function(e){var t=this;null!=this.lastExpandedEls&&this.menuOptions.autocollapse&&this.lastExpandedEls.forEach((function(n){n.contains(e)||xc(n,"item-collapsed")||t.toggleScene(n)}))}},{key:"toggleScene",value:function(e){var t,n=xc(e,"item-collapsed");if(t=n?"remove":"add",e.classList[t]("item-collapsed"),e.setAttribute("aria-expanded",n),hc.theme.isUnified){var i=Array.from(e.querySelectorAll("div.listitem")),r=i[0];!function(e,t){if(!n){var i=e.slice(1).filter((function(e){return!xc(e,"is-promoted-slide")&&!xc(e,"is-scene")}));i.some((function(e){return xc(e,"cs-viewed")}))&&Lc(t,"cs-unvisited"),i.every((function(e){return xc(e,"cs-viewed")}))&&Pc(t,"cs-complete")}}(i,r),this.updateAriaLabel(r)}pc.trigger(bc.menuLinksListItem.TOGGLE)}},{key:"updateAriaLabel",value:function(e){var t,n,i=[].slice.call(null!==(t=null===(n=e.querySelector(".outline-states"))||void 0===n?void 0:n.children)&&void 0!==t?t:[]),r=e.getAttribute("data-slide-title"),o=e.children[0];null!=o&&(i.some((function(e){if("none"!==window.getComputedStyle(e).display){var t=e.getAttribute("aria-label");return o.textContent=r+" "+t,!0}return!1}))||(o.textContent=r))}},{key:"onCarrotClick",value:function(e){if(null!==e){var t=Cc(e,"item-collapsible");this.toggleScene(t)}}},{key:"onClickLink",value:function(e,t){var n=this;if(e)if(hc.theme.isUnified){var i=e.getAttribute("data-ref"),r=null!=i;if("restricted"!==this.menuOptions.flow||t||this.visitedSlides.has(i)){if(null!=this.currentItem&&e!==this.currentItem&&Lc(this.currentItem,"hover"),this.currentItem=e,r&&(this.collapseLastItem(e),this.lastExpandedEls=this.collapsibleParents(e),this.lastExpandedEls.forEach((function(e){var t=e.firstElementChild;i.includes(t.getAttribute("data-ref"))&&(Pc(t,"cs-viewed"),n.updateAriaLabel(t))}))),xc(e,"listitem")){this.updateViewedState(e);var o=Tc(e).pop();xc(e,"is-scene")&&xc(o,"item-collapsible")||this.selectItem(e)}else this.onCarrotClick(e);if(r&&!t){var a=gc.getCurrentWindowSlide().absoluteId;i!=a&&(pc.trigger(bc.request.NEXT_SLIDE,i),hc.theme.isUnified&&pc.trigger(bc.topEllipsesPanel.HIDE)),hc.deviceView.isMobile&&(pc.trigger(bc.tab.HIDE),(hc.deviceView.isPhone||hc.theme.isClassic)&&pc.trigger(bc.sidebar.CLOSE))}null!=this.currentItem&&null!=this.focusor&&Sc(this.currentItem)}}else this.onClickLinkOld(e,t)}},{key:"onClickLinkOld",value:function(e,t){var i=e.getAttribute("data-ref"),r=null!=i,o=n(i);if("UL"!==e.nodeName)if("restricted"!==this.menuOptions.flow||t||this.visitedSlides.has(i)){if(null!=this.currentItem&&e!==this.currentItem&&Lc(this.currentItem,"hover"),this.currentItem=e,(o||xc(e.parentNode,"item-collapsible"))&&this.toggleScene(e.parentNode),null!=i&&(this.collapseLastItem(e),this.lastExpandedEls=this.collapsibleParents(e),Array.from(this.lastExpandedEls).forEach((function(e){var t=e.firstElementChild;i.includes(t.getAttribute("data-ref"))&&Pc(t,"cs-viewed")}))),xc(e,"listitem")?(Pc(e,"cs-viewed"),this.selectItem(e)):this.onCarrotClick(e),r&&!t){var a=gc.getCurrentWindowSlide().absoluteId;i!=a&&(pc.trigger(bc.request.NEXT_SLIDE,i),hc.theme.isUnified&&pc.trigger(bc.topEllipsesPanel.HIDE)),hc.deviceView.isMobile&&(pc.trigger(bc.tab.HIDE),(hc.deviceView.isPhone||hc.theme.isClassic)&&pc.trigger(bc.sidebar.CLOSE))}null!=this.currentItem&&null!=this.focusor&&Sc(this.currentItem)}else xc(e,"carrot")&&this.onCarrotClick(e)}},{key:"updateViewedState",value:function(e){Pc(e,"cs-viewed");var t=Tc(e).pop();if(null!=t){if(!xc(e,"is-scene")||!xc(t,"item-collapsible")){var n=t.querySelector("div.listitem");Lc(n,"cs-unvisited")}xc(e,"is-scene")&&this.isSceneCompleted(e.getAttribute("data-ref"))&&Pc(e,"cs-complete")}this.updateAriaLabel(e)}},{key:"isExpanded",value:function(){return!!this.currentItem.dataset.hasLinks&&xc(this.parentElement,"item-collapsed")}},{key:"onKeydown",value:function(e){var t=this.currentItem;if(vc.isActionKey(e.which))this.activateItem(),vc.isSpaceKey(e.which)&&e.preventDefault();else if(vc.isRightKey(e.which)&&t.dataset.hasLinks)xc(this.currentItem.parentNode,"item-collapsed")?this.onCarrotClick(this.currentItem.firstElementChild):this.currentItem=this.getNextItem(this.getItemContent());else if(vc.isDownKey(e.which))this.currentItem=this.getNextItem(this.getItemContent());else if(vc.isUpKey(e.which))this.currentItem=this.getPrevItem(this.getItemContent());else if(vc.isLeftKey(e.which))if(t.dataset.hasLinks&&!xc(t.parentNode,"item-collapsed"))this.onCarrotClick(this.currentItem.firstElementChild);else{var n=Cc(this.currentItem,"item-collapsible");null!=n&&(this.currentItem=n.querySelector(".cs-listitem"))}else vc.isHomeKey(e.which)?this.currentItem=this.getFirstItem():vc.isEndKey(e.which)?this.currentItem=this.getLastItem():vc.isTabKey(e.which)&&Lc(this.currentItem,"hover");t!==this.currentItem&&(e.preventDefault(),Lc(t,"hover"),this.focusOnCurrent())}},{key:"focusOnCurrent",value:function(){this.centerOnFocused(),document.activeElement!==this.currentItem.parentNode&&(Pc(this.currentItem,"hover"),this.currentItem.parentNode.focus()),Sc(this.currentItem)}},{key:"hasListItems",value:function(){return!yc.isEmpty(ne.model.frame.navData.outline.links)}},{key:"getItems",value:function(){return this.links=this.links||tc(this.el.querySelectorAll(".cs-listitem")),this.links}},{key:"activateItem",value:function(){var e="locked"!==this.menuOptions.flow&&null==this.currentItem.dataset.isScene,t=e?"onClickLink":"onCarrotClick",n=e?this.currentItem:this.currentItem.querySelector(".carrot");this[t](n)}},{key:"findIndexCb",value:function(e,t){return e===t}},{key:"getItemContent",value:function(){return this.currentItem}},{key:"getTreeRootEl",value:function(){return this.el.querySelector("ul")}},{key:"getOffsetEl",value:function(){return hc.deviceView.isMobile?this.el.parentNode:this.el}},{key:"getOffsetTop",value:function(e){return hc.deviceView.isMobile?yc.first(Ec(e,(function(e){return"li"===e.nodeName.toLowerCase()}))).offsetTop:rc(sc(a.prototype),"getOffsetTop",this).call(this,e)}},{key:"onShowTabItem",value:function(e,t){if("outline"===e&&null!=t){var n=this.getItems().find((function(e){return e.dataset.translationId===t}));null!=n&&n.scrollIntoView({block:"nearest",behavior:"smooth"})}}},{key:"scrollToCurrent",value:function(){var e=this;hc.deviceView.isMobile&&(this.currentItem=this.getItems().find((function(t){return t.getAttribute("data-ref")===e.currentSlideId}))),rc(sc(a.prototype),"scrollToCurrent",this).call(this)}},{key:"setDrawSlides",value:function(){var e=this;this.view.draws.forEach((function(t){var n=t.link,i=t.links,r=mc.resolvePath(wc(n.drawid)),o=function(){var t=n.spliceNum||1,o=r.slides();i.splice.apply(i,[n.index,t].concat(tc(o.map(e.createNewLink)))),n.spliceNum=o.length,e.view.updateHtml(),e.view.initChildRefs()};r.on(bc.draw.RESET_COMPLETE,o),null!=r.slides()&&o()}))}},{key:"createNewLink",value:function(e){var t={kind:"slidelink",expand:!1,type:"slide"};return t.slideid=e.absoluteId,t.slidetitle=t.displaytext=e.get("title"),t}}],i&&ic(t.prototype,i),r&&ic(t,r),Object.defineProperty(t,"prototype",{writable:!1}),a}(hs),Dc=jc,Ac="rtl",Ic=function(){return ne.model.rtl?Ac:""},Rc=function(e){ne.model.rtl&&!e.contains(Ac)?e.add(Ac):!ne.model.rtl&&e.contains(Ac)&&e.remove(Ac)},Bc=DS.detection,Mc="outline",Hc=function(e){for(var t="";e;)t=e.index+1+"."+t,e=null!=e.parent&&"slidelink"===e.parent.kind&&e.parent;return t+" "},Nc=function(){var e=ke.getColor(DS.constants.refs.FRAME,".cs-brandhighlight-bg","background-color",".cs-base.cs-custom-theme");if(null==cc||fc!==!!ne.model.rtl||uc!==e){var t=ke.getColor(DS.constants.refs.FRAME,".cs-tabs.cs-selected","color");cc=".item-collapsible:not(.item-collapsed) .is-scene {\n      color: ".concat(t," !important;\n    }\n  \n    .is-scene:not(.item-collapsed) .cs-icon-carrot * {\n      fill: ").concat(t," !important;\n    }"),fc=!!ne.model.rtl,uc=e;var n=window.btoa("\n      <svg xmlns='http://www.w3.org/2000/svg' version='1.1'\n            width='6px' height='40px' viewBox='0 0 6 40' preserveAspectRatio='none'>\n        <g stroke='none' fill='".concat(uc,"'>\n          <polygon points='0 0 6 0 6 20 6 40 0 40'></polygon>\n        </g>\n      </svg>"));cc+="\n      .cs-listitem.cs-selected {\n        background-position: ".concat(fc?"right":"left",' top !important;\n        background-repeat: no-repeat !important;\n        background-size: 6px 100% !important;\n        background-image: url("data:image/svg+xml;base64,').concat(n,'") !important;    \n      }')}return cc},Fc=ne.def(Mc,Dc,(function(){var e=ne.model;return{tag:"nav",attrs:{id:Mc+"-content",class:"is-scrollable cs-outline ".concat(Ic()),tabindex:-1,"aria-label":e.getString("outline_container")},y:function(){return null!=this.parent.children.search?this.parent.children.search.h:0},w:"100%",h:function(){return this.parent.h-(null!=this.parent.children.search?this.parent.children.search.h:0)},overflow:"auto",draws:[],html:function(){var t=this,i={},r=0;DS.flagManager.localizationPlatform&&this.el.querySelectorAll("[data-collapsible-id]").forEach((function(e){var t=e.dataset.collapsibleId;i[t]=!e.classList.contains("item-collapsed")}));var o=e.frame.navData.outline.links||[],a=e.frame.controlOptions.menuOptions,l=a.wrapListItems,s=a.autonumber,c=a.tooltips,u=a.flow;this.el.depth=0;var f=this.el;f.innerHTML="\n      <style id='sceneStyle'>\n        ".concat(Nc(),"\n      </style>\n      ");var d=document.createElement("ul");return d.setAttribute("aria-label",e.getString("outline")),d.setAttribute("role","tree"),d.depth=0,f.appendChild(d),function o(a,f,d){var h=document.createElement("ul");h.depth=f.depth+1,h.tabIndex=-1,h.setAttribute("role","group"),f.appendChild(h);for(var p=0;p<a.length;p++){var y=document.createElement("li"),b=a[p];b.parent=d,b.index=p,y.depth=h.depth,y.tabIndex=1===y.depth&&0===p?0:-1,y.setAttribute("role","treeitem"),h.appendChild(y);var v=null!=b.links,m=15*y.depth+19,g=b.slideid||b.emptySceneId;null==g&&t.draws.push({link:b,links:a,i:p});var w=n(g),S=e.rtl,k="free"===u||v&&b.expand?"":e.getString("acc_locked"),O=s?"".concat(Hc(b)," "):"",E=DS.flagManager.localizationPlatform&&a[p].translationId,C='\n              <div \n                class="cs-listitem listitem '.concat(w?"is-scene cs-unvisited":""," ").concat(l?"":"no-wrap"," ").concat("free"!==u&&"cs-"+u," ").concat(!w&&v?"is-promoted-slide":"",'"\n                style="padding-').concat(S?"right":"left",": ").concat(m,'px;"\n                data-ref="').concat(g,'"\n                ').concat(E?'data-translation-id="'.concat(E,'"'):"",'\n                data-slide-title="').concat(O).concat(a[p].displaytext,'"\n                ').concat(w?'data-is-scene="true"':"","\n                ").concat(v?'data-has-links="true"':"",'\n                title="').concat(c?b.displaytext:"",'"\n                tabIndex="-1"\n                role = "none">\n                <span style="position: absolute; opacity: 0;">').concat(O).concat(b.displaytext," ").concat(k,"</span>\n\n                ").concat(v?br("carrot")("".concat(S?-1:1,"px")):"",'\n                <span class="linkText" aria-hidden="true">\n                  ').concat(O).concat(b.displaytext,'\n                </span>\n                <span class="outline-states" aria-hidden="true">\n                  <span class="visitedIcon" aria-label="').concat(e.getString("acc_visited"),'">\n                    ').concat(br("checkmark")(),'\n                  </span>\n                  <span class="lockedIcon" aria-label="').concat(e.getString("acc_locked"),'">\n                    ').concat(br("lock")(),'\n                  </span>\n                  <span class="lockedViewedIcon" aria-label="').concat(e.getString("acc_visited"),", ").concat(e.getString("acc_locked"),'">\n                    ').concat(br("lockedViewed")(),"\n                  </span>\n                </span>\n              </div>\n            ");y.innerHTML=C,v&&(DS.flagManager.localizationPlatform&&y.setAttribute("data-collapsible-id",r),y.setAttribute("aria-expanded",b.expand),y.classList.add("item-collapsible"),null!=i[r]?i[r]||y.classList.add("item-collapsed"):b.expand||y.classList.add("item-collapsed"),o(b.links,y,b),r++)}}(o,d),f.innerHTML},updateHook:function(){var e=document.getElementById("sceneStyle");if(Bc.browser.isIE){var t=document.createElement("style");t.setAttribute("id","dynamicStyle"),t.setAttribute("type","text/css"),t.cssText=Nc(),document.head.querySelector("#dynamicStyle")||document.head.appendChild(t)}else null!=e&&(e.innerText=Nc());Rc(this.el.classList)}}}));function Wc(e){return function(e){if(Array.isArray(e))return Vc(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return Vc(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Vc(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Vc(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}var zc="outlineSearch",Uc=ne.def(zc,il,(function(){var e=ne.model,t=e.frame,n=e.outlineInSidebar,i=DS.presentation,r=t.controlOptions.controls.search||i.isPreview()&&!window.globals.HAS_SLIDE;return{attrs:{id:"".concat(zc,"-content"),class:"outline-search ".concat(Ic()),tabindex:-1},w:function(){var e=this.parent.childWidth||this.parent.w;return e-2},h:function(){return this.parent.h-2},updateHook:function(){Rc(this.el.classList)},overflow:n?"hidden":"visible",model:t,childViews:[].concat(Wc(r?[zl,Js]:[]),[Fc])}}));function Kc(e){return Kc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Kc(e)}function Qc(e){return function(e){if(Array.isArray(e))return Gc(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return Gc(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Gc(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Gc(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function qc(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,Jc(i.key),i)}}function Zc(e,t){return Zc=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Zc(e,t)}function Yc(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=$c(e);if(t){var r=$c(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return function(e,t){if(t&&("object"===Kc(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Xc(e)}(this,n)}}function Xc(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function $c(e){return $c=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},$c(e)}function Jc(e){var t=function(e,t){if("object"!==Kc(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!==Kc(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===Kc(t)?t:String(t)}var eu=DS,tu=(eu._,eu.focusManager),nu=eu.detection,iu=eu.pubSub,ru=eu.events,ou=eu.dom,au=ou.addClass,lu=ou.removeClass,su=(eu.keyManager.isTabKey,function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Zc(e,t)}(o,e);var t,n,i,r=Yc(o);function o(e){var t,n,i,a;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),t=r.call(this,e),n=Xc(t),a=void 0,(i=Jc(i="s"))in n?Object.defineProperty(n,i,{value:a,enumerable:!0,configurable:!0,writable:!0}):n[i]=a,t.view.isUnified&&(t.getScrollEl=function(){return t.termsEl},t.getOffsetTop=function(e){return e.offsetTop},t.getOffsetHeight=function(e){return e.offsetHeight+e.nextElementSibling.clientHeight}),t.hasDefinition=nu.deviceView.isDesktop&&!t.view.isUnified,iu.on(ru.glossary.REFRESH_VIEW,(function(){t.view.updateHtml(),t.view.update()})),DS.flagManager.localizationPlatform&&iu.on(ru.frame.SHOW_TAB_ITEM,t.onShowTabItem.bind(Xc(t))),t}return t=o,(n=[{key:"onClickItem",value:function(e){var t=e.target;if(this.hasDefinition&&null!=t&&"p"!==t.nodeName.toLowerCase()){var n=null!=this.activeItem;n&&(this.activeItem.firstElementChild.setAttribute("aria-expanded",!1),this.activeItem.style.backgroundColor="",this.closeItem(this.activeItem)),n&&this.lastSelected==t||(t.setAttribute("aria-expanded",!0),this.openItem(t.parentElement)),this.lastSelected=t}}},{key:"getNextItem",value:function(e){var t,n=this.getItems(),i=this.getItems().indexOf(this.currentItem);do{(i+=1)===n.length&&(i=0),t=n[i]}while("none"===t.parentElement.style.display);return t}},{key:"getPrevItem",value:function(e){var t,n=this.getItems(),i=this.getItems().indexOf(this.currentItem);do{-1==(i-=1)&&(i=n.length-1),t=n[i]}while("none"===t.parentElement.style.display);return t}},{key:"hasListItems",value:function(){return!DS._.isEmpty(this.model.frame.glossaryData)}},{key:"getItems",value:function(){return this.links=this.links||Qc(this.el.querySelectorAll(".term")),this.links}},{key:"openItem",value:function(e){au(e,"cs-selected"),e.nextElementSibling.style.display="block",au(e.nextElementSibling,"open"),this.activeItem=e}},{key:"closeItem",value:function(e){var t=this;lu(e,"cs-selected"),lu(e.nextElementSibling,"open"),this.activeItem=null,TweenLite.to(e,.2,{opacity:1,onComplete:function(){e.nextElementSibling.style.display="none",tu.setFocusRectOn(t.currentItem)}})}},{key:"onShowTabItem",value:function(e,t){if("glossary"===e&&null!=t){var n=Qc(this.el.querySelectorAll("[data-translation-id]")).find((function(e){return e.dataset.translationId===t}));null!=n&&n.scrollIntoView({block:"nearest",behavior:"smooth"})}}}])&&qc(t.prototype,n),i&&qc(t,i),Object.defineProperty(t,"prototype",{writable:!1}),o}(hs)),cu=su;function uu(e){return uu="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},uu(e)}function fu(e){return function(e){if(Array.isArray(e))return du(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return du(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return du(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function du(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function hu(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,(r=i.key,o=void 0,o=function(e,t){if("object"!==uu(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!==uu(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(r,"string"),"symbol"===uu(o)?o:String(o)),i)}var r,o}function pu(e,t){return pu=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},pu(e,t)}function yu(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=vu(e);if(t){var r=vu(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return function(e,t){if(t&&("object"===uu(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return bu(e)}(this,n)}}function bu(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function vu(e){return vu=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},vu(e)}var mu=DS,gu=(mu.detection,mu.pubSub),wu=mu.events,Su=mu.keyManager.isSpaceKey,ku=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&pu(e,t)}(o,e);var t,n,i,r=yu(o);function o(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),t=r.call(this,e),gu.on(wu.resources.REFRESH_VIEW,(function(){t.view.updateHtml(),t.view.update()})),DS.flagManager.localizationPlatform&&gu.on(wu.frame.SHOW_TAB_ITEM,t.onShowTabItem.bind(bu(t))),t}return t=o,(n=[{key:"onClickItem",value:function(){}},{key:"hasListItems",value:function(){return(this.model.resourceData.resources||[]).length>0}},{key:"getItems",value:function(){return this.items=this.items||fu(this.el.querySelectorAll(".resource a")),this.items}},{key:"activateItem",value:function(e){Su(e.keyCode)&&DS.windowOpen.open({url:this.currentItem.dataset.url})}},{key:"getOffsetTop",value:function(e){return this.currentItem.offsetTop}},{key:"getFocusRectTarget",value:function(){return this.currentItem.parentNode}},{key:"onShowTabItem",value:function(e,t){if("resource"===e&&null!=t){var n=this.getItems().find((function(e){return e.dataset.translationId===t}));null!=n&&n.scrollIntoView({block:"nearest",behavior:"smooth"})}}}])&&hu(t.prototype,n),i&&hu(t,i),Object.defineProperty(t,"prototype",{writable:!1}),o}(cu),Ou=ku;function Eu(e){return function(e){if(Array.isArray(e))return Cu(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return Cu(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Cu(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Cu(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}var xu=DS.utils,Pu=xu.pxify,Lu=xu.getPath,Tu="resources",_u=["xls","pdf","doc","ppt","rtf","zip","link","file"],ju={docx:"doc",pptx:"ppt",xlsx:"xls"},Du=ne.def(Tu,Ou,(function(e){var t=ne.model.frame,n=ke.getColor(e,".cs-brandhighlight-bg","background-color",".cs-base.cs-custom-theme").replace(/\).*/,")");return{attrs:{id:"".concat(Tu,"-content"),class:"cs-resource ".concat(Ic()," resources"),tabindex:-1},w:function(){return this.parent.childWidth||this.parent.w},h:function(){return this.parent.h-2},overflow:"",model:t,html:function(){return'\n      <div class="resources-content scrolling-panel panel-content">\n        <ul class="resources-list" role="menu">\n          '.concat(Lu(t,"resourceData.resources",[]).reduce((function(e,t,i){var r=function(e){var t=e.url,n=t.includes("http")?"link":t.split(".").pop().toLowerCase();return ju[n]&&(n=ju[n]),_u.includes(n)?n:"file"}(t),o="href=\"javascript:DS.windowOpen.open({ url: '".concat(t.url,"' })\""),a=DS.flagManager.localizationPlatform&&t.translationId;return"".concat(e,'\n              <li class="cs-listitem resource" tabIndex="-1">\n                <a ').concat(o,' \n                  data-url="').concat(t.url,'" \n                  tabindex="').concat(0===i?0:-1,'" \n                  role="menuitem" \n                  ').concat(a?'data-translation-id="'.concat(a,'"'):"",'\n                >\n                  <div class="file-icon resource-ext-').concat(r,'">\n                    ').concat(br("link"===r?"link":"file")(n),'\n                    <div class="file-icon-text">\n                    ').concat(r,'\n                    </div>\n                  </div>\n                  <div class="file-name">').concat(t.title,"</div>\n                </a>\n              </li>")}),""),"\n        </ul>\n      </div>")},updateHook:function(){Rc(this.el.classList)},methods:{onPanelVisible:function(){Eu(this.el.querySelectorAll(".resource")).forEach((function(e){var t=e.querySelector(".file-name").scrollHeight;e.clientHeight<t&&(e.style.height=Pu(t+8))}))}}}})),Au=DS,Iu=Au.slideObjectUtils,Ru=Au.utils.getPath,Bu=Au.constants,Mu="glossary",Hu=ne.def(Mu,cu,(function(){var e=ne.model;return Iu.activeMobileMenuItem(e.frame.glossaryData,"no-glossary"),{attrs:{id:"".concat(Mu,"-content"),class:"".concat(Ic()," cs-glossary"),tabindex:-1},w:"100%",h:function(){return this.parent.h-2},model:e,isUnified:!0,html:function(){return'\n      <div data-ref="terms" class="glossary-content scrolling-panel">\n        <dl>\n        '.concat(Ru(e,"frame.glossaryData",[]).map((function(e,t){var n="glossary-def-".concat(t),i=DS.flagManager.localizationPlatform&&e.translationId;return'\n              <dt \n                class="cs-heading glossary-item glossary-term term"  \n                tabindex="'.concat(0===t?0:-1,'" \n                aria-describedby="').concat(n,'"\n                ').concat(i?'data-translation-id="'.concat(i,'.Term"'):"","\n              >\n                ").concat(e.title,'\n              </dt>\n              <dd \n                id="').concat(n,'" \n                class="glossary-item glossary-desc" \n                tabindex="-1"\n                ').concat(i?'data-translation-id="'.concat(i,'.Definition"'):"","\n              >\n                ").concat(e.content.toString().split(Bu.LINE_BREAK_REGEX).map((function(e){return"<p class=".concat(0===e.length?"empty-p":"",">").concat(e,"</p>")})).join(""),"\n              </dd>\n            ")})).join(""),"\n        </dl>\n      </div>")},updateHook:function(){Rc(this.el.classList)}}}));function Nu(e){return Nu="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Nu(e)}function Fu(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,(r=i.key,o=void 0,o=function(e,t){if("object"!==Nu(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!==Nu(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(r,"string"),"symbol"===Nu(o)?o:String(o)),i)}var r,o}function Wu(e,t){return Wu=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Wu(e,t)}function Vu(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=Uu(e);if(t){var r=Uu(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return function(e,t){if(t&&("object"===Nu(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return zu(e)}(this,n)}}function zu(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Uu(e){return Uu=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Uu(e)}var Ku=/color:#ffffff/gi,Qu=DS,Gu=Qu.detection,qu=Qu.events,Zu=Qu.focusManager,Yu=Qu.pubSub,Xu=(Qu.utils,Qu.slideObjectUtils),$u=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Wu(e,t)}(o,e);var t,n,i,r=Vu(o);function o(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),t=r.call(this,e),Yu.on(qu.window.MAIN_CHANGED,t.onSlideChanged.bind(zu(t))),DS.flagManager.localizationPlatform&&Yu.on(qu.transcript.REFRESH_VIEW,t.onRefreshView.bind(zu(t))),Gu.deviceView.isClassicMobile?Yu.on(qu.mobile.NOTES_SHOWN,t.onHamburgerToggle.bind(zu(t),!1)):Gu.deviceView.isUnifiedMobile&&Yu.on(qu.hamburger.TOGGLE,t.onHamburgerToggle.bind(zu(t))),t.forceScrollToTop=!1,t}return t=o,(n=[{key:"onHamburgerToggle",value:function(e){this.forceScrollToTop&&!e&&(this.getScrollElement().scrollTop=0,this.forceScrollToTop=!1)}},{key:"onFocus",value:function(){this.el.focus(),Zu.setFocusRectOn(this.el.parentNode)}},{key:"focusSelf",value:function(){this.onFocus()}},{key:"handleTab",value:function(){return this.el.parentElement.focus(),!0}},{key:"onSlideChanged",value:function(e){if(this.lasSlideId!=e.absoluteId){this.lasSlideId=e.absoluteId;var t=(this.model.notesData||[]).find((function(t){return e.absoluteId.includes(t.slideId)}));null!=this.titleEl&&(this.titleEl.innerHTML=e.get("title"));var n=null==t?"":t.content;Gu.deviceView.isClassicMobile&&(n=n.replace(Ku,"color:#515557")),this.contentEl.innerHTML=n,Yu.trigger(qu.transcript.CHANGED),Xu.activeMobileMenuItem(n,"no-transcript"),this.scrollToTop()}}},{key:"onRefreshView",value:function(){var e=DS.windowManager.getMainWindowSlide();null!=e&&this.onSlideChanged(e)}},{key:"scrollToTop",value:function(){Gu.deviceView.isDesktop?this.view.el.scrollTop=0:Gu.theme.isClassic?0===this.getScrollElement().scrollTop?this.forceScrollToTop=!0:this.getScrollElement().scrollTop=0:ne.getNamespace(this.view.nameSpace).sidebar.collapsed?this.forceScrollToTop=!0:this.getScrollElement().scrollTop=0}},{key:"getScrollElement",value:function(){return Gu.deviceView.isClassicMobile?this.view.parent.el:this.view.el}},{key:"getViewBox",value:function(){return this.view.parent.getBox()}},{key:"teardown",value:function(){Yu.off(qu.window.MAIN_CHANGED,this.onSlideChanged.bind(this)),DS.flagManager.localizationPlatform&&Yu.off(qu.transcript.REFRESH_VIEW,this.onRefreshView.bind(this)),Gu.deviceView.isClassicMobile?Yu.off(qu.mobile.NOTES_SHOWN,this.onHamburgerToggle.bind(this,!1)):Gu.deviceView.isUnifiedMobile&&Yu.off(qu.hamburger.TOGGLE,this.onHamburgerToggle.bind(this))}}])&&Fu(t.prototype,n),i&&Fu(t,i),Object.defineProperty(t,"prototype",{writable:!1}),o}(cn),Ju=$u,ef="transcript",tf={outline:Uc,resources:Du,glossary:Hu,transcript:ne.def(ef,Ju,(function(){var e=ne.model,t=e.rtl?"rtl":"";return{attrs:{id:ef+"-content",class:"cs-transcript ".concat(t),tabindex:0},w:"100%",h:function(){return this.parent.h-2},html:'\n      <div data-ref="content" class="note-content scrolling-panel"></div>\n    ',model:e.frame}}))},nf=DS.utils.getPath,rf=DS.constants.refs.FRAME,of="sidebarPanels",af=(ne.def(of,(function(e){var t=ne.getNamespace(e),n=t.sidebar,i=t.tabs,r=t.logo;return{attrs:{id:of},x:0,z:1,y:function(){return i.bottom()},w:function(){return n.data.actualWidth()},h:function(){var e=r?r.h:0;return n.h-i.h-e},childDef:function(){af(ne.model,e)}}})),function(e,t){nf(e,"sidebarTabs",[]).forEach((function(e,n){!function(e,t,n,i){var r=t.name,o=r+"Panel",a=0===n,l=ne.def(o,Za,{attrs:{id:o,class:"cs-menu cs-panel is-scrollable panel","aria-labelledby":r+"-tab",role:"tabpanel",tabindex:-1},visibility:"no-reflow",style:{display:a},x:0,y:0,w:"100%",h:"100%",html:""});l.init(),ne.getNamespace(rf).sidebarPanels.append(l);var s=tf[r];null!=s&&(s.nameSpace=i,s.init(),l.append(s))}(0,e,n,t)}))}),lf="topTabs";function sf(e){return sf="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},sf(e)}function cf(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,(r=i.key,o=void 0,o=function(e,t){if("object"!==sf(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!==sf(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(r,"string"),"symbol"===sf(o)?o:String(o)),i)}var r,o}function uf(e,t){return uf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},uf(e,t)}function ff(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=df(e);if(t){var r=df(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return function(e,t){if(t&&("object"===sf(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,n)}}function df(e){return df=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},df(e)}ne.def(lf,(function(){return{attrs:{id:lf,role:"navigation"},w:"100%",overflow:"visible",h:"100%"}}));var hf=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&uf(e,t)}(o,e);var t,n,i,r=ff(o);function o(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),(t=r.call(this,e)).onClick(t.onClickLink),t}return t=o,(n=[{key:"onClickLink",value:function(){var e=this,t=this.model.properties.data;DS.pubSub.trigger(DS.events.customlink.EVENT,t),this.view.parent.children.forEach((function(t){t.viewLogic!==e&&t.viewLogic.showing&&t.viewLogic.hidePanel()}))}},{key:"isLive",value:function(){return!0}}])&&cf(t.prototype,n),i&&cf(t,i),Object.defineProperty(t,"prototype",{writable:!1}),o}(cn),pf=hf;function yf(e){return yf="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},yf(e)}function bf(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,(r=i.key,o=void 0,o=function(e,t){if("object"!==yf(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!==yf(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(r,"string"),"symbol"===yf(o)?o:String(o)),i)}var r,o}function vf(){return vf="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var i=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Sf(e)););return e}(e,t);if(i){var r=Object.getOwnPropertyDescriptor(i,t);return r.get?r.get.call(arguments.length<3?e:n):r.value}},vf.apply(this,arguments)}function mf(e,t){return mf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},mf(e,t)}function gf(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=Sf(e);if(t){var r=Sf(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return function(e,t){if(t&&("object"===yf(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return wf(e)}(this,n)}}function wf(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Sf(e){return Sf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Sf(e)}var kf=DS.dom.isWithin,Of=DS.globalEventHelper,Ef=Of.addDocumentListener,Cf=Of.removeDocumentListener,xf=DS,Pf=xf.pubSub,Lf=xf.events,Tf=xf._,_f=xf.playerGlobals,jf=xf.dom,Df=jf.addClass,Af=jf.removeClass,If=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&mf(e,t)}(o,e);var t,n,i,r=gf(o);function o(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),t=r.call(this,e),Tf.bindAll(wf(t),"hidePanel","onCheckShouldHide"),t.onClick(t.onClickLink),t.showing=!1,Pf.on(Lf.sidebar.ACTIVE_TAB_SET,t.onActiveTabSet.bind(wf(t))),DS.flagManager.localizationPlatform&&Pf.on(Lf.frame.SHOW_TAB_ITEM,t.onShowTabItem.bind(wf(t))),t}return t=o,n=[{key:"onShowTabItem",value:function(e){this.hidePanel(),this.view.nameKey.includes(e)&&this.showPanel(!0)}},{key:"onActiveTabSet",value:function(e){this.view.parent.children.find((function(t){return t.nameKey.includes(e)}))&&this.hidePanel(),this.view.nameKey.includes(e)&&this.showPanel()}},{key:"onClickLink",value:function(e){this.showing?this.hidePanel():this.showPanel()}},{key:"showPanel",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.translationShown=e,this.el.style.border="1px solid ".concat(this.view.selectedBorderColor),this.el.setAttribute("aria-expanded",!0),Df(this.el,"cs-selected"),Df(this.el,"active"),this.view.panel.el.style.display="block",this.view.panel.viewLogic.focusChild(),Ef("mouseup",this.onCheckShouldHide),Pf.on(Lf.controlLayout.CHANGED,this.hidePanel),this.showing=!0}},{key:"hidePanel",value:function(){this.translationShown=!1,this.el.style.border="1px solid rgba(0, 0, 0, 0)",this.el.setAttribute("aria-expanded",!1),Af(this.el,"cs-selected"),Af(this.el,"active"),this.view.panel.el.style.display="none",Cf("mouseup",this.onCheckShouldHide),Pf.off(Lf.controlLayout.CHANGED,this.hidePanel),this.showing=!1}},{key:"onBlur",value:function(e){_f.presentation.isPreview()&&!window.globals.HAS_SLIDE||this.onCheckShouldHide({target:e.relatedTarget}),vf(Sf(o.prototype),"onBlur",this).call(this,e)}},{key:"onCheckShouldHide",value:function(e){null!=e.target&&(kf(e.target,"panel")||this.el.contains(e.target))||this.hidePanel()}},{key:"isLive",value:function(){var e=ne.model.currControlLayout[this.model.name];return Tf.isObject(e)?e.enabled:e}},{key:"teardown",value:function(){Pf.off(Lf.controlLayout.CHANGED,this.hidePanel),Pf.off(Lf.sidebar.ACTIVE_TAB_SET)}}],n&&bf(t.prototype,n),i&&bf(t,i),Object.defineProperty(t,"prototype",{writable:!1}),o}(cn),Rf=If;function Bf(e){return Bf="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Bf(e)}function Mf(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,(r=i.key,o=void 0,o=function(e,t){if("object"!==Bf(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!==Bf(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(r,"string"),"symbol"===Bf(o)?o:String(o)),i)}var r,o}function Hf(){return Hf="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var i=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Vf(e)););return e}(e,t);if(i){var r=Object.getOwnPropertyDescriptor(i,t);return r.get?r.get.call(arguments.length<3?e:n):r.value}},Hf.apply(this,arguments)}function Nf(e,t){return Nf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Nf(e,t)}function Ff(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=Vf(e);if(t){var r=Vf(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return function(e,t){if(t&&("object"===Bf(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Wf(e)}(this,n)}}function Wf(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Vf(e){return Vf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Vf(e)}var zf=DS,Uf=zf._,Kf=zf.events,Qf=zf.pubSub,Gf=zf.detection,qf=zf.keyManager,Zf=zf.TweenLite,Yf=zf.focusManager,Xf=zf.constants.ANIMATION_DURATION,$f=zf.globalEventHelper,Jf=$f.addDocumentListener,ed=$f.addWindowListener,td=zf.dom,nd=td.isInput,id=td.hasClass,rd=td.addClass,od=td.removeClass,ad=Gf.device.isMobile?"touchend":"mouseup",ld=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Nf(e,t)}(o,e);var t,n,i,r=Ff(o);function o(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),t=r.call(this,e),Uf.bindAll(Wf(t),"updatePanel","onResize"),t.isOutlinePanel="outlineLink"===e.nameKey,t.isGlossaryPanel="glossaryLink"===e.nameKey,t.isResourcesPanel="resourcesLink"===e.nameKey,t.isOutlinePanel&&(Qf.on(Kf.menuLinksListItem.TOGGLE,t.updatePanel),Qf.on(Kf.search.UPDATE_PANEL,(function(){setTimeout(t.updatePanel,Xf)})),t.searchEnabled=ne.model.frame.controlOptions.controls.search),window.globals.HAS_SLIDE||t.subscribeToRefreshEvents(),t.removeResize=ed("resize",t.onResize),t}return t=o,n=[{key:"subscribeToRefreshEvents",value:function(){this.isOutlinePanel?Qf.on(Kf.navData.REFRESH_VIEW,this.updatePanel):this.isResourcesPanel?Qf.on(Kf.resources.REFRESH_VIEW,this.updatePanel):this.isGlossaryPanel&&Qf.on(Kf.glossary.REFRESH_VIEW,this.updatePanel)}},{key:"teardown",value:function(){Qf.off(Kf.resources.REFRESH_VIEW,this.updatePanel),Qf.off(Kf.glossary.REFRESH_VIEW,this.updatePanel),Qf.off(Kf.navData.REFRESH_VIEW,this.updatePanel),this.removeResize()}},{key:"onResize",value:function(){!this.showing||Gf.device.isMobile&&nd(document.activeElement)||this.hidePanel()}},{key:"updatePanel",value:function(){var e=this.view.panel.el.querySelector(".scrolling-panel");if(null!=e)this.view.panel.height=Math.min(Ae.minHeight-120,e.clientHeight+2),this.view.panel.update(),this.view.panel.updateChildren();else if(this.isOutlinePanel){var t=id(document.body,"search-results-active")?document.body.querySelector(".search-results-active .search-results ul"):document.body.querySelector("#outline-content > ul");this.view.panel.height=Math.min(Ae.minHeight-120,t.clientHeight+(this.searchEnabled?65:0)+2),this.view.panel.update(),this.view.panel.updateChildren(!0)}}},{key:"showPanel",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];Qf.trigger(Kf.tabLink.SHOW_PANEL,this),Gf.deviceView.isPhone&&Zf.from(this.view.panel.el,.12,{left:"left"===ne.model.sidebarOpts.sidebarPos?30:-30}),rd(document.body,"nested-panel-shown"),this.el.setAttribute("aria-expanded",!0),this.el.classList.add("cs-selected","active"),this.view.panel.el.style.display="block",this.updatePanel(),t||this.view.panel.viewLogic.focusChild(),this.removeShowPanelListeners=Uf.flow(Jf("keydown",(function(t){return e.handleKeyDown(t)})),Jf(ad,this.onCheckShouldHide)),Qf.on(Kf.controlLayout.CHANGED,this.hidePanel),this.showing=!0,Qf.trigger(Kf.tabLink.PANEL_SHOWN,this)}},{key:"handleKeyDown",value:function(e){qf.isEscapeKey(e.which)&&(this.hidePanel(),this.el.focus(),Yf.setFocusRectOn(this.el))}},{key:"hidePanel",value:function(e){Qf.trigger(Kf.tabLink.HIDE_PANEL,this),!e&&Gf.deviceView.isPhone&&this.view.panel.inEllipsis||(Hf(Vf(o.prototype),"hidePanel",this).call(this),null!=this.removeShowPanelListeners&&this.removeShowPanelListeners(),od(document.body,"nested-panel-shown"))}}],n&&Mf(t.prototype,n),i&&Mf(t,i),Object.defineProperty(t,"prototype",{writable:!1}),o}(Rf),sd=ld;function cd(e){return function(e){if(Array.isArray(e))return ud(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return ud(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ud(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ud(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}var fd,dd=DS.detection,hd=DS.constants.refs.FRAME,pd=dd.deviceView.isPhone?290:302,yd=DS,bd=yd.pubSub,vd=yd.events,md=!0,gd=[],wd=!0;bd.on(vd.renderTree.DESTROYED,(function(){gd=[],md=!0}));var Sd=function(e){if(e.length>0){var t=e.shift();return gd.unshift(t),t}},kd=function(e){return e.reduce((function(e,t){return t.update(),e+(t.isTopLink?t.w:0)}),0)};function Od(e){return Od="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Od(e)}function Ed(e,t,n){return(t=function(e){var t=function(e,t){if("object"!==Od(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!==Od(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===Od(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}!function(e){var t,n=e.id,i=(ne.def(n,(function(i){var o=ne.getNamespace(i),a=o.title,l=o.hamburger,s=o.sidebar,c=o.timer,u=o.topEllipsis;ne.model.topTabsRight.length;return t=n,{attrs:{id:n,tabindex:-1},style:{left:"-1px"},w:function(){var e=this.parent.w-ni;return a.visible&&(e-=a.w),s.visible&&(e-=l.w),null!=c&&c.visible&&(e-=c.w),u.visible&&(e-=u.w),e-ii},overflow:"visible",x:e.x,y:"vertical-center",h:22,z:5,childDef:function(){r(ne.model,i)},methods:e.methods,updateHook:e.updateHook}})),function(n,i,r,o){var a,l,s,c,u="customlink"===r.name;u?(l=pf,a=DS.flagManager.localizationPlatform&&i.getControlString(r.properties.data)||r.properties.title,s="link".concat(e.dir).concat(o),c="custom-link"):(l=sd,a=i.getString(r.name),s=r.name+"Link",c="panel-link");var f=ke.getColor(n,".cs-topmenu-item.active .cs-tab","border-top-color",".cs-base"),d={id:s,class:"cs-topmenu-item cs-tabs top-tab ".concat(c),tabindex:0};u||(d["aria-controls"]="".concat(r.name,"-panel"),d["aria-expanded"]=!1);var h=ne.def(s,l,{selectedBorderColor:f,attrs:d,model:Object.assign(r,{idx:o}),isTopLink:!0,calcTextSize:!0,noUpdate:!0,contentStyle:{},tag:"button",html:function(){return'<span data-ref="label" class="cs-tab top-tab-text resizeable-text">'.concat(a,"</span>")},methods:{updateDomStrings:function(){var e="customlink"===r.name?i.getControlString(r.properties.data):i.getString(r.name);null!=e&&(this.viewLogic.labelEl.textContent=e)}},wPad:14,z:2,w:"fit-to-text-w",h:"fit-to-text-h",minH:23});h.init(),ne.getNamespace(hd)[e.id].append(h,!0),u||function(n,i,r,o){var a=o.name+"Panel",l="linksRight"===e.id,s=ne.getNamespace(n),c=(s.topBar,s.frame,s.sidebar),u=s.slide,f=(s.wrapper,s.topEllipsis),d=ke.getColor(n,".cs-topmenu-item.active .cs-panel","border-top-color",".cs-base"),h=dd.env.isFileProtocol||dd.browser.isFF?"background-color":"background",p=ke.getColor(n,".cs-topmenu-item.active .cs-panel",h),y=ne.getNamespace(n)[o.name+"Link"],b=ne.getNamespace(n),v=b.topEllipsisPanel,m=b.linksRight,g=ne.model.rtl,w=ne.def(a,Za,{attrs:{id:a,class:"cs-topmenu-item topmenu-item active cs-menu cs-panel panel top-tabs-drop topmenu-panel-align-".concat(l?"right":"left"),tabIndex:-1},style:{borderColor:d,background:p},w:function(){return Math.min(window.innerWidth-16,pd)},h:function(){return this.height||200},z:u.z+1,visible:!1,lnk:i,tabsId:t,overflow:"visible",x:function(){var e=0;if(y.inEllipsis){var t=-v.lastX-f.lastX;return!g||dd.deviceView.isPhone?"left"===c.pos?e=v.maxWidth-this.w+8:dd.deviceView.isPhone||(e=(v.maxWidth-this.w)/2+8):"left"!==c.pos&&(e=-2),DS.utils.clamp(t+8,t+window.innerWidth-this.w-8,e)}var n=(e=i.x+(i.w-this.w)/2)+this.w;return!y.inEllipsis&&n>m.w&&(e=m.w-this.w-20),e=Math.max(0,e),this.children.arrow.el.style.left="".concat(i.x-e+i.w/2-11,"px"),e},y:function(){return y.inEllipsis?0:this.lnk.h+10},html:vo(p,d)});w.init(n),ne.getNamespace(hd)[e.id].append(w),i.panel=w;var S=tf[o.name];null!=S&&(S.init(n),w.append(S))}(n,h,0,r)}),r=function(e,t){[].concat(cd(e.topTabsLeft),cd(e.topTabsRight)).forEach((function(n,r){i(t,e,n,r)}))}}({id:"linksRight",dir:"Right",linkListName:"topTabsRight",x:function(){var e=ne.getNamespace(DS.constants.refs.FRAME),t=e.hamburger,n=e.title,i=e.sidebar,r=e.topEllipsis,o=ne.model,a=0;return o.rtl?(i.visible&&"left"===o.sidebarOpts.sidebarPos&&(a+=t.w),r.visible&&(a+=r.w,"right"===i.pos&&(a=r.w))):n.visible?a=n.right():i.visible&&(a=t.w),a+("right"===i.pos?o.rtl?ni:n.visible?0:ni:ii)},methods:{tabWidths:function(){return kd(this.children)},phoneUpdateHook:function(){if(0!==this.children.length||0!==gd.length){var e=ne.getNamespace(this.nameSpace),t=e.topEllipsis,n=e.topEllipsisPanel;this.children.forEach((function(e){var i=n.children.links.el;null!=e.panel&&(e.panel.inEllipsis=!0,i.insertBefore(e.panel.el,i.firstChild),e.panel.update()),e.inEllipsis=!0,i.insertBefore(e.el,i.firstChild),t.setVisibility(!0)})),this.updateHook=DS._.noop}}},updateHook:function(){if(DS.detection.deviceView.isPhone)this.phoneUpdateHook();else{var e=this.children;if(wd||0!==this.children.length||DS.presentation.isPreview()||this.setVisibility(gd.length>0||this.children.some((function(e){return e.visible}))),wd=!1,(0!==e.length||0!==gd.length)&&null!=this.nameSpace){var t=ne.getNamespace(this.nameSpace),n=t.linksRight,i=t.topEllipsis,r=t.sidebar,o=t.topEllipsisPanel,a=this.w;if(fd>a&&(md=!0),fd=a,md&&kd(e)>this.w)for(;kd(e)>this.w;){var l=Sd(this.children);if(null!=l&&l.isTopLink){if(null!=l.el){var s=o.children.links.el;null!=l.panel&&(l.panel.inEllipsis=!0,s.insertBefore(l.panel.el,s.firstChild),l.panel.update()),l.inEllipsis=!0,s.insertBefore(l.el,s.firstChild)}i.setVisibility(!0)}}else if(gd.length>0){var c=kd(e),u=gd[0],f=this.w;i.visible&&1===gd.length&&(f+=i.w),f>c+u.w&&(gd.shift(),this.el.appendChild(u.el),null!=u.panel&&(u.panel.inEllipsis=!1,u.panel.update(),this.el.appendChild(u.panel.el)),this.children.unshift(u),u.inEllipsis=!1)}0===gd.length&&i.visible&&i.setVisibility(!1),md=!1;var d={toLeft:!0,startPos:n.w-ni,hook:function(e){null!=e.panel&&e.panel.update()}};"right"!==r.pos||ne.model.rtl?ne.model.rtl&&(d.toLeft=!1,d.startPos=0,d.reverse=!1):(d.toLeft=!1,d.startPos=0,d.reverse=!0),this.flowChildren(d)}}}});var Cd="bottomBar";ne.def(Cd,(function(e){var t,n=ne.getNamespace(e),i=n.frame,r=n.topBar,o=n.navControls;return Ed(t={openPanels:{},tag:"section",attrs:{id:Cd},overflow:"visible",x:function(){return r.x},y:function(){return i.h-ri},w:function(){return r.w},h:ri},"overflow","visible"),Ed(t,"updateHook",(function(){if(this.hasAllChildren()){var e=ne.model.rtl,t=this.children.playbackControls.children.seek;if(this.useReducedView=!1,this.marginPercent=1,t.width=0,o.update(),this.children.playbackControls.visible&&t.visible){var n=this.calcChildrensWidth()-30,i=e?1:0,r=(this.children.filter((function(e){return e.w>0})).length+i)*ni;if(t.width=Math.max(this.w-n-r,30),n+r+20>this.w){this.useReducedView=!0;var a=this.getChildWidthInfo(),l=a.count,s=a.minWidth,c=11*l;this.marginPercent=Math.min((this.w-s)/c,1),1===this.marginPercent&&(t.width=this.w-(s+c)+30),this.updateChildren(!0)}}this.flowChildren({alignChild:!0,bounds:{t:0,b:this.h,l:0,r:this.w},rtl:!1,pad:ni*this.marginPercent,reverse:!0})}})),Ed(t,"childVisibilityChangedHook",(function(){this.update()})),Ed(t,"methods",{getChildWidthInfo:function(){return this.children.reduce((function(e,t){if(!t.visible||null==t.getMinChildWidthInfo)return e;var n=t.getMinChildWidthInfo(),i=n.minWidth,r=n.count;return e.count+=r,e.minWidth+=i,e}),{count:0,minWidth:0})},panelToggled:function(e,t){this.openPanels[e]=t,t?this.el.style.zIndex=11:_.values(this.openPanels).every((function(e){return!e}))&&(this.el.style.zIndex=3)}}),t}));var xd="navControls";ne.def(xd,(function(e){var t=ne.model,n=ne.getNamespace(e).bottomBar;return{tag:"nav",attrs:{id:xd,"aria-label":"slide navigation"},w:function(){return this.width||0},h:ri,yp:"vertical-center",childVisibilityChangedHook:function(){this.ariaVisibleWithChildren()},updateHook:function(){var e,i=null!==(e=n.marginPercent)&&void 0!==e?e:1;this.flowChildren({rtl:t.rtl,startPos:-10*i,pad:ni*i,fullUpdate:!0,sizeToChildren:!0}),this.ariaVisibleWithChildren()},parentAlign:function(){return t.rtl?"l":"r"}}}));var Pd="miscControls",Ld=DS.detection.deviceView;function Td(e){return Td="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Td(e)}function _d(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,(r=i.key,o=void 0,o=function(e,t){if("object"!==Td(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!==Td(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(r,"string"),"symbol"===Td(o)?o:String(o)),i)}var r,o}ne.def(Pd,(function(e){var t=ne.getNamespace(e),n=t.frame,i=t.bottomBar,r=ne.model;return{attrs:{id:Pd,"aria-label":"miscellaneous controls",role:"region"},wp:function(){return this.width||0},wl:function(){return Ld.isPhone?58:this.wp},xp:function(){return this.left||0},yl:function(){return 0},xl:function(){return Ld.isPhone?this.parent.w-this.w:this.xp},hp:function(){return ri},hl:function(){return Ld.isPhone?n.h:this.hp},overflow:"visible",parentAlign:function(){return r.rtl?"l":"r"},childVisibilityChangedHook:function(){this.ariaVisibleWithChildren()},updateHook:function(){this.ariaVisibleWithChildren()},beforeUpdateHook:function(){var e;Ld.isPhone||this.flowChildren({fullUpdate:!0,pad:ni*(null!==(e=i.marginPercent)&&void 0!==e?e:1),startPos:0,sizeToChildren:!0,rtl:r.rtl})}}}));var jd=DS,Dd=jd._,Ad=jd.pubSub,Id=jd.events,Rd=jd.dom.toggleClasses,Bd=(jd.shortcutManager,function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.view=t,Dd.bindAll(this,"onSlideChanged","onTimelineChanged","onPlaybackChanged"),Ad.on(Id.slide.STARTED,this.onSlideChanged)}var t,n,i;return t=e,(n=[{key:"teardown",value:function(){Ad.off(Id.slide.STARTED,this.onSlideChanged)}},{key:"onTimelineChanged",value:function(e,t){e!==this.currTimeline&&(Ad.trigger(Id.playbackControls.TIMELINE_CHANGED,e,t),null!=this.currTimeline&&(this.currTimeline.off(Id.timeline.PLAYING,this.onPlaybackChanged),this.currTimeline.off(Id.timeline.PAUSED,this.onPlaybackChanged),this.currTimeline.off(Id.timeline.ENDED,this.onPlaybackChanged)),this.currTimeline=e,this.currTimeline.on(Id.timeline.PLAYING,this.onPlaybackChanged),this.currTimeline.on(Id.timeline.PAUSED,this.onPlaybackChanged),this.currTimeline.on(Id.timeline.ENDED,this.onPlaybackChanged),this.onPlaybackChanged())}},{key:"onPlaybackChanged",value:function(){var e=this.view.children,t=e.reset,n=e.playPause,i=null!=this.currTimeline&&"playing"===this.currTimeline.playbackState();Rd(document.body,"timeline-playing","timeline-paused",i),Rd(document.body,"has-reset","no-reset",this.view.visible&&null!=t&&t.visible),null!=n&&n.viewLogic.onPlaybackChanged()}},{key:"onSlideChanged",value:function(e,t,n){this.view.el.tabIndex=0,this.view.el.tabIndex=-1,this.view.nameSpace===n&&(null!=this.currSlide&&this.currSlide.off(Id.slide.CURRENT_TIMELINE,this.onTimelineChanged),this.currSlide=t,this.currSlide.on(Id.slide.CURRENT_TIMELINE,this.onTimelineChanged),this.onTimelineChanged(t.currentTimeline(),t))}}])&&_d(t.prototype,n),i&&_d(t,i),Object.defineProperty(t,"prototype",{writable:!1}),e}()),Md=DS.detection,Hd=(Md.deviceView,Md.orientation,"playbackControls");function Nd(e){return Nd="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Nd(e)}function Fd(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,Qd(i.key),i)}}function Wd(){return Wd="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var i=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Kd(e)););return e}(e,t);if(i){var r=Object.getOwnPropertyDescriptor(i,t);return r.get?r.get.call(arguments.length<3?e:n):r.value}},Wd.apply(this,arguments)}function Vd(e,t){return Vd=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Vd(e,t)}function zd(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=Kd(e);if(t){var r=Kd(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return function(e,t){if(t&&("object"===Nd(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Ud(e)}(this,n)}}function Ud(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Kd(e){return Kd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Kd(e)}function Qd(e){var t=function(e,t){if("object"!==Nd(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!==Nd(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===Nd(t)?t:String(t)}ne.def(Hd,Bd,(function(e){var t=ne.getNamespace(e),n=t.seek,i=t.bottomBar,r=(ne.model.rtl,ne.model);return{attrs:{id:Hd,"aria-label":"playback controls",role:"region",tabindex:-1},visibility:"no-reflow",x:function(){return this.left||0},w:function(){return this.width+(n.visible?0:n.w)||0},h:ri,noUpdate:!0,beforeUpdateHook:function(){var e,t=this.hasAllChildren()&&!this.children.playPause.visible?ni:0,n=null!==(e=i.marginPercent)&&void 0!==e?e:1;this.flowChildren({rtl:r.rtl,fullUpdate:!0,sizeToChildren:!0,startPos:t-ni*n,pad:ni*n})},parentAlign:function(){return r.rtl?"r":"l"}}}));var Gd=DS,qd=Gd._,Zd=Gd.utils,Yd=Gd.pubSub,Xd=Gd.events,$d=Gd.constants,Jd=Gd.keyManager,eh=Gd.focusManager,th=Gd.dom,nh=Gd.dom,ih=nh.addClass,rh=nh.removeClass,oh=Gd.globalEventHelper,ah=oh.addBodyListener,lh=oh.removeBodyListener,sh=Gd.appState,ch=10,uh=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Vd(e,t)}(o,e);var t,n,i,r=zd(o);function o(e){var t,n,i,a;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),t=r.call(this,e),n=Ud(t),a=!0,(i=Qd(i="hasTooltip"))in n?Object.defineProperty(n,i,{value:a,enumerable:!0,configurable:!0,writable:!0}):n[i]=a,t.isOpen=!1,t.view.volumeStrength=$d.DEFAULT_VOLUME*ch,qd.bindAll(Ud(t),"onShow","onHide","onVolumeChanged","onInputChanged","toggleMute","onKeydown","onScroll"),t.volumeRangeEl.addEventListener("input",t.onInputChanged),t.el.addEventListener("mouseover",t.onShow),t.el.addEventListener("scroll",t.onScroll),t.buttonEl.addEventListener("click",t.toggleMute),Yd.on(Xd.volume.CHANGED,t.onVolumeChanged),sh.setVolume(t.view.volumeStrength/ch),t}return t=o,(n=[{key:"tooltipKey",get:function(){return sh.getVolume()>0?"acc_mute":"acc_unmute"}},{key:"onVolumeChanged",value:function(e){e=Zd.clamp(0,ch,e*ch),this.view.volumeStrength=e,this.view.updateButton();var t=0===e;this.buttonEl.setAttribute("aria-pressed",t),this.volumeRangeEl.valueAsNumber!==e&&(this.volumeRangeEl.value=e)}},{key:"onHide",value:function(e){var t=this;setTimeout((function(){var e=document.elementFromPoint(th.mouseX,th.mouseY);t.el.contains(e)||"tooltip"===e.id||(t.isOpen=!1,rh(t.el,"open"),t.view.el.removeEventListener("mouseleave",t.onHide),lh("keydown",t.onKeydown),t.view.update())}),200)}},{key:"onShow",value:function(){this.isOpen||(this.isOpen=!0,ih(this.el,"open"),this.view.el.addEventListener("mouseleave",this.onHide),ah("keydown",this.onKeydown),this.view.update())}},{key:"onInputChanged",value:function(e){var t=e.target.valueAsNumber;sh.setVolume(t/ch)}},{key:"toggleMute",value:function(e){sh.onToggleVolume()}},{key:"onFocus",value:function(e){this.onShow(),this.onHoverIn(e),eh.setFocusRectOn(e.target)}},{key:"onBlur",value:function(e){null!=e&&this.isOpen&&!this.el.contains(e.relatedTarget)&&(this.onHoverOut(e),this.onHide(),Wd(Kd(o.prototype),"onBlur",this).call(this))}},{key:"onKeydown",value:function(e){var t=e.which,n=this.volumeRangeEl.valueAsNumber,i=function(t){sh.setVolume(t/ch),e.preventDefault()};document.activeElement!==this.volumeRangeEl&&(Jd.isDownishKey(t)||Jd.isPageDownKey(t)?i(n-1):Jd.isUpishKey(t)||Jd.isPageUpKey(t)?i(n+1):Jd.isEndKey(t)?i(ch):Jd.isHomeKey(t)&&(this.previousVolume=n,i(0)))}},{key:"onScroll",value:function(e){e.target.scrollTop=0}},{key:"dismissTooltip",value:function(){Wd(Kd(o.prototype),"dismissTooltip",this).call(this),this.onHide()}},{key:"teardown",value:function(){Yd.off(Xd.volume.CHANGED,this.onVolumeChanged)}}])&&Fd(t.prototype,n),i&&Fd(t,i),Object.defineProperty(t,"prototype",{writable:!1}),o}(cn),fh=uh,dh="volume",hh=DS,ph=hh.utils.pxify,yh=hh.constants;function bh(e){return bh="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},bh(e)}function vh(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,kh(i.key),i)}}function mh(e,t){return mh=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},mh(e,t)}function gh(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=Sh(e);if(t){var r=Sh(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return function(e,t){if(t&&("object"===bh(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return wh(e)}(this,n)}}function wh(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Sh(e){return Sh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Sh(e)}function kh(e){var t=function(e,t){if("object"!==bh(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!==bh(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===bh(t)?t:String(t)}ne.def(dh,fh,(function(e){var t=ne.model,n=(ne.model.rtl,ne.getNamespace(e).bottomBar),i=ke.getColor(e,".cs-brandhighlight-bg","background",".cs-base.cs-custom-theme");return{noUpdate:!0,attrs:{id:dh,class:"btn cs-volume cs-button volume-panel volume"},overflow:"visible",w:30,minW:30,minH:30,sliderH:function(){return 105},h:function(){return this.viewLogic.isOpen?this.sliderH:30},y:function(){return this.el.style.top=ph(this.viewLogic.isOpen?-58:17,!1),0},html:function(){return this.volumeStrength=this.volumeStrength||10*yh.DEFAULT_VOLUME,'<button\n      data-ref="button"\n      class="cs-button"\n      aria-label="'.concat(t.getString(this.volumeStrength>0?"acc_mute":"acc_unmute"),'"\n      aria-pressed="false"\n      tabIndex="0"\n      >\n      </button>\n      <div data-ref="sliderBar" class="slider-bar btn" style="width: ').concat(ph(this.w),"; height: ").concat(ph(75),'">\n        <input\n          type="range"\n          class="cs-volume volume-range"\n          data-ref="volumeRange"\n          aria-label="').concat(t.getString("acc_volume"),'"\n          min="0"\n          max="').concat(10,'"\n          step="1"\n          value="').concat(this.volumeStrength,'"\n          tabIndex="0"\n          aria-orientation="vertical" />\n        <div class="volume-track"></div>\n        <div data-ref="volumeProgress"\n          class="volume-progress cs-brandhighlight-bg"\n          style="background: ').concat(i,';"></div>\n        <div data-ref="volumeDot" class="volume-dot"></div>\n      </div>')},updateHook:function(){n.panelToggled("volume",this.viewLogic.isOpen)},methods:{updateButton:function(){var e=this.volumeStrength/10;this.children.button.el.innerHTML=br("volume")(this.volumeStrength),this.children.button.el.setAttribute("aria-label",t.getString(this.volumeStrength>0?"acc_mute":"acc_unmute")),this.children.volumeDot.el.style.top=ph(55*(1-e)),this.children.volumeProgress.el.style.height=ph(55*e)},updateDomStrings:function(){this.viewLogic.buttonEl.setAttribute("aria-label",t.getString("acc_volume")),this.viewLogic.volumeRangeEl.setAttribute("aria-label",t.getString("acc_volume"))}}}}));var Oh=DS,Eh=Oh.pubSub,Ch=Oh.captionsManager,xh=Oh.stringTabler,Ph=Oh.events.captions,Lh=Ph.SHOW_BUTTON,Th=Ph.HIDE_BUTTON,_h=Ph.ENABLED,jh=Ph.ENABLE,Dh=Oh.detection.theme.isUnified,Ah=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&mh(e,t)}(o,e);var t,n,i,r=gh(o);function o(e){var t,n,i,a;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),t=r.call(this,e),n=wh(t),a=!0,(i=kh(i="hasTooltip"))in n?Object.defineProperty(n,i,{value:a,enumerable:!0,configurable:!0,writable:!0}):n[i]=a,t.onClick(t.onClickCaptions),t.toggle=!1,Eh.on(Lh,(function(e){return t.onVisibilityChanged(!0)})),Eh.on(Th,(function(e){return t.onVisibilityChanged(!1)})),Eh.on(_h,t.onCaptionsEnabled.bind(wh(t))),t}return t=o,(n=[{key:"tooltipKey",get:function(){return this.toggle?"acc_cc_hide":"acc_cc_show"}},{key:"onVisibilityChanged",value:function(e){this.view.setVisibility(e,!0),this.view.childVisibilityChanged(),this.toggle=Ch.isCaptionEnabled(),this.updateBtn()}},{key:"onCaptionsEnabled",value:function(e){this.toggle=e,this.updateBtn()}},{key:"updateBtn",value:function(){var e=this.toggle?"add":"remove";this.view.el.classList[e]("cs-tabs","cs-selected"),this.view.el.setAttribute("aria-pressed",this.toggle),this.view.el.setAttribute("aria-label",xh.getString(this.toggle?"acc_cc_hide":"acc_cc_show")),Dh&&this.view.updateHtml()}},{key:"onClickCaptions",value:function(e){this.toggleCaptions()}},{key:"toggleCaptions",value:function(){this.toggle=!this.toggle,Eh.trigger(jh,this.toggle),this.updateBtn()}},{key:"getViewBox",value:function(){var e=this.view.getBox(),t=(e.h-30)/2;return e.h=30,e.y=e.y+t,e}},{key:"teardown",value:function(){Eh.off(Lh),Eh.off(Th),Eh.off(_h)}}])&&vh(t.prototype,n),i&&vh(t,i),Object.defineProperty(t,"prototype",{writable:!1}),o}(cn),Ih=Ah,Rh=(DS.flagManager,"captions");function Bh(e){return Bh="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Bh(e)}function Mh(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,zh(i.key),i)}}function Hh(e,t){return Hh=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Hh(e,t)}function Nh(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=Wh(e);if(t){var r=Wh(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return function(e,t){if(t&&("object"===Bh(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Fh(e)}(this,n)}}function Fh(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Wh(e){return Wh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Wh(e)}function Vh(e,t,n){return(t=zh(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function zh(e){var t=function(e,t){if("object"!==Bh(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!==Bh(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===Bh(t)?t:String(t)}ne.def(Rh,Ih,(function(){return{tag:"button",attrs:{id:Rh,class:"cs-button btn content-center","aria-pressed":!1,tabindex:0},minW:34,minH:ri,y:"vertical-center",noUpdate:!0,parentAlign:"l",visible:!1,updateHook:function(){this.el.setAttribute("aria-label",ne.model.getString(this.toggle?"acc_cc_hide":"acc_cc_show"))},html:function(){var e=null!=this.viewLogic&&this.viewLogic.toggle,t=ke.getColor(DS.constants.refs.FRAME,".cs-brandhighlight-bg","background-color",".cs-base.cs-custom-theme");return"\n        <style>\n          #captions.cs-button:after {\n            background: ".concat(e?t:"transparent",";\n          }\n        </style>\n        ").concat(br("captions")()+ne.iconTextEl(this.toggle?"acc_cc_hide":"acc_cc_show","top: 20px"),"\n        ")}}}));var Uh=DS,Kh=Uh._,Qh=Uh.events,Gh=Uh.pubSub,qh=Uh.detection,Zh=Uh.dom.tappedClass,Yh=Uh.keyManager,Xh=Uh.stringTabler,$h=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Hh(e,t)}(o,e);var t,n,i,r=Nh(o);function o(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),Vh(Fh(t=r.call(this,e)),"hasTooltip",!0),Vh(Fh(t),"onTap",(function(e){Zh(t.el)})),Vh(Fh(t),"onClickBtn",(function(e){1!==t.currTimeline.progress()?t.currTimeline.togglePlayback():qh.theme.isUnified&&t.currTimeline.reset()})),Vh(Fh(t),"onKeydown",(function(e){var t=e.which;Yh.isSeekKey(t)&&Gh.trigger(Qh.player.SEEK,e)})),Vh(Fh(t),"onPlaybackChanged",(function(){t.updateToggle(),t.updateView()})),Kh.bindAll(Fh(t),"onTimelineChanged"),Gh.on(Qh.player.TOGGLE_PLAYBACK,t.onClickBtn),Gh.on(Qh.playbackControls.TIMELINE_CHANGED,t.onTimelineChanged),qh.deviceView.isMobile&&t.onClick(t.onTap),t.onClick(t.onClickBtn),t.el.addEventListener("keydown",t.onKeydown),t.view.toggle=!0,qh.deviceView.isMobile&&Gh.on(Qh.currTimeline.TICK,t.onTick.bind(Fh(t))),t}return t=o,(n=[{key:"tooltipKey",get:function(){return this.view.toggle?"acc_pause":"acc_play"}},{key:"teardown",value:function(){Gh.off(Qh.currTimeline.TICK,this.onTick.bind(this))}},{key:"onTick",value:function(e){null!=this.circleProgress&&this.circleProgress.setAttribute("d",DS.svgUtils.wheelPath(17,17,17,0,360*e)),this.lastProgress=e}},{key:"updateView",value:function(){this.view.updateHtml(),this.circleProgress=this.el.querySelector(".circle-progress path"),this.onTick(this.lastProgress)}},{key:"updateToggle",value:function(){this.view.toggle="playing"===this.currTimeline.playbackState(),this.view.el.setAttribute("aria-pressed",!this.view.toggle),this.view.el.setAttribute("aria-label",Xh.getString(this.view.toggle?"acc_pause":"acc_play"))}},{key:"onTimelineChanged",value:function(e){this.currTimeline=e,this.view.toggle=this.currTimeline.isPlaying(),this.updateView()}}])&&Mh(t.prototype,n),i&&Mh(t,i),Object.defineProperty(t,"prototype",{writable:!1}),o}(cn),Jh=$h,ep=DS.stringTabler,tp="playPause";function np(e){return np="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},np(e)}function ip(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,cp(i.key),i)}}function rp(e,t){return rp=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},rp(e,t)}function op(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=lp(e);if(t){var r=lp(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return function(e,t){if(t&&("object"===np(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return ap(e)}(this,n)}}function ap(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function lp(e){return lp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},lp(e)}function sp(e,t,n){return(t=cp(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function cp(e){var t=function(e,t){if("object"!==np(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!==np(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===np(t)?t:String(t)}ne.def(tp,Jh,(function(){return{tag:"button",attrs:{id:tp,class:"content-center cs-button","aria-pressed":!1,"aria-label":ep.getString("acc_pause"),tabindex:0},contentStyle:{width:"34px",height:"34px"},style:{background:"transparent",border:"none"},html:function(){return(this.toggle?br("pause")():br("play")())+ne.iconTextEl(this.toggle?"acc_pause":"acc_play")},methods:{updateDomStrings:function(){this.el.setAttribute("aria-label",this.toggle?ne.model.getString("acc_pause"):ne.model.getString("acc_play"))}},calcTextSize:!0,y:"vertical-center",padLeft:6,padRight:6,minH:34,minW:34,z:1}}));var up=DS,fp=up._,dp=up.detection,hp=up.utils,pp=up.keyManager,yp=up.dom,bp=up.dom,vp=bp.addClass,mp=bp.removeClass,gp=up.globalEventHelper.addWindowListener,wp=up.events,Sp=up.pubSub,kp=(up.stringTabler,function(e){for(;e.startsWith("0")&&!e.startsWith("0:");)e=e.substring(1);return e}),Op=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&rp(e,t)}(o,e);var t,n,i,r=op(o);function o(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),sp(ap(t=r.call(this,e)),"hasTooltip",!0),sp(ap(t),"tooltipMoves",!0),fp.bindAll(ap(t),"onTick","onSeek","onMouseDown","onMouseUp","onMouseMove","checkSeekable","onKeydown","onTimelineChanged","onChange"),Sp.on(wp.slide.STARTED,t.checkSeekable),Sp.on(wp.player.SEEK,t.onKeydown),Sp.on(wp.playbackControls.TIMELINE_CHANGED,t.onTimelineChanged),t.isUserControlled=!ne.model.frame.controlOptions.controls.readonly||ne.model.frame.controlOptions.controls.readonlyOnce,t.bindListeners(),t.isUp=!0,t}return t=o,(n=[{key:"bindListeners",value:function(){if(this.isUserControlled){var e=dp.deviceView.isClassicDesktop?this.seekEl:this.view.el;dp.device.isMobile?(e.addEventListener("touchstart",this.onMouseDown),this.seekEvent="touchmove",this.endEvent="touchend"):(e.addEventListener("mousedown",this.onMouseDown),e.addEventListener("keydown",this.onKeydown),this.seekEvent="mousemove",this.endEvent="mouseup"),this.progressBarEl.addEventListener("change",this.onChange)}}},{key:"isSeekable",value:function(){if(null==this.currSlide)return!1;var e=ne.model.frame.controlOptions.controls,t=e.readonly,n=e.readonlyOnce;return!(t&&!n||n&&!this.currSlide.currentTimelineCompletedOnce())}},{key:"getSeekValue",value:function(e){var t=this.view.getBox();return hp.clamp(0,1,(e-t.x)/t.w)}},{key:"getEventX",value:function(e){return dp.device.isMobile?e.touches[0]&&e.touches[0].pageX:e.pageX}},{key:"onTimelineChanged",value:function(e,t){null!=this.currTimeline&&(this.currTimeline.off(wp.timeline.TICK,this.onTick),this.currTimeline.off(wp.timeline.COMPLETE,this.checkSeekable)),this.currSlide=t,this.currTimeline=e,this.currTimeline.on(wp.timeline.TICK,this.onTick),this.currTimeline.on(wp.timeline.COMPLETE,this.checkSeekable);var n=this.currTimeline.progress();this.duration=hp.toSeconds(this.currTimeline.timelineDuration()),this.progressBarEl.max=Math.round(1e3*this.duration),this.progressBarEl.step=100,this.progressBarEl.setAttribute("aria-valuemin",0),this.progressBarEl.setAttribute("aria-valuemax",this.progressBarEl.max),isNaN(n)&&(n=0),this.onTick(n),this.checkSeekable()}},{key:"checkSeekable",value:function(){this.isSeekable()?(mp(this.el,"read-only"),this.progressBarEl.disabled=!1):(vp(this.el,"read-only"),this.progressBarEl.disabled=!0)}},{key:"onTick",value:function(e){var t=100*e;this.progressBarFillEl.style.width="".concat(t,"%");var n=DS.stringTabler.getString("acc_played",{time:this.getTooltipString({type:"ariaTick"})},"%time% played");this.progressBarEl.value=this.currTimeline.timeline?this.currTimeline.timeline.currentTime:0,this.progressBarEl.setAttribute("aria-valuenow",this.progressBarEl.value),this.progressBarEl.setAttribute("aria-valuetext",n),Sp.trigger(wp.currTimeline.TICK,e,Math.floor(this.progressBarEl.value))}},{key:"onSeek",value:function(e){var t=this;e.preventDefault(),e.stopPropagation(),this.seeking=!0,!0!==this.isUp&&this.currTimeline.isPlaying()&&(this.currTimeline.pause(!0),this.currTimeline.on(wp.timeline.AFTER_SEEK_UPDATE,(function e(){t.currTimeline.play(),t.currTimeline.off(wp.timeline.AFTER_SEEK_UPDATE,e)})));var n=this.getEventX(e);null!=n&&this.currTimeline.progress(this.getSeekValue(n)),this.isUp=!1}},{key:"seekBy",value:function(e,t){var n=this;e.preventDefault();var i=(this.currTimeline.elapsedTime()+t)/this.currTimeline.duration();this.currTimeline.onSeekStart(),this.currTimeline.progress(i),this.currTimeline.onSeekEnd(),this.currTimeline.isPlaying()&&(this.currTimeline.pause(),setTimeout((function(){return n.currTimeline.play()}),125))}},{key:"isEnded",value:function(){return this.currTimeline.progress()>=1}},{key:"onChange",value:function(e){this.currTimeline.progress(this.progressBarEl.value/this.progressBarEl.max)}},{key:"onMouseDown",value:function(e){this.isUp=!1,this.removeEndListener=gp(this.endEvent,this.onMouseUp),this.removeSeekListener=gp(this.seekEvent,this.onSeek),this.currTimeline.onSeekStart(),this.onSeek(e)}},{key:"onMouseUp",value:function(e){this.onSeek(e),this.removeEndListener(),this.removeSeekListener(),this.isUp=!0,this.currTimeline.onSeekEnd()}},{key:"onKeydown",value:function(e){var t=e.which;pp.isActionKey(t)?Sp.trigger(wp.player.TOGGLE_PLAYBACK):this.isSeekable()&&(pp.isDownishKey(t)?this.seekBy(e,-100):pp.isPageDownKey(t)?this.seekBy(e,-1e3):pp.isUpishKey(t)?this.seekBy(e,100):pp.isPageUpKey(t)&&this.seekBy(e,1e3))}},{key:"getViewBox",value:function(e){var t=this.view.getBox();return null!=e&&(t.x="focusin"===e.type?t.x+t.w/2:e.pageX,t.w=2),t}},{key:"onMouseMove",value:function(e){Qt.updateTooltip(e.pageX,this.getTooltipString())}},{key:"setForFollowMouse",value:function(){this.el.addEventListener("mousemove",this.onMouseMove)}},{key:"stopFollowMouse",value:function(){this.el.removeEventListener("mousemove",this.onMouseMove)}},{key:"getTooltipString",value:function(e){if(null!=this.duration){var t=0;t=null==e||"focusin"!==e.type&&"ariaTick"!==e.type?this.getSeekValue(yp.mouseX)*this.duration:Math.floor(hp.toSeconds(this.progressBarEl.value));var n=hp.formatSecondsAsTime(t),i=hp.formatSecondsAsTime(this.duration);return"".concat(kp(n)," / ").concat(kp(i))}}}])&&ip(t.prototype,n),i&&ip(t,i),Object.defineProperty(t,"prototype",{writable:!1}),o}(cn),Ep=Op;function Cp(e){return Cp="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Cp(e)}function xp(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,(r=i.key,o=void 0,o=function(e,t){if("object"!==Cp(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!==Cp(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(r,"string"),"symbol"===Cp(o)?o:String(o)),i)}var r,o}function Pp(){return Pp="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var i=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=jp(e)););return e}(e,t);if(i){var r=Object.getOwnPropertyDescriptor(i,t);return r.get?r.get.call(arguments.length<3?e:n):r.value}},Pp.apply(this,arguments)}function Lp(e,t){return Lp=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Lp(e,t)}function Tp(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=jp(e);if(t){var r=jp(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return function(e,t){if(t&&("object"===Cp(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return _p(e)}(this,n)}}function _p(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function jp(e){return jp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},jp(e)}var Dp=DS,Ap=Dp._,Ip=Dp.pubSub,Rp=Dp.events,Bp=Dp.dom,Mp=Dp.utils.pxify,Hp=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Lp(e,t)}(o,e);var t,n,i,r=Tp(o);function o(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),t=r.call(this,e),Ap.bindAll(_p(t),"onSlideStarted","onStartProgressDetails","onStopProgressDetails","animateProgressDetails"),Ip.on(Rp.slide.STARTED,t.onSlideStarted),t.resetPreviewWidths(),t.isUserControlled&&(t.view.el.addEventListener("mouseenter",t.onStartProgressDetails),t.view.el.addEventListener("mouseleave",t.onStopProgressDetails)),t}return t=o,n=[{key:"onTick",value:function(e){Pp(jp(o.prototype),"onTick",this).call(this,e),this.progress=e}},{key:"resetPreviewWidths",value:function(){this.previewWidth=0,this.prevProgWidth=0}},{key:"onSlideStarted",value:function(){this.resetPreviewWidths()}},{key:"onStartProgressDetails",value:function(){this.animateProgressDetails()}},{key:"onStopProgressDetails",value:function(){window.cancelAnimationFrame(this.detailsId)}},{key:"updatePreviewEls",value:function(){this.progressPreviewEl.style.width=Mp(this.previewWidth),this.prevProgressPreviewEl.style.width=Mp(this.prevProgWidth)}},{key:"animateProgressDetails",value:function(){var e=this.view.getBox(),t=Bp.mouseX-e.x,n=this.progress*e.w,i=n-e.w*(t/e.w);t>=n&&(i=0),this.previewWidth=Math.min(e.w,t),this.prevProgWidth=Math.min(n,i),this.updatePreviewEls(),this.detailsId=window.requestAnimationFrame(this.animateProgressDetails)}}],n&&xp(t.prototype,n),i&&xp(t,i),Object.defineProperty(t,"prototype",{writable:!1}),o}(Ep),Np=Hp,Fp=(DS.detection.device.isMobile,"seek");function Wp(e){return Wp="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Wp(e)}function Vp(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,qp(i.key),i)}}function zp(e,t){return zp=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},zp(e,t)}function Up(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=Qp(e);if(t){var r=Qp(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return function(e,t){if(t&&("object"===Wp(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Kp(e)}(this,n)}}function Kp(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Qp(e){return Qp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Qp(e)}function Gp(e,t,n){return(t=qp(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function qp(e){var t=function(e,t){if("object"!==Wp(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!==Wp(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===Wp(t)?t:String(t)}ne.def(Fp,Np,(function(e){var t=ne.model,n=ne.model.frame.controlOptions.controls,i=n.readonly,r=ke.getColor(e,".cs-seekcontrol","border-top-color"),o=ke.getColor(e,".cs-seekcontrol","background-image").replace("(, ","(180deg,"),a=ne.getNamespace(e).slide;return{attrs:{id:Fp,tabindex:-1,class:"progress-bar cs-seekcontrol ".concat(i?"read-only":"")},y:"vertical-center",overflow:"visible",noUpdate:!0,w:function(){return this.width||0},minW:30,h:30,updateHook:function(){var e=this,t=this.el.offsetParent;if(DS.detection.deviceView.isPhone&&DS.detection.orientation.isLandscape&&null!=t){var n=a.el.getBoundingClientRect(),i=n.height+n.top,r=t.getBoundingClientRect(),o=this.children.seek.el.getBoundingClientRect(),l=r.top+o.top-this.el.getBoundingClientRect().top+o.height;this.el.style.top="".concat(i-l,"px"),this.el.style.width="".concat(n.width,"px"),this.el.style.left="".concat(n.left-r.left,"px"),this.el.style.transform="none";var s=0;requestAnimationFrame((function t(){s++;var i=a.el.getBoundingClientRect();i.top!==n.top||i.left!==n.left||i.width!==n.width||i.height!==n.height?e.updateHook():s<10&&requestAnimationFrame(t)}))}},html:"\n      <style>\n        #seek:before {\n          border: 1px solid ".concat(r,";\n          background-image: ").concat(o,';\n          background-repeat: no-repeat !important;\n        }\n      </style>\n\n      <div class="cs-seekbar-inner progress-bar-inner slide-lockable">\n        <div data-ref="seek" class="cs-seek progress-bar-seek">\n          <div class="progress-bar-fill-preview cs-fill" data-ref="progressPreview"></div>\n          <input\n            tabIndex="0"\n            type="range"\n            aria-hidden="').concat(!n.seekbar,'"\n            aria-label="').concat(t.getString("acc_slide_progress"),'"\n            data-ref="progressBar">\n          <div class="cs-fill cs-brandhighlight-bg progress-bar-fill" style="width: 0px" data-ref="progressBarFill">\n            <div class="prev-progress-bar-fill-preview cs-fill" data-ref="prevProgressPreview"></div>\n          </div>\n        </div>\n      </div>\n    '),methods:{updateDomStrings:function(){this.viewLogic.progressBarEl.setAttribute("aria-label",t.getString("acc_slide_progress"))}}}}));var Zp=DS,Yp=Zp._,Xp=Zp.events,$p=Zp.pubSub,Jp=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&zp(e,t)}(o,e);var t,n,i,r=Up(o);function o(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),Gp(Kp(t=r.call(this,e)),"hasTooltip",!0),Gp(Kp(t),"tooltipKey","acc_replay"),Yp.bindAll(Kp(t),"onClickBtn","onTimelineChanged"),t.onClick(t.onClickBtn),$p.on(Xp.playbackControls.TIMELINE_CHANGED,t.onTimelineChanged),t}return t=o,(n=[{key:"onClickBtn",value:function(){this.resetTimeline()}},{key:"resetTimeline",value:function(){this.currTimeline.reset()}},{key:"onTimelineChanged",value:function(e){this.currTimeline=e}}])&&Vp(t.prototype,n),i&&Vp(t,i),Object.defineProperty(t,"prototype",{writable:!1}),o}(cn),ey=Jp,ty="reset";ne.def(ty,ey,(function(){return{tag:"button",ariaStringId:"acc_replay",attrs:{id:ty,class:"content-center cs-button","aria-label":"".concat(ne.model.getString("acc_replay")),tabindex:0},style:{background:"transparent",border:"none"},html:function(){return br("replay")()+ne.iconTextEl("acc_replay")},z:1,y:"vertical-center",padRight:10,minH:30,minW:30}}));var ny=function(){return"no icon"},iy={next:function(){return'\n  <svg class="cs-icon next-icon" width="10px" height="18px" viewBox="0 -1 10 18" focusable="false" aria-hidden="true">\n    <path transform="rotate(180, 5, 8)" d="M2.81685219,7.60265083 L9.00528946,1.41421356 L7.5910759,-1.27897692e-13 L1.55431223e-13,7.5910759 L0.0115749356,7.60265083 L1.55431223e-13,7.61422577 L7.5910759,15.2053017 L9.00528946,13.7910881 L2.81685219,7.60265083 Z" stroke="none" fillRule="evenodd"></path>\n  </svg>'},prev:function(){return'\n  <svg class="cs-icon prev-icon" width="10px" height="18px" viewBox="0 -1 10 18" focusable="false" aria-hidden="true">\n    <path transform="translate(0, 1)" d="M2.81685219,7.60265083 L9.00528946,1.41421356 L7.5910759,-1.27897692e-13 L1.55431223e-13,7.5910759 L0.0115749356,7.60265083 L1.55431223e-13,7.61422577 L7.5910759,15.2053017 L9.00528946,13.7910881 L2.81685219,7.60265083 Z" stroke="none" fillRule="evenodd"></path>\n  </svg>\n'},submit:function(){return'\n   <svg class="cs-icon check-icon" width="17px" height="18px" viewBox="0 0 17 16" focusable="false">\n    <path stroke="none" transform="translate(0, 1)" d="M 17 1.4 L 15.6 0 5.7 9.9 1.4 5.65 0 7.05 5.65 12.75 5.7 12.75 17 1.4 Z"/>\n  </svg>'},replay:function(){return'<svg class="cs-icon" x="0px" y="0px" width="16px" height="16px" viewBox="0 0 16 16" focusable="false">\n    <path fill="#FFFFFF" stroke="none" d="\n      M 10.95 8.75\n      Q 11 9 11 9.25 10.95 11.15 9.7 12.4 8.4 13.7 6.5 13.75 4.6 13.7 3.3 12.4 2.05 11.15 2 9.25 2.05 7.3 3.3 6.05 4.398828125 4.998828125 6 4.75\n      L 6 6.9\n      Q 6.05 7.75 6.85 7.35\n      L 11.35 4.3\n      Q 11.7 4.05 11.7 3.75 11.7 3.45 11.35 3.2\n      L 6.85 0.15\n      Q 6.05 -0.3 6 0.6\n      L 6 2.75\n      Q 3.4517578125 3.001171875 1.8 4.75 0.05 6.6 0 9.25 0.05 12 1.9 13.85 3.75 15.65 6.5 15.75 9.25 15.65 11.1 13.85 12.95 12 13 9.25 13 9 13 8.75\n      L 10.95 8.75 Z"/>\n    </svg>'},play:function(){return'<svg id="icon-play" class="cs-icon play-icon" width="11" height="13" viewBox="0 0 11 13" focusable="false">\n    <path d="M 0.851 13.011 C 0.381 13.295 0 13.068 0 12.526 L 0 0.771 C 0 0.219 0.378 0 0.854 0.288 L 10.507 6.132 C 10.979 6.417 10.981 6.878 10.504 7.168 L 6.307 9.708 L 0.851 13.011 Z"></path>\n  </svg>'},pause:function(){return'<svg id="icon-pause" class="cs-icon pause-icon" width="9" height="14" viewBox="0 0 9 14" focusable="false">\n    <g>\n       <rect x="0" width="3" height="14"/>\n       <rect x="6" width="3" height="14"/>\n    </g>\n  </svg>'},volume:function(e,t){var n=Math.min(1,e/5),i=Math.min(1,Math.max(0,e/5-.5));return'<svg class="cs-icon volume-icon '.concat(t?"volume-icon-selected":"",'" width="16px" height="14px" viewBox="0 -3 16 14" focusable="false">\n    <g transform="translate(0, -3)">\n      <rect x="0" y="4" width="3" height="6"></rect>\n      <polygon points="4 4 9 0 9 14 4 10"></polygon>\n      <g transform="translate(10, 0)">\n        <mask id="vol-mask" fill="white">\n          <rect id="path-1" x="0" y="0" width="8" height="14"></rect>\n        </mask>\n        <circle strokeWidth="1.5" style="opacity: ').concat(i,';" mask="url(#vol-mask)" fill="none" cx="-1" cy="7" r="6.5"></circle>\n        <circle strokeWidth="1.5" style="opacity: ').concat(n,';" mask="url(#vol-mask)" fill="none" cx="-1" cy="7" r="3.5"></circle>\n      </g>\n    </g>\n  </svg>')},captionsOn:function(e){return'<svg class="cs-icon captions-icon" width="19px" height="16px" viewBox="0 0 19 16" focusable="false">\n            <path fill="#FFFFFF" stroke="none" d="M 19 2 Q 19 1.15 18.4 0.6 17.85 0 17 0 L 2 0 Q 1.15 0 0.6 0.6 0 1.15 0 2 L 0 12 Q 0 12.85 0.6 13.4 1.15 14 2 14 L 7.6 14 9.5 15.9 11.4 14 17 14 Q 17.85 14 18.4 13.4 19 12.85 19 12 L 19 2 M 15.7 4.2 L 15.25 4.85 Q 15.15 4.9 15.1 5 15 5.05 14.85 5.05 14.75 5.05 14.6 4.95 14.5 4.9 14.3 4.8 14.15 4.65 13.9 4.6 13.65 4.5 13.3 4.5 12.85 4.5 12.5 4.7 12.15 4.85 11.9 5.15 11.7 5.45 11.6 5.9 11.45 6.35 11.45 6.9 11.5 7.45 11.6 7.9 11.7 8.35 11.95 8.65 12.2 8.95 12.5 9.15 12.85 9.3 13.25 9.3 13.65 9.3 13.9 9.2 14.2 9.1 14.35 8.95 14.5 8.85 14.65 8.75 14.8 8.65 14.95 8.65 15.15 8.65 15.25 8.8 L 15.75 9.4 Q 15.45 9.75 15.15 10 14.8 10.2 14.45 10.35 14.05 10.5 13.7 10.55 13.3 10.6 12.95 10.6 12.25 10.6 11.65 10.35 11.1 10.1 10.65 9.65 10.2 9.15 9.95 8.45 9.7 7.75 9.7 6.9 9.7 6.1 9.95 5.4 10.15 4.75 10.6 4.25 11.05 3.75 11.7 3.5 12.35 3.2 13.2 3.2 14 3.2 14.6 3.45 15.2 3.7 15.7 4.2 M 5.85 4.7 Q 5.5 4.85 5.25 5.15 5.05 5.45 4.95 5.9 4.8 6.35 4.8 6.9 4.85 7.45 4.95 7.9 5.05 8.35 5.3 8.65 5.55 8.95 5.85 9.15 6.2 9.3 6.6 9.3 7 9.3 7.25 9.2 7.55 9.1 7.7 8.95 7.85 8.85 8 8.75 8.15 8.65 8.3 8.65 8.5 8.65 8.6 8.8 L 9.1 9.4 Q 8.8 9.75 8.5 10 8.15 10.2 7.8 10.35 7.4 10.5 7.05 10.55 6.65 10.6 6.3 10.6 5.6 10.6 5 10.35 4.45 10.1 4 9.65 3.55 9.15 3.3 8.45 3.05 7.75 3.05 6.9 3.05 6.1 3.3 5.4 3.5 4.75 3.95 4.25 4.4 3.75 5.05 3.5 5.7 3.2 6.55 3.2 7.35 3.2 7.95 3.45 8.55 3.7 9.05 4.2 L 8.6 4.85 Q 8.5 4.9 8.45 5 8.35 5.05 8.2 5.05 8.1 5.05 7.95 4.95 7.85 4.9 7.65 4.8 7.5 4.65 7.25 4.6 7 4.5 6.65 4.5 6.2 4.5 5.85 4.7 Z"/>\n          </svg>'},captionsOff:function(e){return'<svg class="cs-icon captions-icon" width="19px" height="16px" viewBox="0 0 19 16" focusable="false">\n            <g>\n              <path d="M 11.45 3.5 Q 10.8 3.75 10.35 4.25 9.9 4.75 9.7 5.4 9.45 6.1 9.45 6.9 9.45 7.75 9.7 8.45 9.95 9.15 10.4 9.65 10.85 10.1 11.4 10.35 12 10.6 12.7 10.6 13.05 10.6 13.45 10.55 13.8 10.5 14.2 10.35 14.55 10.2 14.9 10 15.2 9.75 15.5 9.4 L 15 8.8 Q 14.9 8.65 14.7 8.65 14.55 8.65 14.4 8.75 14.25 8.85 14.1 8.95 13.95 9.1 13.65 9.2 13.4 9.3 13 9.3 12.6 9.3 12.25 9.15 11.95 8.95 11.7 8.65 11.45 8.35 11.35 7.9 11.25 7.45 11.2 6.9 11.2 6.35 11.35 5.9 11.45 5.45 11.65 5.15 11.9 4.85 12.25 4.7 12.6 4.5 13.05 4.5 13.4 4.5 13.65 4.6 13.9 4.65 14.05 4.8 14.25 4.9 14.35 4.95 14.5 5.05 14.6 5.05 14.75 5.05 14.85 5 14.9 4.9 15 4.85 L 15.45 4.2 Q 14.95 3.7 14.35 3.45 13.75 3.2 12.95 3.2 12.1 3.2 11.45 3.5 M 5.6 4.7 Q 5.95 4.5 6.4 4.5 6.75 4.5 7 4.6 7.25 4.65 7.4 4.8 7.6 4.9 7.7 4.95 7.85 5.05 7.95 5.05 8.1 5.05 8.2 5 8.25 4.9 8.35 4.85 L 8.8 4.2 Q 8.3 3.7 7.7 3.45 7.1 3.2 6.3 3.2 5.45 3.2 4.8 3.5 4.15 3.75 3.7 4.25 3.25 4.75 3.05 5.4 2.8 6.1 2.8 6.9 2.8 7.75 3.05 8.45 3.3 9.15 3.75 9.65 4.2 10.1 4.75 10.35 5.35 10.6 6.05 10.6 6.4 10.6 6.8 10.55 7.15 10.5 7.55 10.35 7.9 10.2 8.25 10 8.55 9.75 8.85 9.4 L 8.35 8.8 Q 8.25 8.65 8.05 8.65 7.9 8.65 7.75 8.75 7.6 8.85 7.45 8.95 7.3 9.1 7 9.2 6.75 9.3 6.35 9.3 5.95 9.3 5.6 9.15 5.3 8.95 5.05 8.65 4.8 8.35 4.7 7.9 4.6 7.45 4.55 6.9 4.55 6.35 4.7 5.9 4.8 5.45 5 5.15 5.25 4.85 5.6 4.7 Z" />\n              <path class="icon-stroke-only" stroke-width="1.5" stroke-linejoin="round" stroke-linecap="round" fill="none" d="M 9.5 15.2 L 7.8 13.5 2 13.5 Q 1.35 13.5 0.95 13.05 0.5 12.65 0.5 12 L 0.5 2 Q 0.5 1.35 0.95 0.95 1.35 0.5 2 0.5 L 17 0.5 Q 17.65 0.5 18.05 0.95 18.5 1.35 18.5 2 L 18.5 12 Q 18.5 12.65 18.05 13.05 17.65 13.5 17 13.5 L 11.2 13.5 9.5 15.2 Z" />\n            </g>\n          </svg>'},captions:function(){return'\n    <svg class="cs-icon captions-icon" width="19px" height="16px" viewBox="0 0 19 16" focusable="false">\n      <g>\n        <path d="M 11.45 3.5 Q 10.8 3.75 10.35 4.25 9.9 4.75 9.7 5.4 9.45 6.1 9.45 6.9 9.45 7.75 9.7 8.45 9.95 9.15 10.4 9.65 10.85 10.1 11.4 10.35 12 10.6 12.7 10.6 13.05 10.6 13.45 10.55 13.8 10.5 14.2 10.35 14.55 10.2 14.9 10 15.2 9.75 15.5 9.4 L 15 8.8 Q 14.9 8.65 14.7 8.65 14.55 8.65 14.4 8.75 14.25 8.85 14.1 8.95 13.95 9.1 13.65 9.2 13.4 9.3 13 9.3 12.6 9.3 12.25 9.15 11.95 8.95 11.7 8.65 11.45 8.35 11.35 7.9 11.25 7.45 11.2 6.9 11.2 6.35 11.35 5.9 11.45 5.45 11.65 5.15 11.9 4.85 12.25 4.7 12.6 4.5 13.05 4.5 13.4 4.5 13.65 4.6 13.9 4.65 14.05 4.8 14.25 4.9 14.35 4.95 14.5 5.05 14.6 5.05 14.75 5.05 14.85 5 14.9 4.9 15 4.85 L 15.45 4.2 Q 14.95 3.7 14.35 3.45 13.75 3.2 12.95 3.2 12.1 3.2 11.45 3.5 M 5.6 4.7 Q 5.95 4.5 6.4 4.5 6.75 4.5 7 4.6 7.25 4.65 7.4 4.8 7.6 4.9 7.7 4.95 7.85 5.05 7.95 5.05 8.1 5.05 8.2 5 8.25 4.9 8.35 4.85 L 8.8 4.2 Q 8.3 3.7 7.7 3.45 7.1 3.2 6.3 3.2 5.45 3.2 4.8 3.5 4.15 3.75 3.7 4.25 3.25 4.75 3.05 5.4 2.8 6.1 2.8 6.9 2.8 7.75 3.05 8.45 3.3 9.15 3.75 9.65 4.2 10.1 4.75 10.35 5.35 10.6 6.05 10.6 6.4 10.6 6.8 10.55 7.15 10.5 7.55 10.35 7.9 10.2 8.25 10 8.55 9.75 8.85 9.4 L 8.35 8.8 Q 8.25 8.65 8.05 8.65 7.9 8.65 7.75 8.75 7.6 8.85 7.45 8.95 7.3 9.1 7 9.2 6.75 9.3 6.35 9.3 5.95 9.3 5.6 9.15 5.3 8.95 5.05 8.65 4.8 8.35 4.7 7.9 4.6 7.45 4.55 6.9 4.55 6.35 4.7 5.9 4.8 5.45 5 5.15 5.25 4.85 5.6 4.7 Z" />\n        <path class="icon-stroke-only" stroke-width="1.5" stroke-linejoin="round" stroke-linecap="round" fill="none" d="M 9.5 15.2 L 7.8 13.5 2 13.5 Q 1.35 13.5 0.95 13.05 0.5 12.65 0.5 12 L 0.5 2 Q 0.5 1.35 0.95 0.95 1.35 0.5 2 0.5 L 17 0.5 Q 17.65 0.5 18.05 0.95 18.5 1.35 18.5 2 L 18.5 12 Q 18.5 12.65 18.05 13.05 17.65 13.5 17 13.5 L 11.2 13.5 9.5 15.2 Z" />\n      </g>\n    </svg>'},carrot:function(e){return'\n    <svg style="left:calc('.concat(e,');" class="cs-icon cs-icon-carrot carrot"width="30" height="30" viewBox="0 0 30 30" focusable="false">\n      <g transform="translate(8, 8)">\n        <polygon style="fill:currentColor !important" points="1,1.5 5,5 1,8.5"/>\n      </g>\n  </svg>')},search:function(){return'\n    <svg class="search-icon" width="13px" height="15px" viewBox="0 0 13 15" focusable="false"\n      <g fill="none" fill-rule="evenodd">\n        <g stroke-width="2">\n          <circle cx="5.6" cy="5.6" r="4.6"/>\n          <path d="M8 9l4 5"/>\n        </g>\n      </g>\n    </svg>\n    '},searchClear:function(){return'\n    <svg class="cs-icon icon" width="11px" height="11px" viewBox="0 0 11 11">\n    <g id="Desktop-Color-Contrast" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">\n        <g id="Search" transform="translate(-290.000000, -69.000000)" fill="fill:currentColor !important" fill-rule="nonzero">\n            <g id="search" transform="translate(13.000000, 59.000000)">\n                <polygon id="ic_close" points="286.777666 10 282.500215 14.2779053 278.222334 10 277 11.2222382 281.277881 15.5002869 277 19.7779053 278.222334 21 282.500215 16.7222382 286.777666 21 288 19.7779053 283.722119 15.5002869 288 11.2222382"></polygon>\n            </g>\n        </g>\n    </g>\n    </svg>\n    '},filter:function(){return'<svg class="cs-icon icon-gear" width="14" height="14" viewBox="0 0 14 14" focusable="false">\n    <path id="icon-gear" transform="translate(0,3)" d="M11.1,9.8C11.1,9.8,11.1,9.8,11.1,9.8C11.1,9.8,11.1,9.7,11.1,9.8c0-0.1,0.1-0.1,0.1-0.1c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0-0.1c0,0,0,0,0-0.1c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0-0.1c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0-0.1,0.1-0.1c0,0,0,0,0,0c0-0.1,0.1-0.1,0.1-0.2c0,0,0,0,0,0c0-0.1,0-0.1,0.1-0.2c0,0,0,0,0,0c0.1-0.2,0.2-0.5,0.2-0.7l2-0.4V6.4l-2-0.4c0-0.3-0.1-0.5-0.2-0.7c0,0,0,0,0,0c0-0.1,0-0.1-0.1-0.2c0,0,0,0,0,0c0-0.1,0-0.1-0.1-0.2c0,0,0,0,0,0c0,0,0-0.1-0.1-0.1c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0-0.1c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0-0.1c0,0,0,0,0-0.1c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0-0.1c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0l1.2-1.7l-0.9-0.9L9.7,2.8c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0-0.1,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0-0.1,0c0,0,0,0-0.1,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0-0.1,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0-0.1,0-0.1-0.1c0,0,0,0,0,0c-0.1,0-0.1-0.1-0.2-0.1c0,0,0,0,0,0c-0.1,0-0.1,0-0.2-0.1c0,0,0,0,0,0C8.3,2.1,8.1,2.1,7.8,2L7.4,0H6.2L5.9,2c-0.3,0-0.5,0.1-0.7,0.2c0,0,0,0,0,0C5,2.3,5,2.3,4.9,2.3c0,0,0,0,0,0c-0.1,0-0.1,0-0.2,0.1c0,0,0,0,0,0c0,0-0.1,0-0.1,0.1c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0-0.1,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0-0.1,0c0,0,0,0-0.1,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0-0.1,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0L2.3,1.6L1.4,2.5l1.2,1.7c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0.1c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0.1c0,0,0,0,0,0.1c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0.1c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0.1-0.1,0.1c0,0,0,0,0,0C2.2,5,2.2,5,2.2,5.1c0,0,0,0,0,0c0,0.1,0,0.1-0.1,0.2c0,0,0,0,0,0C2,5.5,1.9,5.8,1.9,6l-2,0.4v1.2l2,0.4c0,0.3,0.1,0.5,0.2,0.7c0,0,0,0,0,0c0,0.1,0,0.1,0.1,0.2c0,0,0,0,0,0c0,0.1,0,0.1,0.1,0.2c0,0,0,0,0,0c0,0,0,0.1,0.1,0.1c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0.1c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0.1c0,0,0,0,0,0.1c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0.1c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0l-1.2,1.7l0.9,0.9L4,11.2c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0.1,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0.1,0c0,0,0,0,0.1,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0.1,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0.1,0,0.1,0.1c0,0,0,0,0,0c0.1,0,0.1,0.1,0.2,0.1c0,0,0,0,0,0c0.1,0,0.1,0,0.2,0.1c0,0,0,0,0,0c0.2,0.1,0.5,0.2,0.7,0.2l0.4,2h1.2l0.4-2c0.3,0,0.5-0.1,0.7-0.2c0,0,0,0,0,0c0.1,0,0.1,0,0.2-0.1c0,0,0,0,0,0c0.1,0,0.1,0,0.2-0.1c0,0,0,0,0,0c0,0,0.1,0,0.1-0.1c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0.1,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0.1,0c0,0,0,0,0.1,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0.1,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0l1.7,1.2l0.9-0.9L11.1,9.8C11,9.8,11,9.8,11.1,9.8C11,9.8,11.1,9.8,11.1,9.8z M6.8,9.2c-1.2,0-2.2-1-2.2-2.2c0-1.2,1-2.2,2.2-2.2C8,4.8,9,5.8,9,7C9,8.2,8,9.2,6.8,9.2z"/>\n  </svg>'},close:function(){return'<svg class="cs-icon icon" width="20" height="20" viewBox="0 0 36 36" focusable="false">\n    <use xlink:href="#close-icon" class="cs-icon-shadow" transform="translate(0, .5)" />\n    <polygon points="36,2.826 33.174,0 18,15.174 2.826,0 0,2.826 15.174,18 0,33.174 2.826,36 18,20.826 33.174,36 36,33.174 20.826,18" />\n  </svg>'},clear:function(){return'<svg class="cs-icon icon-clear" width="13" height="14" viewBox="0 0 13 14" focusable="false">\n    <use xlink:href="#icon-clear" fill="rgba(240, 240, 240, 1)" transform="translate(0, 1)" />\n    <path id="icon-clear" transform="translate(3,3)" d="M6.5,0C2.9,0,0,2.9,0,6.5C0,10.1,2.9,13,6.5,13c3.6,0,6.5-2.9,6.5-6.5C13,2.9,10.1,0,6.5,0z M1.5,6.5c0-2.8,2.2-5,5-5c1.2,0,2.4,0.5,3.2,1.2L2.2,9.1C1.8,8.3,1.5,7.5,1.5,6.5z M6.5,11.5c-1.2,0-2.3-0.5-3.2-1.2L10.8,4c0.4,0.7,0.7,1.6,0.7,2.5C11.5,9.3,9.3,11.5,6.5,11.5z"/>\n  </svg>'},hamburger:function(){return'\n    <svg class="cs-icon" width="30px" height="12px" viewBox="0 10 30 12" focusable="false">\n      <path d="M0,15 L17,15 L17,17 L0,17 L0,15 Z M0,11 L17,11 L17,13 L0,13 L0,11 Z M0,19 L17,19 L17,21 L0,21 L0,19 Z" ></path>\n    </svg>\n  '},file:function(){return'\n    <svg width="20px" height="27px" viewBox="0 0 40 50" focusable="false">\n      <g stroke="none" strokeWidth="1" fill="none" fillRule="evenodd">\n        <g>\n          <path class="file-icon-bg" d="M2.00804893,0 C0.899034128,0 0,0.889064278 0,1.99091407 L0,48.0090859 C0,49.1086374 0.892756032,50 1.99862555,50 L37.2170607,50 C38.3208711,50 39.2156863,49.1011186 39.2156863,47.993136 L39.2156863,13.6363636 L26.1437908,0 L2.00804893,0 Z"></path>\n          <path class="file-icon-fold" d="M26.1437908,0 L26.1437908,11.7296861 C26.1437908,12.8319383 27.0422752,13.7254902 28.1433598,13.7254902 L39.2156863,13.7254902"></path>\n        </g>\n      </g>\n    </svg>'},link:function(e){return'\n  <svg class="link-icon" preserveAspectRatio="none" x="0px" y="0px" width="18px" height="18px" viewBox="0 0 18 18" focusable="false">\n      <path fill="'.concat(e,'" stroke="none" d="\n            M 1.45 8.5\n            Q 0.0453125 10.0015625 0 11.9\n            L 0 12.15\n            Q 0.0453125 14.0484375 1.45 15.55\n            L 1.5 15.6\n            Q 3.0015625 17.0046875 4.85 17.05\n            L 5.1 17.05\n            Q 7.0150390625 17.0046875 8.5 15.6\n            L 10.65 13.45\n            Q 10.95 13.15 10.95 12.75 10.95 12.35 10.65 12.05 10.3689453125 11.7689453125 10 11.75\n            L 9.95 11.75\n            Q 9.55 11.75 9.2 12.05\n            L 7.1 14.15\n            Q 6.2 15.05 5 15.05 3.8 15.05 2.9 14.15 2 13.25 2 12.05 2 10.8826171875 2.85 9.95\n            L 5 7.8\n            Q 5.3 7.5 5.3 7.1\n            L 5.3 7.05\n            Q 5.2810546875 6.6810546875 5 6.4 4.7 6.1 4.3 6.1 3.9 6.1 3.55 6.4\n            L 1.45 8.5\n            M 12.05 5\n            Q 11.75 4.7 11.35 4.7 10.95 4.7 10.65 5\n            L 5 10.65\n            Q 4.7 10.95 4.7 11.35 4.7 11.75 5 12.05 5.3 12.35 5.7 12.35 6.1 12.35 6.4 12.05\n            L 12.05 6.4\n            Q 12.35 6.1 12.35 5.7 12.35 5.3 12.05 5\n            M 15.6 1.5\n            L 15.55 1.45\n            Q 14 0 12.05 0\n            L 12 0\n            Q 10.05 0 8.5 1.45\n            L 6.4 3.55\n            Q 6.1 3.9 6.1 4.3 6.1 4.7 6.4 5 6.7 5.3 7.1 5.3 7.5 5.3 7.8 5\n            L 9.95 2.85\n            Q 10.8826171875 2 12.05 2 13.25 2 14.15 2.9 15.05 3.8 15.05 5 15.05 6.2 14.15 7.1\n            L 12.05 9.2\n            Q 11.75 9.55 11.75 9.95 11.75 10.35 12.05 10.65 12.35 10.95 12.75 10.95 13.15 10.95 13.45 10.65\n            L 15.6 8.5\n            Q 17.05 6.96875 17.05 5 17.05 3.05 15.6 1.5 Z"/>\n          </svg>')},disableOrientation:function(){return'<svg viewBox="0 0 161 135">\n    <g stroke="none" stroke-width="1" fill="#fff" fill-rule="evenodd">\n      <path d="M59,31.9948589 C59,30.340844 60.3408574,29 62.0069809,29 L99.9930191,29 C101.653729,29 103,30.3364792 103,31.9948589 L103,103.005141 C103,104.659156 101.659143,106 99.9930191,106 L62.0069809,106 C60.3462712,106 59,104.663521 59,103.005141 L59,31.9948589 Z M61,36 L101,36 L101,96 L61,96 L61,36 Z M81,104 C82.6568542,104 84,102.656854 84,101 C84,99.3431458 82.6568542,98 81,98 C79.3431458,98 78,99.3431458 78,101 C78,102.656854 79.3431458,104 81,104 Z M76,32.5 C76,32.2238576 76.2276528,32 76.5096495,32 L85.4903505,32 C85.7718221,32 86,32.2319336 86,32.5 C86,32.7761424 85.7723472,33 85.4903505,33 L76.5096495,33 C76.2281779,33 76,32.7680664 76,32.5 Z"></path>\n      <path d="M144.276039,68.4976037 C143.65768,83.6270348 137.530567,98.6224671 125.961909,110.191125 C101.576936,134.576098 62.1020027,134.704192 37.8006658,110.402855 L37.8275751,110.429765 L33.4090737,114.848266 L33.3821643,114.821357 C60.1400795,141.579272 103.595566,141.480117 130.445572,114.630111 C143.247134,101.828549 149.95913,85.2399018 150.581333,68.4976037 L161.373625,68.4976037 L147.23149,54.3554681 L133.089354,68.4976037 L144.276049,68.4976037 Z"></path>\n      <path d="M17.2900541,66.5559885 C17.8833587,51.3895735 24.012088,36.3498513 35.6085461,24.7533932 C59.9935191,0.36842015 99.4684528,0.240325436 123.76979,24.5416624 L123.74288,24.514753 L128.161382,20.0962516 L128.188291,20.1231609 C101.430376,-6.63475424 57.9748898,-6.5355989 31.1248839,20.314407 C18.2955218,33.1437691 11.582203,49.7766814 10.9851551,66.5559885 L0.259994507,66.5559885 L14.4021301,80.6981242 L28.5442658,66.5559885 L17.2900541,66.5559885 Z"></path>\n    </g>\n  </svg>'},enterFullScreen:function(){return'\n    <svg class="cs-icon enter-fullscreen-icon" width="14" height="14" viewBox="0 0 14 14" focusable="false" aria-hidden="true">\n      <path d="M1.99055 2.3H5.1V0.4H0.1V5.2H1.9L1.9 2.3Z" stroke="none" />\n      <path d="M5.1 11.8H1.9V8.9H0.1V13.6H5.1L5.1 11.8Z" stroke="none" />\n      <path d="M11.5 11.8H8.4V13.6H13.3V8.9H11.5L11.5 11.8Z" stroke="none" />\n      <path d="M8.4 2.3H11.5V5.2H13.3V0.4H8.4L8.4 2.3Z" stroke="none" />\n    </svg>\n  '},exitFullScreen:function(){return'\n    <svg class="cs-icon exit-fullscreen-icon" width="15" height="14" viewBox="0 0 15 14" focusable="false">\n      <path d="M4.2 4.1H0.1V6.0H6.2V0H4.2V4.1Z" stroke="none" />\n      <path d="M0.1 9.8H4.2V13.9H6.2V7.9H0.1V9.8Z" stroke="none" />\n      <path d="M10.0 9.8H14.1V7.9H8.1V13.9H10.0V9.8Z" stroke="none" />\n      <path d="M8.1 0V6.0H14.1V4.1H10.0V0H8.1Z" stroke="none" />\n    </svg>\n  '},settings:function(){return'\n    <svg class="cs-icon" data-ref="settings" width="16px" height="16px" viewBox="0 0 16 16" focusable="false">\n      <path d="M8.94,0 C9.82,0 10.55,0.62 10.63,1.45 L10.73,2.36 C11.1,2.52 11.45,2.71 11.78,2.94 L12.66,2.56 C13.46,2.22 14.39,2.5 14.83,3.23 L15.77,4.77 C16.21,5.5 16,6.4 15.29,6.9 L14.51,7.42 C14.54,8.19 14.53,8.38 14.51,8.58 L15.29,9.11 C16,9.6 16.21,10.51 15.77,11.23 L14.83,12.77 C14.39,13.49 13.46,13.78 12.66,13.44 L11.78,13.06 C11.45,13.29 11.1,13.48 10.73,13.64 L10.63,14.55 C10.55,15.38 9.82,16 8.94,16 L7.06,16 C6.18,16 5.45,15.38 5.37,14.55 L5.27,13.64 C4.9,13.48 4.55,13.29 4.22,13.06 L3.34,13.44 C2.54,13.78 1.61,13.5 1.17,12.77 L0.23,11.23 C-0.21,10.51 0,9.6 0.71,9.11 L1.49,8.58 C1.46,7.81 1.47,7.62 1.49,7.42 L0.71,6.89 C0,6.40 -0.21,5.49 0.23,4.77 L1.17,3.23 C1.61,2.51 2.54,2.22 3.34,2.56 L4.22,2.94 C4.55,2.71 4.9,2.52 5.27,2.36 L5.37,1.45 C5.45,0.62 6.18,0 7.06,0 Z M7.96,4.53 C5.91,4.53 4.25,6.11 4.25,8.06 C4.25,10.01 5.91,11.59 7.96,11.59 C10.02,11.59 11.68,10.01 11.68,8.06 C11.68,6.11 10.02,4.53 7.96,4.53 Z"></path>\n    </svg>\n    '},playbackSpeed:function(){return'\n    <svg class="cs-icon" width="15" height="15" viewBox="0 0 15 15" focusable="false">\n      <path d="M5.9 4.0L10.4 7.4L5.9 10.8V4.0ZM1.5 8.2H0.0C0.1 9.6 0.6 10.9 1.5 12.0L2.6 11.0C2.0 10.1 1.6 9.2 1.5 8.2H1.5ZM15 7.4H14.9C14.9 5.6 14.3 3.8 13.0 2.4C11.8 1.0 10.0 0.1 8.2 0.0V1.5C10.1 1.7 11.8 2.9 12.8 4.7C13.7 6.4 13.7 8.5 12.8 10.2C11.8 12.0 10.1 13.1 8.2 13.4V14.9C10.0 14.7 11.8 13.8 13.0 12.5C14.3 11.1 14.9 9.3 14.9 7.4L15 7.4ZM3.6 12.1L2.5 13.1C3.7 14.1 5.1 14.8 6.7 14.9V13.4V13.4C5.5 13.3 4.5 12.8 3.6 12.1V12.1ZM2.6 3.9L1.5 2.8C0.6 3.9 0.1 5.3 0 6.7H1.5H1.5C1.6 5.7 2.0 4.7 2.6 3.9H2.6ZM6.7 1.5V0.0C5.1 0.1 3.7 0.7 2.5 1.7L3.6 2.8C4.5 2.1 5.5 1.6 6.7 1.5V1.5Z" stroke="none" />\n    </svg>\n  '},track:function(e,t){return'\n    <svg xmlns:xlink="http://www.w3.org/1999/xlink" width="24px" height="16px" viewBox="0 0 24 16" focusable="false">\n      <defs>\n        <rect id="'.concat(t,'-track" x="2" y="3.5" width="20" height="9" rx="4.5"></rect>\n        <filter x="-12.5%" y="-27.8%" width="125.0%" height="155.6%" filterUnits="objectBoundingBox" id="').concat(t,'-trackFilter">\n          <feGaussianBlur stdDeviation="1.5" in="SourceAlpha" result="shadowBlurInner1"></feGaussianBlur>\n          <feOffset dx="0" dy="1" in="shadowBlurInner1" result="shadowOffsetInner1"></feOffset>\n          <feComposite in="shadowOffsetInner1" in2="SourceAlpha" operator="arithmetic" k2="-1" k3="1" result="shadowInnerInner1"></feComposite>\n          <feColorMatrix values="0 0 0 0 0   0 0 0 0 0   0 0 0 0 0  0 0 0 0.5 0" type="matrix" in="shadowInnerInner1"></feColorMatrix>\n        </filter>\n      </defs>\n      <g class="thumb-off" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">\n        <g>\n          <use class="track" fill-rule="evenodd" xlink:href="#').concat(t,'-track"></use>\n          <use fill="black" fill-opacity="1" filter="url(#').concat(t,'-trackFilter)" xlink:href="#').concat(t,'-track"></use>\n          <use class="border" stroke-width="1" xlink:href="#').concat(t,'-track"></use>\n          <circle class="thumb" stroke-width="0" cx="8" cy="8" r="6"></circle>\n        </g>\n      </g>\n      <g class="thumb-on" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">\n        <g>\n          <use class="track" fill-rule="evenodd" xlink:href="#').concat(t,'-track"></use>\n          <use fill="black" fill-opacity="1" filter="url(#').concat(t,'-trackFilter)" xlink:href="#').concat(t,'-track"></use>\n          <use class="border" stroke-width="1" xlink:href="#').concat(t,'-track"></use>\n          <circle fill="').concat(e,'" stroke-width="0" cx="16" cy="8" r="6"></circle>\n        </g>\n      </g>\n    </svg>\n  ')},downArrow:function(e,t){return'\n    <div style="height: 100%; width: 100%; background-color: '.concat(e,"; border-right: 1px solid; border-bottom: 1px solid; border-color: ").concat(t,'; border-bottom-right-radius: 3px; transform: rotate(45deg);" />\n    ')}},ry={play:function(){return'<svg id="icon-play" class="cs-icon play-icon" width="14" height="16" viewBox="0 0 14 16" focusable="false">\n    <path d="M1.4 15.4C0.8 15.8 0 15.3 0 14.5L0 1.4C0 0.6 0.8 0.1 1.4 0.5L12.9 7.1C13.5 7.5 13.5 8.4 12.9 8.8L8.0 11.6L1.4 15.4Z" stroke="none" />\n  </svg>'}},oy=function(e){return DS.detection.env.isPerpetual?iy[e]||ny:ry[e]||iy[e]||ny};function ay(e){return ay="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ay(e)}function ly(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,dy(i.key),i)}}function sy(e,t){return sy=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},sy(e,t)}function cy(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=fy(e);if(t){var r=fy(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return function(e,t){if(t&&("object"===ay(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return uy(e)}(this,n)}}function uy(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function fy(e){return fy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},fy(e)}function dy(e){var t=function(e,t){if("object"!==ay(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!==ay(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===ay(t)?t:String(t)}var hy=DS,py=hy.detection,yy=hy.dom,by=hy.pubSub,vy=hy.events,my={next:"acc_next_visual",prev:"acc_previous_visual",submit:"acc_submit"},gy=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&sy(e,t)}(o,e);var t,n,i,r=cy(o);function o(e){var t,n,i,a;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),t=r.call(this,e),n=uy(t),a=!0,(i=dy(i="hasTooltip"))in n?Object.defineProperty(n,i,{value:a,enumerable:!0,configurable:!0,writable:!0}):n[i]=a,py.deviceView.isMobile&&t.onClick(t.onTap),t.onClick(t.onClickBtn),t}return t=o,(n=[{key:"tooltipKey",get:function(){return my[this.view.nameKey]}},{key:"onTap",value:function(e){yy.tappedClass(this.el)}},{key:"onClickBtn",value:function(e){var t=this.view,n=t.enabled,i=t.nameKey;n&&by.trigger(vy.presentation.ON_OBJECT_EVENT,i+"_pressed")}},{key:"onLayoutChange",value:function(e){var t=this,n=this.view.nameKey;this.hasFocus&&(e[n]?window.requestAnimationFrame((function(){return t.onFocus()})):this.onBlur())}}])&&ly(t.prototype,n),i&&ly(t,i),Object.defineProperty(t,"prototype",{writable:!1}),o}(cn),wy=gy,Sy=DS.detection.deviceView.isPhone,ky={next:"prev",prev:"next",submit:"submit"},Oy={next:"acc_next",prev:"acc_previous",submit:"acc_submit"},Ey={prev:"previous"},Cy=function(e,t){ne.def(e,wy,(function(n){var i=ne.model,r=n!==DS.constants.refs.FRAME,o=ne.getNamespace(n).bottomBar;return{tag:"button",ariaStringId:Oy[e],attrs:{id:e,class:"cs-button btn ".concat(r?"lightboxed":""),"aria-label":i.getString(Oy[e]),tabindex:0},parentAlign:function(){return r?"r":Sy?"br":"r"},html:function(){var n=i.buttonOptions[Ey[e]||e],r="display: ".concat(this.showText()?"block":"none"),o='<span data-ref="label" style="'.concat(r,'" class="text resizeable-text ').concat(i.rtl?"rtl":"",'">').concat(i.getString(e),"</span>"),a="display: ".concat(this.showIcon()?"block":"none"),l='<span data-ref="icon" style="'.concat(a,'" class="btn-icon">').concat(oy(i.rtl?ky[e]:e)(),"</span>");this.wasRtl=i.rtl;var s=n.includes("icon")&&!n.includes("text")?ne.iconTextEl(i.getString(e)):"";return i.dir(t?[l,o]:[o,l]).join("\n")+s},updateHook:function(){var n;if(this.wasRtl!==i.rtl){var r,a;this.wasRtl=i.rtl;var l,s=null===(r=this.children.label)||void 0===r?void 0:r.el,c=null===(a=this.children.icon)||void 0===a?void 0:a.el,u=i.rtl?"add":"remove",f=i.rtl===t?[s,c]:[c,s],d=i.rtl?ky[e]:e;if(null!=s&&s.classList[u]("rtl"),null!=c&&(c.innerHTML=oy(d)()),null!=s&&null!=c)(l=c.parentNode).insertBefore.apply(l,f)}var h=null!==(n=null==o?void 0:o.useReducedView)&&void 0!==n&&n;if(this.wasReduced!==h){this.wasReduced=h;var p=this.children.label.el,y=this.children.icon.el;p.style.display=this.showText()?"block":"none",y.style.display=this.showIcon()?"block":"none"}},calcTextSize:!0,wp:function(){return null!=o&&o.useReducedView?this.minW:Math.max(this.minW,this.lastWidthByText)+this.wPad},wl:function(){return Sy?this.width||0:this.wp},yp:function(){return(this.parent.h-this.h)/2},yl:function(){return!Sy||r?this.yp:this.top||0},xp:function(){return this.left||0},xl:function(){return r||!Sy?this.xp:(this.parent.w-this.w)/2},methods:{shortcutActivated:function(){this.visible&&this.viewLogic.onClickBtn()},updateDomStrings:function(){null!=this.viewLogic.labelEl&&(this.viewLogic.labelEl.textContent=i.getString(e))},showText:function(){return i.buttonOptions[Ey[e]||e].includes("text")&&!(null!=o&&o.useReducedView)&&!Sy},showIcon:function(){return i.buttonOptions[Ey[e]||e].includes("icon")||(null==o?void 0:o.useReducedView)||Sy}},overflow:"visible",padLeft:20,padRight:3.5,minW:30,minH:30}}))};function xy(e){return xy="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xy(e)}function Py(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,Dy(i.key),i)}}function Ly(e,t){return Ly=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Ly(e,t)}function Ty(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=jy(e);if(t){var r=jy(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return function(e,t){if(t&&("object"===xy(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return _y(e)}(this,n)}}function _y(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function jy(e){return jy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},jy(e)}function Dy(e){var t=function(e,t){if("object"!==xy(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!==xy(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===xy(t)?t:String(t)}Cy("prev",!0),Cy("next",!1),Cy("submit",!1);var Ay=DS,Iy=(Ay.events,Ay.pubSub,Ay._,Ay.utils.fullScreen),Ry=Ay.detection,By=(Ry.env.is360,Ry.deviceView.isTablet,function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Ly(e,t)}(o,e);var t,n,i,r=Ty(o);function o(e){var t,n,i,a;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),t=r.call(this,e),n=_y(t),a=!0,(i=Dy(i="hasTooltip"))in n?Object.defineProperty(n,i,{value:a,enumerable:!0,configurable:!0,writable:!0}):n[i]=a,t.onClick(t.onClickToggle),t.view.toggle=!1,Iy.addChangeListener((function(){return t.handleFullScreenChange()})),t}return t=o,(n=[{key:"tooltipKey",get:function(){return this.view.toggle?"acc_exit_fullscreen":"acc_enter_fullscreen"}},{key:"getFullScreenEl",value:function(){return document.getElementById(DS.constants.els.PRESO)}},{key:"isFullScreen",value:function(){return Iy.getEl()===this.getFullScreenEl()}},{key:"handleFullScreenChange",value:function(){this.view.toggle=this.isFullScreen(),this.view.updateHtml()}},{key:"onClickToggle",value:function(e){DS.appState.toggleFullScreen()}},{key:"getViewBox",value:function(){var e=this.view.getBox(),t=(e.h-30)/2;return e.h=30,e.y=e.y+t,e}}])&&Py(t.prototype,n),i&&Py(t,i),Object.defineProperty(t,"prototype",{writable:!1}),o}(cn)),My=By,Hy="fullScreenToggle",Ny=DS,Fy=Ny.constants.MOBILE_UI_SIZE,Wy=Ny.detection.deviceView.isPhone;ne.def(Hy,My,(function(e){var t=ne.model;return{tag:"button",attrs:{id:Hy,class:"cs-button btn fullscreen-open-btn",tabindex:0},wp:"fit-to-text-w",wl:function(){return Wy?this.width||0:this.wp},yp:function(){return(this.parent.h-this.h)/2},yl:function(){return Wy?this.top||0:this.yp},xp:function(){return this.left||0},xl:function(){return Wy?(this.parent.w-this.w)/2:this.xp},html:function(){var e=this.toggle?"acc_exit_fullscreen":"acc_enter_fullscreen";return this.el.setAttribute("aria-label",t.getString(e)),(this.toggle?oy("exitFullScreen")():oy("enterFullScreen")())+ne.iconTextEl(this.toggle?"acc_exit_fullscreen":"acc_enter_fullscreen","top: 15px")},methods:{updateDomStrings:function(){var e=this.toggle?"acc_exit_fullscreen":"acc_enter_fullscreen";this.el.setAttribute("aria-label",t.getString(e))}},z:1,padLeft:6,padRight:6,minW:30,minH:Fy,noUpdate:!t.frame.chromeless,parentAlign:"br",noContent:!1,x:function(){return this.left||0}}}));function Vy(e){return Vy="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Vy(e)}function zy(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,(r=i.key,o=void 0,o=function(e,t){if("object"!==Vy(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!==Vy(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(r,"string"),"symbol"===Vy(o)?o:String(o)),i)}var r,o}function Uy(){return Uy="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var i=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=qy(e)););return e}(e,t);if(i){var r=Object.getOwnPropertyDescriptor(i,t);return r.get?r.get.call(arguments.length<3?e:n):r.value}},Uy.apply(this,arguments)}function Ky(e,t){return Ky=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Ky(e,t)}function Qy(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=qy(e);if(t){var r=qy(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return function(e,t){if(t&&("object"===Vy(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Gy(e)}(this,n)}}function Gy(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function qy(e){return qy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},qy(e)}ne.def("sidebarOverlay",cn,(function(){return{simpleView:!0,tag:"button",ariaStringId:"close",attrs:{class:"sidebar-overlay btn","aria-label":ne.model.getString("close"),tabIndex:-1},x:0,y:0,w:function(){return Ae.innerWidth},h:function(){return Ae.innerHeight},position:function(){},add:!0}}));var Zy=DS,Yy=Zy._,Xy=Zy.pubSub,$y=Zy.events,Jy=Zy.detection,eb=Zy.globalEventHelper,tb=eb.addWindowListener,nb=eb.addDocumentListener,ib=Zy.dom,rb=ib.isWithin,ob=ib.isInput,ab=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Ky(e,t)}(o,e);var t,n,i,r=Qy(o);function o(e){var t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),t=r.call(this,e),Yy.bindAll(Gy(t),"onResize","hidePanel","onCheckShouldHide","onLayoutReady"),t.onClickEl(t.iconEl,t.onOpenList);var n=ne.getNamespace(t.view.nameSpace);return t.topEllipsisPanel=n.topEllipsisPanel,tb("resize",t.onResize),Xy.on($y.tabLink.SHOW_PANEL,(function(e){t.currentPanelLink=e,t.onCheckShouldHide({target:e.view.el})})),Xy.on($y.topEllipsesPanel.HIDE,t.hidePanel),Xy.on($y.frame.LAYOUT_READY,t.onLayoutReady),t.hideEvent=DS.detection.device.isMobile?"touchstart":"mousedown",nb(t.hideEvent,t.onCheckShouldHide,!0),t.arrowEl.style.display="none",t}return t=o,(n=[{key:"onFocus",value:function(e){var t=DS.dom.getParentWithClass(e.target,"panel-link")||DS.dom.getParentWithClass(e.target,"custom-link");null==t?null==DS.dom.getParentWithClass(e.target,"panel")&&Uy(qy(o.prototype),"onFocus",this).call(this,e):DS.focusManager.setFocusRectOn(t)}},{key:"onLayoutReady",value:function(e){if(!e.hasCustomLinks){var t=!1;Object.keys(e).forEach((function(n){if(-1!=n.indexOf("Panel")){var i=n.replace("Panel","Link");!e[n]&&e[i]&&(t=!0)}})),this.view.setVisibility(t)}}},{key:"onCheckShouldHide",value:function(e){this.hideOnNextTouch&&(rb(e.target,"top-ellipsis-panel")?Jy.deviceView.isPhone&&document.body.classList.contains("nested-panel-shown")&&!rb(e.target,"panel")&&this.hidePanel():this.hidePanel())}},{key:"updateAnimation",value:function(){var e=this;window.requestAnimationFrame((function(){e.topEllipsisPanel.updateTrans()}))}},{key:"showPanel",value:function(){this.topEllipsisPanel.setVisibility(!0),this.hideOnNextTouch=!0,this.topEllipsisPanel.yOff=0,this.updateAnimation(),Jy.deviceView.isDesktop&&(DS.flagManager.localizationPlatform?this.arrowEl.style.visibility="visible":this.arrowEl.style.display="block"),Xy.trigger($y.topEllipsesPanel.PANEL_SHOWN,this)}},{key:"hidePanel",value:function(){Xy.trigger($y.topEllipsesPanel.HIDE_PANEL,this),DS.flagManager.localizationPlatform?this.arrowEl.style.visibility="hidden":this.arrowEl.style.display="none",this.topEllipsisPanel.setVisibility(!1),this.hideOnNextTouch=!1,this.topEllipsisPanel.yOff=-20,this.updateAnimation(),null!=this.currentPanelLink&&(this.currentPanelLink.hidePanel(!0),this.currentPanelLink=null)}},{key:"onResize",value:function(e){this.topEllipsisPanel.visible&&!ob(document.activeElement)&&this.hidePanel()}},{key:"onOpenList",value:function(e){this.topEllipsisPanel.visible?this.hidePanel():this.showPanel()}}])&&zy(t.prototype,n),i&&zy(t,i),Object.defineProperty(t,"prototype",{writable:!1}),o}(cn),lb=ab,sb="topEllipsis",cb=DS.detection,ub=cb.deviceView.isPhone,fb=(cb.orientation,cb.env);function db(e){return db="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},db(e)}function hb(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function pb(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?hb(Object(n),!0).forEach((function(t){yb(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):hb(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function yb(e,t,n){return(t=function(e){var t=function(e,t){if("object"!==db(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!==db(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===db(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}ne.def(sb,lb,(function(e){var t=ne.getNamespace(e),n=t.linksRight,i=t.sidebar,r=(ne.model.rtl,ke.getColor(e,".cs-topmenu-item.active .cs-panel","border-top-color",".cs-base")),o=fb.isFileProtocol?"background-color":"background",a=ke.getColor(e,".cs-topmenu-item.active .cs-panel",o);return{tag:"div",attrs:{id:sb},x:function(){var e=ne.model.rtl,t=0;return ub?"right"===i.pos?(this.lastX=0,0):(this.lastX=window.innerWidth-58,window.innerWidth-58):(t=e?n.x-58+ni:"right"===i.pos?n.x+n.tabWidths():n.right(),this.lastX=t,t)},w:58,visible:!1,overflow:"visible",html:'\n      <button\n        class="top-tabs-drop-icon cs-button btn"\n        data-ref="icon"\n        aria-expanded="false"\n        aria-controls="top-ellipsis-panel"\n        aria-label="top_links"\n      >\n        <div></div>\n        <div></div>\n        <div></div>\n      </button>\n\n      '.concat(vo(a,r),"\n    "),yl:function(){return ub&&null!=this.top?this.top:(this.parent.h-this.h)/2},yp:function(){return(this.parent.h-this.h)/2},h:function(){return this.parent.h/(ub?2:1)}}}));var bb=DS.detection,vb="topEllipsisPanel";function mb(e){return mb="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},mb(e)}function gb(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,Eb(i.key),i)}}function wb(e,t){return wb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},wb(e,t)}function Sb(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=Ob(e);if(t){var r=Ob(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return function(e,t){if(t&&("object"===mb(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return kb(e)}(this,n)}}function kb(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ob(e){return Ob=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Ob(e)}function Eb(e){var t=function(e,t){if("object"!==mb(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!==mb(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===mb(t)?t:String(t)}ne.def(vb,(function(e){var t=ne.getNamespace(e),n=t.sidebar,i=t.topEllipsis,r=t.topBar,o=bb.env.isFileProtocol?"background-color":"background",a=ke.getColor(e,".cs-topmenu-item.active .cs-panel",o),l=document.createElement("style"),s=ne.model.frame;return l.innerHTML="\n    .nested-panel-shown .cs-".concat(s.default_layout," .top-tabs-drop:not(.panel) {\n      box-shadow: none !important;\n      background: transparent;\n      border: transparent !important;\n    }\n    .nested-panel-shown .cs-").concat(s.default_layout," .top-tabs-drop .top-tab {\n      visibility: hidden;\n    }\n  "),document.body.appendChild(l),pb(pb({attrs:{id:vb,class:"top-ellipsis-panel top-tabs-drop","aria-expanded":!1,"aria-controls":"temp-container",style:{background:a}}},DS.flagManager.localizationPlatform?{visibility:"no-reflow"}:{}),{},{overflow:"visible",visible:!1,yOff:-20,y:function(){return bb.deviceView.isPhone?i.y-ii:r.h-ni},x:function(){for(var e=this.el.querySelectorAll(".panel-links .top-tab"),t=0,i=0;i<e.length;i++){var r=parseFloat(e[i].style.width);r>t&&(t=r)}if(this.maxWidth=t,bb.deviceView.isPhone){var o=bb.env.is360&&bb.orientation.isPortrait?40:0,a="left"===n.pos?15+o:t-20-o;return this.lastX=a,a}var l=20-t/2,s=this.parent.x+this.parent.parent.x+l,c=s+t,u=window.innerWidth-20;return c>u?l-=c-u:s<10&&(l=10),this.lastX=l,l},w:null,h:null,html:'\n      <div class="panel-links" data-ref="links">\n      </div>\n    '})}));var Cb=DS.utils,xb=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&wb(e,t)}(o,e);var t,n,i,r=Sb(o);function o(e){var t,n,i,a;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),t=r.call(this,e),n=kb(t),a=function(){var e=Cb.fullScreen.getEl();if(null!=e){if(ne.getNamespace(t.view.nameSpace).slide.el.contains(e)){var n=e.querySelector(".caption-container-host");null!=n?(null==t.origParent&&(t.origParent=t.el.parentElement),n.appendChild(t.el)):DS.flagManager.dropInBase&&(clearTimeout(t.findHost),t.findHost=window.setTimeout(t.reparent,30))}}else null!=t.origParent&&(t.origParent.appendChild(t.el),t.origParent=null)},(i=Eb(i="reparent"))in n?Object.defineProperty(n,i,{value:a,enumerable:!0,configurable:!0,writable:!0}):n[i]=a,Cb.fullScreen.addChangeListener((function(){t.handleFullScreenChange()})),t}return t=o,(n=[{key:"handleFullScreenChange",value:function(){DS.flagManager.dropInBase?(clearTimeout(this.reparentTimeout),this.reparentTimeout=window.setTimeout(this.reparent,200)):window.requestAnimationFrame(this.reparent)}}])&&gb(t.prototype,n),i&&gb(t,i),Object.defineProperty(t,"prototype",{writable:!1}),o}(cn),Pb=xb,Lb=DS,Tb=Lb.detection,_b=Tb.deviceView.isPhone,jb=Tb.orientation;Lb.flagManager;function Db(e){return Db="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Db(e)}function Ab(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,Fb(i.key),i)}}function Ib(){return Ib="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var i=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Hb(e)););return e}(e,t);if(i){var r=Object.getOwnPropertyDescriptor(i,t);return r.get?r.get.call(arguments.length<3?e:n):r.value}},Ib.apply(this,arguments)}function Rb(e,t){return Rb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Rb(e,t)}function Bb(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=Hb(e);if(t){var r=Hb(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return function(e,t){if(t&&("object"===Db(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Mb(e)}(this,n)}}function Mb(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Hb(e){return Hb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Hb(e)}function Nb(e,t,n){return(t=Fb(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Fb(e){var t=function(e,t){if("object"!==Db(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!==Db(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===Db(t)?t:String(t)}ne.def("captionContainer",Pb,(function(e){var t=ne.getNamespace(e),n=t.bottomBar,i=t.topBar,r=t.slide,o=ne.model.frame,a=o.fontscale,l=o.captionFontScale,s=o.controlOptions.ccOptions,c=e!==DS.constants.refs.FRAME;return{attrs:{class:"caption-container"},style:{fontSize:"".concat(null!=s?s.size:l||a,"%")},z:2,methods:{beforeUpdateHook:function(){var e=null!=i,t=null!=n,o=_b&&jb.isLandscape?Ae.innerHeight-ri+5:Ae.innerHeight-(e?i.h+n.h:0)+(_b?10:0);e||t||(o=Ae.innerHeight),this.dims=c?{x:0,y:0,w:this.parent.w,h:this.parent.h}:{x:r.sidebarXOffset+Ae.x,y:_b&&jb.isLandscape?Ae.y:e?i.h+Ae.y:Ae.y,w:Ae.innerWidth-ne.model.getDockedWidth()-r.sidebarWidthOffset,h:o}}},x:function(){return this.dims.x},y:function(){return this.dims.y},w:function(){return this.dims.w},h:function(){return this.dims.h},add:!0}}));var Wb=DS,Vb=Wb.dom,zb=Vb.addClass,Ub=Vb.removeClass,Kb=Wb.appState,Qb=Wb.scaler,Gb=Wb.shortcutManager,qb=Wb.events,Zb=Wb.focusManager,Yb=Wb.pubSub,Xb=Wb.keyManager,$b=Wb.utils.fullScreen,Jb=Wb.globalEventHelper.addDocumentListener,ev=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Rb(e,t)}(o,e);var t,n,i,r=Bb(o);function o(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),Nb(Mb(t=r.call(this,e)),"hasTooltip",!0),Nb(Mb(t),"tooltipKey","acc_settings"),Nb(Mb(t),"hideTooltipWhenOpen",!0),Nb(Mb(t),"onToggleBackgroundAudio",(function(){Yb.trigger(qb.backgroundAudio.TOGGLE)})),Nb(Mb(t),"toggleBackgroundAudio",(function(){t.updateToggle(t.backgroundAudioSwitchEl,DS.courseAudio.enabled())})),Nb(Mb(t),"onCaptionsEnabled",(function(){t.view.updateHook()})),DS._.bindAll(Mb(t),"onAccessibleTextChanged","onZoomModeChanged","onKeyboardShortcutsChanged"),t.onClickEl(t.settingsBtnEl,t.togglePanel),null!=t.shortcutsSwitchEl&&(t.onClickEl(t.shortcutsSwitchEl,t.toggleShortcuts),DS.pubSub.on(qb.player.ENABLE_KEYBOARD_SHORTCUTS,t.onKeyboardShortcutsChanged)),null!=t.captionsButtonEl&&(t.onClickEl(t.captionsButtonEl,t.toggleCaptions),Yb.on(qb.captions.ENABLED,t.onCaptionsEnabled)),null!=t.resetButtonEl&&t.onClickEl(t.resetButtonEl,t.resetTimeline),null!=t.acctextSwitchEl&&(t.onClickEl(t.acctextSwitchEl,t.toggleAccessibleText),Kb.on(qb.player.ACCESSIBLE_TEXT_CHANGED,t.onAccessibleTextChanged)),null!=t.zoomSwitchEl&&(t.onClickEl(t.zoomSwitchEl,t.toggleZoomMode),Yb.on(qb.window.ZOOM_MODE_CHANGED,t.onZoomModeChanged)),t.handleFullScreenChange=t.handleFullScreenChange.bind(Mb(t)),null!=t.fullScreenToggleButtonEl&&(t.onClickEl(t.fullScreenToggleButtonEl,t.toggleFullScreen),t.removeFullScreenListener=$b.addChangeListener(t.handleFullScreenChange)),null!=t.backgroundAudioSwitchEl&&(t.onClickEl(t.backgroundAudioSwitchEl,t.onToggleBackgroundAudio),Yb.on(qb.backgroundAudio.HAS_TOGGLED,t.toggleBackgroundAudio)),t}return t=o,(n=[{key:"toggleFullScreen",value:function(){Kb.toggleFullScreen()}},{key:"handleFullScreenChange",value:function(){$b.getEl()===Kb.getPresoEl()?zb(this.el,"full-screen"):Ub(this.el,"full-screen")}},{key:"togglePanel",value:function(){this.isOpen?this.hidePanel():(this.showPanel(),this.dismissTooltip())}},{key:"showPanel",value:function(){var e=this;this.isOpen=!0,zb(this.el,"open"),this.view.updatePanelPosition(),this.settingsBtnEl.setAttribute("aria-expanded",!0),null!=this.view.updatePanelDepth&&this.view.updatePanelDepth(!0),this.removeShowPanelListener=Jb("keydown",(function(t){return e.handleKeyDown(t)}))}},{key:"hidePanel",value:function(){this.isOpen=!1,Ub(this.el,"open"),this.settingsBtnEl.setAttribute("aria-expanded",!1),null!=this.view.updatePanelDepth&&this.view.updatePanelDepth(!1),null!=this.removeShowPanelListener&&this.removeShowPanelListener()}},{key:"handleKeyDown",value:function(e){Xb.isEscapeKey(e.which)&&(this.hidePanel(),this.settingsBtnEl.focus(),Zb.setFocusRectOn(this.settingsBtnEl))}},{key:"onBlur",value:function(e){null!=e&&this.isOpen&&!this.el.contains(e.relatedTarget)&&(this.hidePanel(),Ib(Hb(o.prototype),"onBlur",this).call(this))}},{key:"updateToggle",value:function(e,t){t?(zb(e,"toggle-on"),Ub(e,"toggle-off")):(zb(e,"toggle-off"),Ub(e,"toggle-on")),e.querySelector("button").setAttribute("aria-checked",t)}},{key:"onAccessibleTextChanged",value:function(e){this.accTextOn=e,this.updateToggle(this.acctextSwitchEl,this.accTextOn)}},{key:"onKeyboardShortcutsChanged",value:function(e){this.updateToggle(this.shortcutsSwitchEl,e)}},{key:"toggleAccessibleText",value:function(){this.accTextOn=!this.accTextOn,this.updateToggle(this.acctextSwitchEl,this.accTextOn),Kb.onToggleAccessibleText(this.accTextOn)}},{key:"onZoomModeChanged",value:function(){this.updateToggle(this.zoomSwitchEl,Qb.zoomMode)}},{key:"toggleZoomMode",value:function(){Qb.enableZoomMode(!Qb.zoomMode),this.updateToggle(this.zoomSwitchEl,Qb.zoomMode),Zb.setFocusRectOn(this.zoomSwitchEl.querySelector("button"))}},{key:"toggleShortcuts",value:function(){Gb.enableShortcuts(!Gb.enabled),this.updateToggle(this.shortcutsSwitchEl,Gb.enabled)}},{key:"toggleCaptions",value:function(){ne.getNamespace("_frame").captions.viewLogic.toggleCaptions(),this.view.updateHook()}},{key:"resetTimeline",value:function(){ne.getNamespace("_frame").reset.viewLogic.resetTimeline()}},{key:"teardown",value:function(){Kb.off(qb.player.ACCESSIBLE_TEXT_CHANGED,this.onAccessibleTextChanged),Yb.off(qb.window.ZOOM_MODE_CHANGED,this.onZoomModeChanged),Yb.off(qb.captions.ENABLED,this.onCaptionsEnabled),Yb.off(qb.backgroundAudio.HAS_TOGGLED,this.toggleBackgroundAudio),null!=this.removeFullScreenListener&&this.removeFullScreenListener()}},{key:"onFocus",value:function(e){var t=e.target;if(this.el.contains(t))return Zb.setFocusRectOn(t),this.onHoverIn(e),this.isFocused=!1,!1}}])&&Ab(t.prototype,n),i&&Ab(t,i),Object.defineProperty(t,"prototype",{writable:!1}),o}(cn),tv=ev;function nv(e){return function(e){if(Array.isArray(e))return iv(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return iv(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return iv(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function iv(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}var rv=DS,ov=rv.utils.pxify,av=(rv.detection,"settings");function lv(e){return lv="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},lv(e)}function sv(e){return function(e){if(Array.isArray(e))return cv(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return cv(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return cv(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function cv(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function uv(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,vv(i.key),i)}}function fv(){return fv="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var i=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=yv(e)););return e}(e,t);if(i){var r=Object.getOwnPropertyDescriptor(i,t);return r.get?r.get.call(arguments.length<3?e:n):r.value}},fv.apply(this,arguments)}function dv(e,t){return dv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},dv(e,t)}function hv(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=yv(e);if(t){var r=yv(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return function(e,t){if(t&&("object"===lv(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return pv(e)}(this,n)}}function pv(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function yv(e){return yv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},yv(e)}function bv(e,t,n){return(t=vv(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function vv(e){var t=function(e,t){if("object"!==lv(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!==lv(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===lv(t)?t:String(t)}ne.def(av,tv,(function(e){var t=ne.model,n=ke.getColor(e,".cs-topmenu-item.active .cs-panel","background-color"),i=ke.getColor(e,".cs-topmenu-item.active .cs-panel","border-top-color",".cs-base"),r=ke.getColor(e,".cs-brandhighlight-secondary-bg","background-color",".cs-base.cs-custom-theme"),o=ne.getNamespace(e).bottomBar;return{noUpdate:!0,attrs:{id:av,class:"btn cs-button cs-settings"},overflow:"visible",w:30,minW:30,minH:30,parentAlign:"l",h:function(){return 30},x:function(){return this.left||0},y:"vertical-center",methods:{getControlConfigs:function(){var e=!(DS.flagManager.playerSizeOption&&DS.frameWindow.isLocked),t=DS.frameModel.hasModernText&&!DS.localizationManager.isMultiLanguageProject();return[].concat(nv(e?[{name:"zoom",labelId:"zoom_to_fit",isOn:function(){return DS.scaler.zoomMode}}]:[]),nv(t?[{name:"acctext",labelId:"accessible_text",isOn:function(){return DS.appState.accessibleTextOn()}}]:[]),[{name:"shortcuts",labelId:"keyboardshortcuts_lower",isOn:function(){return DS.shortcutManager.enabled}}],nv(null!=DS.courseAudio&&DS.courseAudio.hasAudio()?[{name:"backgroundAudio",labelId:"background_audio",isOn:function(){return DS.courseAudio.enabled}}]:[]))},getToggleControls:function(){return this.getControlConfigs().map((function(e){var n=e.name,i=e.labelId,o=(0,e.isOn)();return'\n            <div class="switch '.concat(o?"toggle-on":"toggle-off",'" data-ref="').concat(n,'Switch">\n              <label class="switch-label" aria-hidden="true" id="').concat(n,'-label" data-label-id="').concat(i,'">\n                ').concat(t.getString(i),'\n              </label>\n              <button class="switch-toggle" id="').concat(n,'-switch" tabindex="0" role="switch" aria-checked="').concat(o,'" aria-labelledby="').concat(n,'-label">\n                ').concat(br("track")(r,n),"\n              </button>\n            </div>\n          ")})).join("")},updatePanelPosition:function(){if(null!=o){var e=this.children.settingsPanel.el;e.style.left=0;var n=e.getBoundingClientRect(),i=o.el.getBoundingClientRect(),r=0;n.right>i.right-ni&&(r=i.right-(n.right+ni)),n.left<i.left+ni&&(r=i.left-n.left+ni),e.style.left=ov(r),this.children.settingsPanelArrow.el.style.transform="translateX(".concat(ov(0-r),")"),e.classList[t.rtl?"add":"remove"]("rtl")}},updatePanelDepth:function(e){o.panelToggled("settings",e)},updateDomStrings:function(){this.el.querySelectorAll("*[data-label-id]").forEach((function(e){e.textContent=t.getString(e.dataset.labelId)})),this.el.setAttribute("aria-label",t.getString("acc_settings"))}},updateHook:function(){this.updatePanelPosition()},html:function(){var e='\n        <button data-ref="settingsBtn" aria-expanded="false" class="cs-button" aria-label="'.concat(t.getString("acc_settings"),'" tabIndex="0">\n          ').concat(br("settings")()+ne.iconTextEl("acc_settings"),'\n        </button>\n        <div data-ref="settingsPanel" class="settings-panel ').concat(t.rtl?"rtl":"",'" tabindex="-1">\n          <div class="toggle-buttons">\n            ').concat(this.getToggleControls(),'\n          </div>\n          <div class="panel-down-arrow" style="height: 18px; width: 18px; position: absolute;">\n            <div data-ref="settingsPanelArrow" style="height: 100%; width: 100%;">\n              ').concat(br("downArrow")(n,i),"\n            </div>\n          </div>\n        </div>\n        ");return e}}}));var mv=DS,gv=mv.dom,wv=gv.addClass,Sv=gv.removeClass,kv=mv.appState,Ov=mv.focusManager,Ev=mv.keyManager,Cv=mv.globalEventHelper.addDocumentListener,xv=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&dv(e,t)}(o,e);var t,n,i,r=hv(o);function o(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),bv(pv(t=r.call(this,e)),"hasTooltip",!0),bv(pv(t),"tooltipKey","acc_playback_speed"),bv(pv(t),"hideTooltipWhenOpen",!0),t.currentSpeed=1,t.currentIndex=4,t.currentFocusIndex=4,sv(t.el.querySelectorAll(".menu-choice")).forEach((function(e){e.classList.contains("selected")&&(t.currentSpeed=e.dataset.speed,t.currentIndex=e.dataset.index,t.selectedEl=e),t.onClickEl(e,(function(){return t.choiceClicked(e)}))})),t.onClickEl(t.toggleBtnEl,t.togglePanel),t}return t=o,(n=[{key:"choiceClicked",value:function(e){this.updateSpeed(e),this.toggleBtnEl.focus(),this.hidePanel()}},{key:"updateSpeed",value:function(e){this.selectedEl.classList.remove("selected"),this.selectedEl.tabIndex=-1,this.selectedEl.setAttribute("aria-checked",!1),e.classList.add("selected"),e.tabIndex=0,e.setAttribute("aria-checked",!0),this.selectedEl=e;var t=e.dataset,n=t.speed,i=t.index;this.currentSpeed=parseFloat(n),this.currentIndex=parseInt(i),kv.setPlaybackSpeed(this.currentSpeed)}},{key:"togglePanel",value:function(){this.isOpen?this.hidePanel():(this.showPanel(),this.dismissTooltip())}},{key:"handleKeyDown",value:function(e){var t=this.currentFocusIndex;if(Ev.isDownishKey(e.which))t++;else if(Ev.isUpishKey(e.which))t--;else if(Ev.isHomeKey(e.which))t=0;else if(Ev.isEndKey(e.which))t=7;else if(Ev.isActionKey(e.which)){if(t!==this.currentIndex){var n=this.el.querySelector('[data-index="'.concat(t,'"]'));this.updateSpeed(n)}this.hidePanel(),this.toggleBtnEl.focus(),e.preventDefault()}else Ev.isEscapeKey(e.which)&&(this.hidePanel(),this.toggleBtnEl.focus(),e.preventDefault());t>=8&&(t=0),t<0&&(t=7),t!==this.currentFocusIndex&&(this.currentFocusIndex=t,e.preventDefault(),this.el.querySelector('[data-index="'.concat(t,'"]')).focus())}},{key:"showPanel",value:function(){var e=this;this.isOpen=!0,this.currentFocusIndex=this.currentIndex,wv(this.el,"open"),this.view.updatePanelPosition(),this.toggleBtnEl.setAttribute("aria-expanded",!0),null!=this.view.updatePanelDepth&&this.view.updatePanelDepth(!0),this.selectedEl.focus(),Ov.setFocusRectOn(this.selectedEl),this.removeKeyListener=Cv("keydown",(function(t){return e.handleKeyDown(t)}))}},{key:"hidePanel",value:function(){this.isOpen=!1,Sv(this.el,"open"),this.toggleBtnEl.setAttribute("aria-expanded",!1),this.removeKeyListener(),null!=this.view.updatePanelDepth&&this.view.updatePanelDepth(!1)}},{key:"onBlur",value:function(e){null!=e&&this.isOpen&&!this.el.contains(e.relatedTarget)&&(this.hidePanel(),fv(yv(o.prototype),"onBlur",this).call(this))}},{key:"onFocus",value:function(e){var t=e.target;if(this.el.contains(t))return Ov.setFocusRectOn(t),this.onHoverIn(e),this.isFocused=!1,!1}}])&&uv(t.prototype,n),i&&uv(t,i),Object.defineProperty(t,"prototype",{writable:!1}),o}(cn),Pv=xv,Lv=DS.utils.pxify,Tv="playbackSpeed";ne.def(Tv,Pv,(function(e){var t=ne.model,n=ke.getColor(e,".cs-topmenu-item.active .cs-panel","background-color"),i=ke.getColor(e,".cs-topmenu-item.active .cs-panel","border-top-color",".cs-base"),r=ke.getColor(e,".cs-brandhighlight-bg","background-color",".cs-base.cs-custom-theme"),o=ne.getNamespace(e).bottomBar;return{noUpdate:!0,attrs:{id:Tv,class:"btn cs-button cs-settings"},overflow:"visible",w:30,minW:30,minH:30,parentAlign:"l",h:function(){return 30},x:function(){return this.left||0},y:"vertical-center",methods:{getSpeedOptions:function(){var e=ne.model.getString("playback_speed_normal");return[{label:"2",value:2},{label:"1.75",value:1.75},{label:"1.5",value:1.5},{label:"1.25",value:1.25},{label:e,value:1,ref:"Normal"},{label:"0.75",value:.75},{label:"0.5",value:.5},{label:"0.25",value:.25}].map((function(e,t){var n=e.label,i=e.value,o=e.ref,a="",l="";return null!=o&&(a='data-ref="label'.concat(o,'"'),l='data-ref="aria'.concat(o,'"')),'\n            <li tabindex="-1">\n              <div '.concat(l,'\n                class="cs-listitem menu-choice ').concat(1===i?"selected":"",'"\n                data-speed="').concat(i,'"\n                data-index="').concat(t,'"\n                tabindex="').concat(1===i?0:-1,'"\n                role="menuitemcheckbox"\n                aria-checked="').concat(1===i,'"\n                aria-label="').concat(n,'"\n              >\n                <div class="selected-icon" style="fill:').concat(r,';">\n                  <svg width="12" height="9" viewBox="0 0 12 9">\n                    <path d="M10 0.3 L11.5 1.7 L4.3 8.9 L0 4.7 L1.4 3.2 L4.3 6.1 L10 0.3 Z" stroke="none"></path>\n                  </svg>\n                </div>\n                <div class="label" ').concat(a,">").concat(n,"</div>\n              </div>\n            </li>\n          ")})).join("")},updatePanelPosition:function(){if(null!=o){var e=this.children.contentPanel.el;e.style.left=0;var t=e.getBoundingClientRect(),n=o.el.getBoundingClientRect(),i=0;t.right>n.right-ni&&(i=n.right-(t.right+ni)),t.left<n.left+ni&&(i=n.left-t.left+ni),e.style.left=Lv(i),this.children.contentPanelArrow.el.style.transform="translateX(".concat(Lv(0-i),")"),e.classList[ne.model.rtl?"add":"remove"]("rtl")}},updatePanelDepth:function(e){o.panelToggled("playbackSpeed",e)},updateDomStrings:function(){this.viewLogic.labelNormalEl.textContent=t.getString("playback_speed_normal"),this.viewLogic.ariaNormalEl.setAttribute("aria-label",t.getString("playback_speed_normal")),this.viewLogic.playbackSpeedTitleEl.textContent=t.getString("playback_speed_title"),this.viewLogic.playbackSpeedWrapperEl.setAttribute("aria-label",t.getString("playback_speed_title")),this.viewLogic.toggleBtnEl.setAttribute("aria-label",t.getString("acc_playback_speed"))}},updateHook:function(){this.updatePanelPosition()},html:function(){var e=ne.model.getString("playback_speed_title"),r='\n        <button data-ref="toggleBtn" aria-expanded="false" class="cs-button" aria-label="'.concat(t.getString("acc_playback_speed"),'" tabIndex="0">\n          ').concat(br("playbackSpeed")()+ne.iconTextEl("acc_playback_speed"),'\n        </button>\n        <div\n          data-ref="contentPanel"\n          class="settings-panel ').concat(ne.model.rtl?"rtl":"",'"\n          tabindex="-1"\n        >\n          <div class="content">\n            <div data-ref=\'playbackSpeedTitle\' class=\'cs-heading title\'>').concat(e,"</div>\n            <ul data-ref='playbackSpeedWrapper' aria-label=\"").concat(e,'" role="menu">\n              ').concat(this.getSpeedOptions(),'\n            </ul>\n          </div>\n          <div class="panel-down-arrow" style="height: 18px; width: 18px; position: absolute;">\n            <div data-ref="contentPanelArrow" style="height: 100%; width: 100%;">\n              ').concat(br("downArrow")(n,i),"\n            </div>\n          </div>\n        </div>\n        ");return r}}}));var _v="frameBlocker";function jv(e){return jv="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},jv(e)}function Dv(e){return function(e){if(Array.isArray(e))return Av(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return Av(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Av(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Av(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function Iv(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,Wv(i.key),i)}}function Rv(){return Rv="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var i=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Nv(e)););return e}(e,t);if(i){var r=Object.getOwnPropertyDescriptor(i,t);return r.get?r.get.call(arguments.length<3?e:n):r.value}},Rv.apply(this,arguments)}function Bv(e,t){return Bv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Bv(e,t)}function Mv(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=Nv(e);if(t){var r=Nv(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return function(e,t){if(t&&("object"===jv(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Hv(e)}(this,n)}}function Hv(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Nv(e){return Nv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Nv(e)}function Fv(e,t,n){return(t=Wv(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Wv(e){var t=function(e,t){if("object"!==jv(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!==jv(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===jv(t)?t:String(t)}ne.def(_v,(function(e){var t=ne.getNamespace(e).slide,n=function(){return"".concat(t.x,"px ").concat(t.w,"px ").concat(Ae.innerWidth-t.x-t.w,"px")},i=function(){return"".concat(t.y,"px ").concat(t.h,"px ").concat(Ae.innerHeight-t.y-t.h,"px")};return{attrs:{id:_v,class:"frame-blocker-container"},x:0,y:0,z:oi,w:function(){return Ae.innerWidth},h:function(){return Ae.innerHeight},style:{"pointer-events":"none","grid-template-columns":n(),"grid-template-rows":i()},visible:!1,visibility:"no-reflow",html:'<div class="frame-blocker-slide"></div><div class="frame-blocker-top"></div><div class="frame-blocker-bottom"></div><div class="frame-blocker-right"></div><div class="frame-blocker-left"></div>',updateHook:function(){var e=this;window.requestAnimationFrame((function(){e.el.style["grid-template-columns"]=n(),e.el.style["grid-template-rows"]=i()}))},methods:{setBackgroundColor:function(e){this.el.childNodes.forEach((function(t){t.style.background=e}))}}}}));var Vv=DS,zv=Vv.dom,Uv=zv.addClass,Kv=zv.removeClass,Qv=(Vv.appState,Vv.focusManager),Gv=Vv.keyManager,qv=Vv.globalEventHelper.addDocumentListener,Zv=Vv.localizationManager,Yv=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Bv(e,t)}(o,e);var t,n,i,r=Mv(o);function o(e){var t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),Fv(Hv(t=r.call(this,e)),"hideTooltipWhenOpen",!0),Fv(Hv(t),"hasTooltip",!0),Fv(Hv(t),"tooltipKey","acc_language_picker");var n=Dv(t.el.querySelectorAll(".menu-choice"));return t.itemCount=n.length,n.forEach((function(e){e.classList.contains("selected")&&(t.currentLangCode=e.dataset.langCode,t.currentIndex=e.dataset.index,t.selectedEl=e),t.onClickEl(e,(function(){return t.choiceClicked(e)}))})),t.onClickEl(t.toggleBtnEl,t.togglePanel),t}return t=o,(n=[{key:"choiceClicked",value:function(e){this.updateLanguage(e),this.hidePanel()}},{key:"updateSelection",value:function(){var e=Dv(this.el.querySelectorAll(".menu-choice")),t=Zv.getCurrentLangCode(),n=e.find((function(e){return e.dataset.langCode===t}));null!=n&&this.updateLanguage(n)}},{key:"updateLanguage",value:function(e){this.selectedEl.classList.remove("selected"),this.selectedEl.tabIndex=-1,this.selectedEl.setAttribute("aria-checked",!1),e.classList.add("selected"),e.tabIndex=0,e.setAttribute("aria-checked",!0),this.selectedEl=e;var t=e.dataset,n=t.langCode,i=t.index;this.currentLangCode=n,this.currentIndex=parseInt(i),Zv.setCurrentLanguage(this.currentLangCode)}},{key:"togglePanel",value:function(){this.isOpen?this.hidePanel():(this.showPanel(),this.dismissTooltip())}},{key:"handleKeyDown",value:function(e){var t=this.currentIndex;if(Gv.isDownishKey(e.which)?t++:Gv.isUpishKey(e.which)?t--:Gv.isHomeKey(e.which)?t=0:Gv.isEndKey(e.which)&&(t=this.itemCount-1),t>=this.itemCount&&(t=0),t<0&&(t=this.itemCount-1),t!==this.currentIndex){e.preventDefault();var n=this.el.querySelector('[data-index="'.concat(t,'"]'));this.updateLanguage(n),n.focus()}}},{key:"showPanel",value:function(){var e=this;this.isOpen=!0,Uv(this.el,"open"),this.view.updatePanelPosition(),this.toggleBtnEl.setAttribute("aria-expanded",!0),null!=this.view.updatePanelDepth&&this.view.updatePanelDepth(!0),this.selectedEl.focus(),Qv.setFocusRectOn(this.selectedEl),this.removeKeyListener=qv("keydown",(function(t){return e.handleKeyDown(t)}))}},{key:"hidePanel",value:function(){this.isOpen=!1,Kv(this.el,"open"),this.toggleBtnEl.setAttribute("aria-expanded",!1),this.removeKeyListener(),null!=this.view.updatePanelDepth&&this.view.updatePanelDepth(!1)}},{key:"onBlur",value:function(e){null!=e&&this.isOpen&&!this.el.contains(e.relatedTarget)&&(this.hidePanel(),Rv(Nv(o.prototype),"onBlur",this).call(this))}},{key:"onFocus",value:function(e){var t=e.target;if(this.el.contains(t))return Qv.setFocusRectOn(t),this.isFocused=!1,!1}}])&&Iv(t.prototype,n),i&&Iv(t,i),Object.defineProperty(t,"prototype",{writable:!1}),o}(cn),Xv=Yv,$v=DS,Jv=$v.utils.pxify,em=$v.localizationManager,tm="languagePicker";function nm(e){return function(e){if(Array.isArray(e))return im(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return im(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return im(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function im(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}ne.def(tm,Xv,(function(e){var t=ne.model,n=ke.getColor(e,".cs-topmenu-item.active .cs-panel","background-color"),i=ke.getColor(e,".cs-topmenu-item.active .cs-panel","border-top-color",".cs-base"),r=ke.getColor(e,".cs-brandhighlight-bg","background-color",".cs-base.cs-custom-theme"),o=ne.getNamespace(e).bottomBar;return{noUpdate:!0,attrs:{id:tm,class:"btn cs-button cs-settings"},overflow:"visible",w:30,parentAlign:"l",h:function(){return 30},x:function(){return this.left||0},y:"vertical-center",methods:{getLanguages:function(){var e=em.getLanguages(),t=em.getCurrentLangCode();return e.map((function(e,n){var i=e.langCode,o=e.displayNames;i=i.toLowerCase();var a=o.find((function(e){return e.langCode.toLowerCase()===i})).name;return'\n            <li tabindex="-1">\n              <div\n                class="cs-listitem menu-choice '.concat(i===t?"selected":"",'" \n                data-lang-code="').concat(i,'"\n                data-index="').concat(n,'"\n                tabindex="').concat(i===t?0:-1,'" \n                role="menuitemcheckbox" \n                aria-checked="').concat(i===t,'" \n                aria-label="').concat(a,'"\n              >\n                <div class="selected-icon" style="fill:').concat(r,';">\n                  <svg width="12" height="9" viewBox="0 0 12 9">\n                    <path d="M10 0.3 L11.5 1.7 L4.3 8.9 L0 4.7 L1.4 3.2 L4.3 6.1 L10 0.3 Z" stroke="none"></path>\n                  </svg>\n                </div>\n                <div class="label">').concat(a,"</div>\n              </div>\n            </li>\n          ")})).join("")},updatePanelPosition:function(){if(null!=o){var e=this.children.contentPanel.el;e.style.left=0;var t=e.getBoundingClientRect(),n=o.el.getBoundingClientRect(),i=0;t.right>n.right-ni&&(i=n.right-(t.right+ni)),t.left<n.left+ni&&(i=n.left-t.left+ni),e.style.left=Jv(i),this.children.contentPanelArrow.el.style.transform="translateX(".concat(Jv(0-i),")")}},updatePanelDepth:function(e){o.panelToggled("languagePicker",e)},updateDomStrings:function(){this.viewLogic.languagePickerTitleEl.textContent=t.getString("language_picker_title"),this.viewLogic.languagePickerWrapperEl.setAttribute("aria-label",t.getString("language_picker_title")),this.viewLogic.toggleBtnEl.setAttribute("aria-label",t.getString("acc_language_picker")),this.viewLogic.updateSelection()}},updateHook:function(){this.updatePanelPosition()},html:function(){var e=ne.model.getString("language_picker_title"),r='\n        <button data-ref="toggleBtn" aria-expanded="false" class="cs-button" aria-label="'.concat(t.getString("acc_language_picker"),'" tabIndex="0">\n          ').concat(br("languagePicker")(),'\n        </button>\n        <div \n          data-ref="contentPanel" \n          class="settings-panel" \n          tabindex="-1"\n        >\n          <div class="content">\n            <div data-ref=\'languagePickerTitle\' class=\'cs-heading title\'>').concat(e,"</div>\n            <ul data-ref='languagePickerWrapper' aria-label=\"").concat(e,'" role="menu">\n              ').concat(this.getLanguages(),'\n            </ul>\n          </div>\n          <div class="panel-down-arrow" style="height: 18px; width: 18px; position: absolute;">\n            <div data-ref="contentPanelArrow" style="height: 100%; width: 100%;">\n              ').concat(br("downArrow")(n,i),"\n            </div>\n          </div>\n        </div>\n        ");return r}}}));var rm=DS.constants.refs.FRAME,om=DS,am=om.detection,lm=(om.flagManager,om.captionsManager);function sm(e){return sm="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},sm(e)}function cm(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,(r=i.key,o=void 0,o=function(e,t){if("object"!==sm(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!==sm(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(r,"string"),"symbol"===sm(o)?o:String(o)),i)}var r,o}var um=DS,fm=um._,dm=um.pubSub,hm=um.events,pm=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.el=t.el,this.nameSpace=t.nameSpace,this.el.classList.add(this.nameSpace),fm.bindAll(this,"onSlideTransitionIn","onWindowClosing"),dm.on(hm.slide.ON_TRANSITION_IN,this.onSlideTransitionIn),dm.on(hm.window.CLOSING,this.onWindowClosing)}var t,n,i;return t=e,(n=[{key:"onSlideTransitionIn",value:function(e){e.windowId===this.nameSpace&&document.body.classList.add("showing-".concat(this.nameSpace.toLowerCase()))}},{key:"onWindowClosing",value:function(e){e===this.nameSpace&&document.body.classList.remove("showing-".concat(this.nameSpace.toLowerCase()))}}])&&cm(t.prototype,n),i&&cm(t,i),Object.defineProperty(t,"prototype",{writable:!1}),e}(),ym=DS.scaler,bm="lightBoxWrapper";function vm(e){return vm="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},vm(e)}function mm(e,t,n){return(t=function(e){var t=function(e,t){if("object"!==vm(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!==vm(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===vm(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}ne.def(bm,pm,(function(e){var t=ne.model,n=t.slideWidth,i=t.slideHeight,r=ne.getNamespace(e).lightBoxBottom;return{attrs:{id:bm,class:"cs-base cs-".concat(t.frame.default_layout," fn-").concat(t.frame.default_layout)},style:{transformOrigin:"0px 0px"},overflow:"visible",dimScale:function(){var e=.8*(Ae.innerWidth-t.getDockedWidth()),o=.8*Ae.innerHeight;return Math.min(e/n,o/(i+(null!=r?50:0)))},w:function(){var e=n*this.dimScale,t=ym.zoomMode&&n>e?9.5:0;return this.scrollW=t,ym.zoomMode?Math.min(n,e)+t:e},h:function(){var e=i*this.dimScale,t=ym.zoomMode&&i>e?9.5:0;this.scrollH=t;var n=ym.zoomMode?Math.min(i,e)+t:e;return n+(null!=r?50:0)},x:function(){return Ae.x+(Ae.innerWidth-t.getDockedWidth()-this.w)/2},y:function(){return Ae.y+(Ae.innerHeight-this.h)/2},add:!0}}));var gm="lightBoxSlide",wm=DS,Sm=wm.scaler,km=wm.MicroScrollBar,Om=wm.utils.pxify;ne.def(gm,ti,(function(e){var t,n=ne.getNamespace(e),i=n.lightBoxBottom,r=n.lightBoxWrapper;return mm(t={attrs:{class:"".concat(gm," window-slide ").concat(e,"-slide"),role:"dialog","aria-modal":!0},overflow:"scroll",winScale:function(){return Sm.zoomMode?1:r.dimScale},w:"100%"},"w",(function(){return this.parent.w-this.parent.scrollW})),mm(t,"h",(function(){return this.parent.h-(null!=i?50:0)-this.parent.scrollH})),mm(t,"z",1),mm(t,"bgColor","white"),mm(t,"add",!0),mm(t,"html",'<div id="slide-label-lightbox" data-ref="label" aria-live="polite"></div><main data-ref="container" class="slide-container" tabindex="-1"></main>'),mm(t,"childViews",["captionContainer"]),mm(t,"updateHook",(function(){var e=this;if(Sm.zoomMode){null==this.scrollbar&&(this.scrollbar=new km(this.el,"lightbox-slide"),this.hscrollbar=new km(this.el,"lightbox-slide",!0)),this.scrollbar.scrollBar.style.left=Om(this.x+this.w),this.scrollbar.scrollBar.style.top=Om(this.y),this.hscrollbar.scrollBar.style.left=Om(this.x),this.hscrollbar.scrollBar.style.top=Om(this.y+this.h),this.scrollbar.setEnabled(!0),this.hscrollbar.setEnabled(!0);window.requestAnimationFrame((function t(){e.el.getElementsByClassName("slide").length>0?(e.scrollbar.update(),e.hscrollbar.update()):window.requestAnimationFrame(t)}))}else this.scrollbar&&(this.scrollbar.setEnabled(!1),this.hscrollbar.setEnabled(!1));this.children.captionContainer.update()})),t}));function Em(e){return Em="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Em(e)}function Cm(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,(r=i.key,o=void 0,o=function(e,t){if("object"!==Em(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!==Em(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(r,"string"),"symbol"===Em(o)?o:String(o)),i)}var r,o}function xm(e,t){return xm=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},xm(e,t)}function Pm(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=Lm(e);if(t){var r=Lm(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return function(e,t){if(t&&("object"===Em(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,n)}}function Lm(e){return Lm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Lm(e)}ne.def("lightBox",(function(){return{attrs:{class:"lightbox cs-base"},x:0,y:0,z:1,w:"100%",h:"100%",overflow:"visible"}}));var Tm=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&xm(e,t)}(o,e);var t,n,i,r=Pm(o);function o(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),r.apply(this,arguments)}return t=o,(n=[{key:"getViewBox",value:function(){var e=this.view,t=e.w,n=e.h,i=e.x,r=e.y;return{x:i-=15,y:r-=15,w:t+=30,h:n+=30}}}])&&Cm(t.prototype,n),i&&Cm(t,i),Object.defineProperty(t,"prototype",{writable:!1}),o}(Xi),_m=Tm,jm="lightBoxClose";ne.def(jm,_m,(function(e){var t={windowId:e};return{tag:"button",ariaStringId:"close",attrs:{id:jm,class:"lightbox-close-btn-floating",tabindex:0,"z-index":999,"aria-label":DS.stringTabler.getString("close")},style:{overflow:"visible"},html:br("close"),y:function(){return Ae.y+35},x:function(){return Ae.x+Ae.innerWidth-ne.model.getDockedWidth()-(this.w+35)},model:t,w:20,h:20}}));ne.def("visibleOverlay",(function(){return{attrs:{class:"visible-overlay"},x:0,y:0,w:function(){return window.innerWidth},h:function(){return window.innerHeight},position:"fixed",bgColor:"rgba(0, 0, 0, 0.4)",add:!0}}));var Dm="lightBoxBlocker";ne.def(Dm,(function(e){var t=ne.getNamespace(e).lightBoxWrapper,n=function(){return"".concat(t.x-Ae.x,"px ").concat(t.w,"px ").concat(Ae.innerWidth+Ae.x-t.x-t.w,"px")},i=function(){return"".concat(t.y-Ae.y,"px ").concat(t.h,"px ").concat(Ae.innerHeight+Ae.y-t.y-t.h,"px")};return{attrs:{id:Dm,class:"frame-blocker-container"},x:function(){return Ae.x},y:function(){return Ae.y},z:oi,w:function(){return Ae.innerWidth},h:function(){return Ae.innerHeight},style:{"pointer-events":"none","grid-template-columns":n(),"grid-template-rows":i()},visible:!1,visibility:"no-reflow",html:'<div class="frame-blocker-slide"></div><div class="frame-blocker-top"></div><div class="frame-blocker-bottom"></div><div class="frame-blocker-right"></div><div class="frame-blocker-left"></div>',updateHook:function(){var e=this;window.requestAnimationFrame((function(){e.el.style["grid-template-columns"]=n(),e.el.style["grid-template-rows"]=i()}))},methods:{setBackgroundColor:function(e){this.el.childNodes.forEach((function(t){t.style.background=e}))}}}}));var Am="LightboxWnd",Im="lightBoxBottom";ne.def(Im,(function(e){var t=ne.model.rtl;return{tag:"nav",attrs:{id:Im,class:"lightbox option-pane"},x:0,y:function(){return this.parent.y+this.parent.h-this.h},w:"100%",h:50,updateHook:function(){this.hasAllChildren()&&this.flowChildren({alignChild:!0,bounds:{t:0,b:this.h,l:0,r:this.w},pad:4,reverse:t})},childVisibilityChangedHook:function(){this.update()}}}));var Rm="lightBoxControlsBlocker";ne.def(Rm,(function(e){var t=ne.getNamespace(e),n=t.lightBoxWrapper,i=(t.lightBoxBottom,function(){return"".concat(n.x-Ae.x,"px ").concat(n.w,"px ").concat(Ae.innerWidth+Ae.x-n.x-n.w,"px")}),r=function(){return"".concat(n.y-Ae.y,"px ").concat(n.h,"px ").concat(Ae.innerHeight+Ae.y-n.y-n.h,"px")};return{attrs:{id:Rm,class:"frame-blocker-container"},x:function(){return Ae.x},y:function(){return Ae.y},z:oi,w:function(){return Ae.innerWidth},h:function(){return Ae.innerHeight},style:{"pointer-events":"none","grid-template-columns":i(),"grid-template-rows":r()},visible:!1,visibility:"no-reflow",html:'<div class="frame-blocker-slide"></div><div class="frame-blocker-top"></div><div class="frame-blocker-bottom"></div><div class="frame-blocker-right"></div><div class="frame-blocker-left"></div>',updateHook:function(){var e=this;window.requestAnimationFrame((function(){e.el.style["grid-template-columns"]=i(),e.el.style["grid-template-rows"]=r()}))},methods:{setBackgroundColor:function(e){this.el.childNodes.forEach((function(t){t.style.background=e}))}}}}));var Bm="LightboxControlsWnd",Mm="printWrapper";ne.def(Mm,(function(e){return{attrs:{id:Mm,class:"print-window"},w:0,h:0,style:{overflow:"visible",transformOrigin:"0 0",background:"transparent"},scale:1,x:0,y:0,add:!0}}));var Hm=DS.constants.printSettings,Nm="printSlide";ne.def(Nm,ti,(function(e){var t=ne.model.slideWidth;return{attrs:{id:Nm,class:"cs-window window-slide ".concat(e,"-slide"),tabindex:-1},style:{overflow:"visible",transformOrigin:"0 0",background:"transparent",display:"none"},origin:"0 0",winScale:function(){return this.w/t},w:function(){var e=DS.detection.os,t=e.isAndroid,n=e.isIOS;return t?Hm.android.pageW:n?Hm.ios.pageW:Hm.desktop.pageW},h:0,x:0,y:0,z:1,html:'<div data-ref="container" class="slide-container"></div>'}}));var Fm="PrintWindow",Wm="messageWindowWrapper";ne.def(Wm,(function(e){var t=ne.model,n=t.preso.display().windows().find({id:e}),i=ne.getNamespace(DS.constants.refs.FRAME),r=i.slide,o=i.wrapper;return{attrs:{id:Wm,class:"cs-base cs-".concat(t.frame.default_layout," fn-").concat(t.frame.default_layout)},w:.8*n.get("width"),h:n.get("height"),style:{overflow:"visible",transformOrigin:"0 0",background:"transparent"},scale:function(){return o.scale},x:function(){var e=o.scale;return o.x+(r.x+(r.w-this.w)/2)*e},y:function(){var e=o.scale;return o.y+(r.y+(r.h-this.h)/2)*e},add:!0}}));var Vm="messageWindowSlide";ne.def(Vm,ti,(function(){return{attrs:{id:Vm,class:"cs-window","aria-labelledby":"slide-label-message",role:"alertdialog","aria-modal":!0,tabindex:-1},origin:"0 0",w:"100%",h:"100%",x:0,y:0,z:1,html:'<div id="slide-label-message" data-ref="label"></div><div data-ref="container" class="slide-container"></div>'}}));ne.def("overlay",(function(){return{attrs:{class:"overlay overlay-message"},x:0,y:0,w:function(){return window.innerWidth},h:function(){return window.innerHeight},position:"fixed",add:!0}}));var zm="MessageWnd",Um="messagePromptWrapper";function Km(e){return Km="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Km(e)}function Qm(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,(r=i.key,o=void 0,o=function(e,t){if("object"!==Km(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!==Km(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(r,"string"),"symbol"===Km(o)?o:String(o)),i)}var r,o}function Gm(){return Gm="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var i=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Ym(e)););return e}(e,t);if(i){var r=Object.getOwnPropertyDescriptor(i,t);return r.get?r.get.call(arguments.length<3?e:n):r.value}},Gm.apply(this,arguments)}function qm(e,t){return qm=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},qm(e,t)}function Zm(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=Ym(e);if(t){var r=Ym(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return function(e,t){if(t&&("object"===Km(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,n)}}function Ym(e){return Ym=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Ym(e)}ne.def(Um,(function(e){var t=ne.model,n=ne.getNamespace(DS.constants.refs.FRAME),i=n.slide,r=n.wrapper,o=t.rtl?"rtl":"";return{attrs:{id:Um,class:"cs-base cs-".concat(t.frame.default_layout," fn-").concat(t.frame.default_layout," ").concat(o)},w:336,h:210,style:{overflow:"visible",transformOrigin:"0 0",background:"transparent"},scale:function(){return r.scale},x:function(){var e=r.scale;return r.x+(i.x+(i.w-this.w)/2)*e},y:function(){var e=r.scale;return r.y+(i.y+(i.h-this.h)/2)*e},add:!0}}));var Xm=DS,$m=Xm.events,Jm=Xm.pubSub,eg=Xm.focusManager,tg=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&qm(e,t)}(o,e);var t,n,i,r=Zm(o);function o(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),(t=r.call(this,e)).onClickEl(t.okButtonEl,t.onClickOk),t}return t=o,(n=[{key:"setPromptId",value:function(e){this.promptId=e}},{key:"onClickOk",value:function(e){var t,n,i=null===(t=this.view)||void 0===t||null===(n=t.getClosingData)||void 0===n?void 0:n.call(t);Jm.trigger($m.prompt.CLOSING,this.promptId),Jm.trigger($m.presentation.ON_OBJECT_EVENT,"".concat(this.promptId,"_closed"),i)}},{key:"onFocus",value:function(e){var t=e.target;this.el.contains(t)&&eg.setFocusRectOn(t)}},{key:"teardown",value:function(){Gm(Ym(o.prototype),"teardown",this).call(this)}}])&&Qm(t.prototype,n),i&&Qm(t,i),Object.defineProperty(t,"prototype",{writable:!1}),o}(ti),ng=tg,ig=DS.MicroScrollBar,rg="invalidPromptSlide";ne.def(rg,ng,(function(e){var t=ne.model;return{attrs:{id:rg,class:"cs-window","aria-labelledby":"slide-label-message",role:"alertdialog","aria-modal":!0,tabindex:-1},origin:"0 0",w:"100%",h:"100%",x:0,y:0,z:1,html:function(){var e=t.getString("invalid_prompt_title"),n=t.getString("invalid_prompt_message"),i=t.getString("invalid_prompt_button");return'\n        <div class=\'message-window native-message-window\'>\n          <header class="message-window-header">\n            <h1 class="message-window-heading">'.concat(e,'</h1>\n          </header>\n          <div class="message-window-text-wrapper">\n            <div class=\'message-window-text\' data-ref="bodyText">').concat(n,'</div>\n          </div>\n          <div class=\'message-buttons\'>\n            <button data-ref="okButton" tabindex="0">').concat(i,"</button>\n          </div>\n        </div>\n      ")},childDef:function(){var e=this.children.bodyText.el;null==this.scrollbar&&null!=e&&(this.scrollbar=new ig(e,"message-window-text"))}}}));var og=DS,ag=og.MicroScrollBar,lg=(og.pubSub,og.events,"printPromptSlide");ne.def(lg,ng,(function(e){var t=ne.model;return{attrs:{id:lg,class:"cs-window","aria-labelledby":"slide-label-message",role:"alertdialog","aria-modal":!0,tabindex:-1},origin:"0 0",w:"100%",h:"100%",x:0,y:0,z:1,methods:{getClosingData:function(){var e=this.children.userNameInput.el,t=e.value;return e.value="",{_ActPrintPromptUsername:t}}},html:function(){var e=t.getString("print_prompt_title"),n=t.getString("print_prompt_message"),i=t.getString("print_prompt_button");return'\n        <div class=\'message-window native-message-window\'>\n          <header class="message-window-header">\n            <h1 class="message-window-heading">'.concat(e,'</h1>\n          </header>\n          <div class="message-window-text-wrapper">\n            <div class=\'message-window-text\' data-ref="bodyText">').concat(n,'</div>\n          </div>\n          <input data-ref="userNameInput" tabindex="0" type="text">\n          <div class=\'message-buttons\'>\n            <button data-ref="okButton" tabindex="0">').concat(i,"</button>\n          </div>\n        </div>\n      ")},childDef:function(){var e=this.children.bodyText.el;null==this.scrollbar&&null!=e&&(this.scrollbar=new ag(e,"message-window-text"))}}}));var sg=DS.MicroScrollBar,cg="timerPromptSlide";ne.def(cg,ng,(function(e){var t=ne.model;return{attrs:{id:cg,class:"cs-window","aria-labelledby":"slide-label-message",role:"alertdialog","aria-modal":!0,tabindex:-1},origin:"0 0",w:"100%",h:"100%",x:0,y:0,z:1,html:function(){var e=t.getString("timer_prompt_title"),n=t.getString("timer_prompt_message"),i=t.getString("timer_prompt_button");return'\n        <div class=\'message-window native-message-window\'>\n          <header class="message-window-header">\n            <h1 class="message-window-heading">'.concat(e,'</h1>\n          </header>\n          <div class="message-window-text-wrapper">\n            <div class=\'message-window-text\' data-ref="bodyText">').concat(n,'</div>\n          </div>\n          <div class=\'message-buttons\'>\n            <button data-ref="okButton" tabindex="0">').concat(i,"</button>\n          </div>\n        </div>\n      ")},childDef:function(){var e=this.children.bodyText.el;null==this.scrollbar&&null!=e&&(this.scrollbar=new sg(e,"message-window-text"))}}}));var ug,fg={InvalidPrompt:"invalidPromptSlide",PrintPrompt:"printPromptSlide",TimerPrompt:"timerPromptSlide"},dg=function(e){var t=e,n=fg[e];return{nameSpace:t,render:function(e){var i=ne.tree(t,["overlay",{messagePromptWrapper:[n]}]),r=ne.getNamespace(t);return r.slide=r[n],r.wrapper=r.messagePromptWrapper,{all:function(){return ne.update(i)},resize:function(){r.isAttached&&(r.overlay.update(),r.messagePromptWrapper.update())}}}}};function hg(e){return hg="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},hg(e)}function pg(e,t,n){return(t=function(e){var t=function(e,t){if("object"!==hg(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!==hg(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===hg(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var yg=dg("InvalidPrompt"),bg=yg.render,vg=yg.nameSpace,mg=dg("PrintPrompt"),gg=mg.render,wg=mg.nameSpace,Sg=dg("TimerPrompt"),kg=Sg.render,Og=Sg.nameSpace;!function(e,t){wt(e),function(e){var t=window.globalProvideData;if(window.globalProvideData=function(e,n){"frame"===e&&(null!=(He=JSON.parse(n)).localization&&DS.flagManager.localizationPlatform?(DS.localizationManager.registerFrameLanguageData(He.localization),DS.localizationManager.loadFrameData().then((function(e){Ne=e,St()}))):St(),window.globalProvideData=t)},ft.on($e,(function(e){new Qe,Me=new v(He,Ne,e),ne.setModel(Me),pt.initialize(Me),yt.initialize((function(e){return Me.getString(e)})),ke.initializeCssColorVars(),DS.frameModel=Me,DS.views=ne,(DS.frameModel.frame.chromeless||DS.detection.env.hideFrame)&&bt.addClass(document.body,"chromeless"),ft.trigger(tt)})),window.globals.useJson){var n=e.replace(".js",".json"),i=new XMLHttpRequest;return i.overrideMimeType("application/json"),i.onreadystatechange=function(){4===i.readyState&&200===i.status&&window.globalProvideData("frame",i.responseText.replace(/\\'/g,"'").replace(/\\"/g,'"'))},i.open("GET",n,!0),void i.send(null)}DS.loadScript(e)}(t)}((pg(ug={},rm,(function(e){var n,r=e.topTabsLeft,o=e.topTabsRight,a=e.sidebarOpts,l=a.timeEnabled,s=a.logoEnabled,c=a.html5_logo_url,u=e.frame.controlOptions.controls,f=u.closed_captions,d=u.settings,h=function(){return e.frame.chromeless||am.env.hideFrame},p=function(){return ne.tree(rm,[{wrapper:[h()?"slide":{frame:["frameBlocker",h()?null:"sidebarOverlay","slide",!h()&&e.frame.skip_nav_enabled?"skipnav":null,{bottomBar:[{playbackControls:["playPause","seek","reset"]},{miscControls:["volume"].concat(nm(f?["captions"]:[]),["playbackSpeed"],nm(d?["settings"]:[]))},{navControls:["fullScreenToggle","prev","next","submit"]}]},{sidebar:[].concat(nm(s&&c?["logo"]:[]),["hamburger","tabs","sidebarPanels"])},{topBar:["title",{topTabs:["arrowShadow","linksRight"]},{topEllipsis:["topEllipsisPanel"]}].concat(nm(l?["timer"]:[]))}]}]},"captionContainer"])},y=p();n=document.querySelectorAll(".panel > div[id*=content]"),Array.from(n).forEach((function(e){var n=e.parentNode.id;if("outline-panel"!=n){var i=n.replace("-panel","");new t(e,i,!1)}else{var r=e.querySelector("#outline-content"),o=e.querySelector("#search-results-content");null!=r&&new t(r,"outline",!1),null!=o&&new t(o,"search",!1)}}));var b=function(e){return function(t){return t.name===e}},v=function(e){return!r.some(b(e))&&!o.some(b(e))},m=function(t,n){if(n===rm){var r=function(e,t){var n=e.sidebarOpts.sidebarEnabled;return n&&(n=i(e.sidebarTabs,t)),n||e.sidebarOpts.logoEnabled&&DS.detection.theme.isClassic}(e,t),o=e.topbarHasTabs,a={playPause:t.pauseplay,reset:t.seekbar,seek:t.seekbar,playbackControls:t.pauseplay||t.reset||t.seekbar,fullScreenToggle:t.fullScreenToggle,playbackSpeed:t.playbackSpeedControl,next:t.next,prev:t.previous,submit:t.submit,skipnav:r||o,volume:t.volume,glossaryTab:t.glossary,glossaryPanel:t.glossary&&v("glossary"),glossaryLink:t.glossary,resourcesTab:t.resources,resourcesPanel:t.resources&&v("resources"),resourcesLink:t.resources,outlineTab:t.outline.enabled,outlinePanel:t.outline.enabled&&v("outline"),outlineLink:t.outline.enabled,transcriptTab:t.transcript,transcriptPanel:t.transcript&&v("transcript"),transcriptLink:t.transcript,sidebar:r,bottomBar:e.bottomBarOpts.bottomBarEnabled};ne.resetStates(rm),ne.updateVisibility(a,rm),ne.update(y)}};DS.pubSub.on(DS.events.frameModel.LAYOUT_CHANGED,m);var g=function(e){var t=e.kind,n=e.name,i=e.visible,r=e.enable,o=e.affectTabStop,a="toggle_window_control_visible"===t||"toggle_window_control"===t;"previous"===n&&(n="prev");var l=ne["enable_window_control"===t||"toggle_window_control"===t?"getTopNameSpace":"getFrameNameSpace"]()[n];null!=l&&(a?"toggle_window_control_visible"===t?(l.setVisibility(!l.visible),l.childVisibilityChanged()):l.setEnabled(!l.enabled,o):"set_window_control_visible"===t?(l.setVisibility(i),l.childVisibilityChanged()):l.setEnabled(r,o))};DS.pubSub.on(DS.events.navcontrols.CHANGED,g);var w=void 0!==DS.renderEngine.showPlayerPropertiesImagePreview,S=w;if(!window.globals.HAS_SLIDE&&!am.theme.isClassic){lm.isCaptionEnabled=function(){return captionsEnabled};var k=function(){var e=document.querySelector(".caption-container");if(null==e.querySelector(".caption")){e.style.display="none";var t=document.createElement("div");t.classList.add("caption"),t.style.margin="10px 0 0 0",t.style.bottom="0%";var n=document.createElement("p"),i=document.createElement("div"),r=DS.playerGlobals.player.getCaptionData();n.innerHTML=r.text.replace(/\r\n/g,"<br />"),i.appendChild(n),t.appendChild(i),e.appendChild(t),O(r)}},O=function(e){if(k(),null!=e){document.querySelector(".caption-container").style.fontSize="".concat(e.size,"%")||0;var t=document.querySelector(".caption"),n=parseInt(e.placement,10);t.style.fontFamily=e.font,n>50?(t.style.top="unset",t.style.bottom="".concat(100-n,"%")):(t.style.top=e.placement,t.style.bottom="unset");var i=t.querySelector("p");i.style.backgroundColor=e.backgroundColor,i.style.color=e.color,i.classList.remove("text-shadow-none"),e.textShadow&&"false"!==e.textShadow||i.classList.add("text-shadow-none"),DS.frameModel.frame.controlOptions.ccOptions=e}},E=function(e){k(),S=e;var t=w&&f&&S;document.querySelector(".caption-container").style.display=t?"block":"none"};DS.pubSub.on(DS.events.ccOptions.CHANGED,O),DS.pubSub.on(DS.events.captions.ENABLE,E),DS.pubSub.on(DS.events.captions.ENABLED,E)}var C=function(){DS.flagManager.playerSizeOption&&DS.detection.deviceView.isDesktop&&DS.frameWindow.onResize(),ne.update(y);var e=ne.getNamespace(rm).sidebarPanels;e&&null!=e.children&&e.updateChildren(!0)};DS.pubSub.on(DS.events.utilityWindow.DOCKED,(function(t,n){var i=n.dockedState,r=n.dockedWidth;e.setDocked(t,i,r),DS.pubSub.trigger(DS.events.frame.SCALE);var o=DS.utils.getPath(ne.getNamespace(rm),"hamburger.viewLogic");null!=o&&o.onResize()})),DS.pubSub.on(DS.events.frame.REFLOW,C);var x=function(){y=p(),DS.pubSub.trigger(DS.events.controlOptions.RESET)};return DS.pubSub.on(DS.events.frameModel.CHROMELESS_CHANGED,x),{all:C,resize:C,rerender:function(){ne.update(y,!0),ne.nameSpaces[rm].wrapper.updateChildren(!0),DS.renderEngine.createWindowFor(),window.globals.HAS_SLIDE||window.requestAnimationFrame((function(){DS.pubSub.trigger(DS.events.captions.ENABLED,S)}))},destroy:function(){DS.pubSub.off(DS.events.navcontrols.CHANGED,g),DS.pubSub.off(DS.events.frameModel.LAYOUT_CHANGED,m),DS.pubSub.off(DS.events.frame.REFLOW,C),DS.pubSub.off(DS.events.frameModel.CHROMELESS_CHANGED,x),ne.nameSpaces[rm].topLevelElements.forEach((function(e){return e.destroy()}))}}})),pg(ug,Am,(function(e){var t=ne.tree(Am,["lightBoxBlocker","visibleOverlay",{lightBoxWrapper:["lightBoxSlide","lightBox"]},"lightBoxClose"]),n=ne.getNamespace(Am);return n.slide=n.lightBoxSlide,n.wrapper=n.lightBoxWrapper,{all:function(){return ne.update(t)},resize:function(){n.isAttached&&ne.update(t)},pinchZoom:function(){return n.lightBoxBottom.update()}}})),pg(ug,Bm,(function(e){var t=ne.tree(Bm,["lightBoxControlsBlocker","visibleOverlay",{lightBoxWrapper:["lightBoxSlide",{lightBox:[{lightBoxBottom:["submit","next","prev","captions"]}]}]},"lightBoxClose"]),n=ne.getNamespace(Bm);n.slide=n.lightBoxSlide,n.wrapper=n.lightBoxWrapper;var i=function(e,n){if(n===Bm){var i={next:e.next,prev:e.previous,submit:e.submit};ne.resetStates(Bm),ne.updateVisibility(i,Bm),ne.update(t)}};return DS.pubSub.on(DS.events.frameModel.LAYOUT_CHANGED,i),i(e.currControlLayout),{all:function(){return ne.update(t)},resize:function(){n.isAttached&&ne.update(t)}}})),pg(ug,Fm,(function(e){ne.tree(Fm,[{printWrapper:["printSlide"]}]);var t=ne.getNamespace(Fm);return t.slide=t.printSlide,t.wrapper=t.printWrapper,{all:function(){},resize:function(){},pinchZoom:function(){}}})),pg(ug,zm,(function(e){var t=ne.tree(zm,["overlay",{messageWindowWrapper:["messageWindowSlide"]}]),n=ne.getNamespace(zm);return n.slide=n.messageWindowSlide,n.wrapper=n.messageWindowWrapper,{all:function(){return ne.update(t)},resize:function(){n.isAttached&&(n.overlay.update(),n.messageWindowWrapper.update())}}})),pg(ug,er,(function(e){var t=ne.tree(er,["visibleOverlay",{shortcutWrapper:["shortcutSlide"]},"shortcutClose"]),n=ne.getNamespace(er);return n.slide=n.shortcutSlide,n.wrapper=n.shortcutWrapper,{all:function(){return ne.update(t)},resize:function(){n.isAttached&&ne.update(t,!0)}}})),pg(ug,vg,bg),pg(ug,wg,gg),pg(ug,Og,kg),ug),"html5/data/js/frame.js")}();
